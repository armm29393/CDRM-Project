var DP=(b,N)=>()=>(N||b((N={exports:{}}).exports,N),N.exports);var U3=DP((B3,sh)=>{(function(){const N=document.createElement("link").relList;if(N&&N.supports&&N.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))I(x);new MutationObserver(x=>{for(const V of x)if(V.type==="childList")for(const M of V.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&I(M)}).observe(document,{childList:!0,subtree:!0});function U(x){const V={};return x.integrity&&(V.integrity=x.integrity),x.referrerPolicy&&(V.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?V.credentials="include":x.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function I(x){if(x.ep)return;x.ep=!0;const V=U(x);fetch(x.href,V)}})();var OP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RP(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var S0={exports:{}},rh={},w0={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function MP(){if(Kx)return Gt;Kx=1;var b=Symbol.for("react.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function A(le){return le===null||typeof le!="object"?null:(le=v&&le[v]||le["@@iterator"],typeof le=="function"?le:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,te={};function se(le,Ie,Lt){this.props=le,this.context=Ie,this.refs=te,this.updater=Lt||Y}se.prototype.isReactComponent={},se.prototype.setState=function(le,Ie){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,Ie,"setState")},se.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function Se(){}Se.prototype=se.prototype;function Ne(le,Ie,Lt){this.props=le,this.context=Ie,this.refs=te,this.updater=Lt||Y}var ue=Ne.prototype=new Se;ue.constructor=Ne,T(ue,se.prototype),ue.isPureReactComponent=!0;var be=Array.isArray,Qe=Object.prototype.hasOwnProperty,mt={current:null},un={key:!0,ref:!0,__self:!0,__source:!0};function Tn(le,Ie,Lt){var z,It={},kt=null,fn=null;if(Ie!=null)for(z in Ie.ref!==void 0&&(fn=Ie.ref),Ie.key!==void 0&&(kt=""+Ie.key),Ie)Qe.call(Ie,z)&&!un.hasOwnProperty(z)&&(It[z]=Ie[z]);var rn=arguments.length-2;if(rn===1)It.children=Lt;else if(1<rn){for(var mn=Array(rn),ni=0;ni<rn;ni++)mn[ni]=arguments[ni+2];It.children=mn}if(le&&le.defaultProps)for(z in rn=le.defaultProps,rn)It[z]===void 0&&(It[z]=rn[z]);return{$$typeof:b,type:le,key:kt,ref:fn,props:It,_owner:mt.current}}function vn(le,Ie){return{$$typeof:b,type:le.type,key:Ie,ref:le.ref,props:le.props,_owner:le._owner}}function L(le){return typeof le=="object"&&le!==null&&le.$$typeof===b}function oe(le){var Ie={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(Lt){return Ie[Lt]})}var de=/\/+/g;function qe(le,Ie){return typeof le=="object"&&le!==null&&le.key!=null?oe(""+le.key):Ie.toString(36)}function Oe(le,Ie,Lt,z,It){var kt=typeof le;(kt==="undefined"||kt==="boolean")&&(le=null);var fn=!1;if(le===null)fn=!0;else switch(kt){case"string":case"number":fn=!0;break;case"object":switch(le.$$typeof){case b:case N:fn=!0}}if(fn)return fn=le,It=It(fn),le=z===""?"."+qe(fn,0):z,be(It)?(Lt="",le!=null&&(Lt=le.replace(de,"$&/")+"/"),Oe(It,Ie,Lt,"",function(ni){return ni})):It!=null&&(L(It)&&(It=vn(It,Lt+(!It.key||fn&&fn.key===It.key?"":(""+It.key).replace(de,"$&/")+"/")+le)),Ie.push(It)),1;if(fn=0,z=z===""?".":z+":",be(le))for(var rn=0;rn<le.length;rn++){kt=le[rn];var mn=z+qe(kt,rn);fn+=Oe(kt,Ie,Lt,mn,It)}else if(mn=A(le),typeof mn=="function")for(le=mn.call(le),rn=0;!(kt=le.next()).done;)kt=kt.value,mn=z+qe(kt,rn++),fn+=Oe(kt,Ie,Lt,mn,It);else if(kt==="object")throw Ie=String(le),Error("Objects are not valid as a React child (found: "+(Ie==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":Ie)+"). If you meant to render a collection of children, use an array instead.");return fn}function ke(le,Ie,Lt){if(le==null)return le;var z=[],It=0;return Oe(le,z,"","",function(kt){return Ie.call(Lt,kt,It++)}),z}function _t(le){if(le._status===-1){var Ie=le._result;Ie=Ie(),Ie.then(function(Lt){(le._status===0||le._status===-1)&&(le._status=1,le._result=Lt)},function(Lt){(le._status===0||le._status===-1)&&(le._status=2,le._result=Lt)}),le._status===-1&&(le._status=0,le._result=Ie)}if(le._status===1)return le._result.default;throw le._result}var Dt={current:null},Ue={transition:null},gt={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Ue,ReactCurrentOwner:mt};function We(){throw Error("act(...) is not supported in production builds of React.")}return Gt.Children={map:ke,forEach:function(le,Ie,Lt){ke(le,function(){Ie.apply(this,arguments)},Lt)},count:function(le){var Ie=0;return ke(le,function(){Ie++}),Ie},toArray:function(le){return ke(le,function(Ie){return Ie})||[]},only:function(le){if(!L(le))throw Error("React.Children.only expected to receive a single React element child.");return le}},Gt.Component=se,Gt.Fragment=U,Gt.Profiler=x,Gt.PureComponent=Ne,Gt.StrictMode=I,Gt.Suspense=s,Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gt,Gt.act=We,Gt.cloneElement=function(le,Ie,Lt){if(le==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+le+".");var z=T({},le.props),It=le.key,kt=le.ref,fn=le._owner;if(Ie!=null){if(Ie.ref!==void 0&&(kt=Ie.ref,fn=mt.current),Ie.key!==void 0&&(It=""+Ie.key),le.type&&le.type.defaultProps)var rn=le.type.defaultProps;for(mn in Ie)Qe.call(Ie,mn)&&!un.hasOwnProperty(mn)&&(z[mn]=Ie[mn]===void 0&&rn!==void 0?rn[mn]:Ie[mn])}var mn=arguments.length-2;if(mn===1)z.children=Lt;else if(1<mn){rn=Array(mn);for(var ni=0;ni<mn;ni++)rn[ni]=arguments[ni+2];z.children=rn}return{$$typeof:b,type:le.type,key:It,ref:kt,props:z,_owner:fn}},Gt.createContext=function(le){return le={$$typeof:M,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},le.Provider={$$typeof:V,_context:le},le.Consumer=le},Gt.createElement=Tn,Gt.createFactory=function(le){var Ie=Tn.bind(null,le);return Ie.type=le,Ie},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(le){return{$$typeof:h,render:le}},Gt.isValidElement=L,Gt.lazy=function(le){return{$$typeof:d,_payload:{_status:-1,_result:le},_init:_t}},Gt.memo=function(le,Ie){return{$$typeof:l,type:le,compare:Ie===void 0?null:Ie}},Gt.startTransition=function(le){var Ie=Ue.transition;Ue.transition={};try{le()}finally{Ue.transition=Ie}},Gt.unstable_act=We,Gt.useCallback=function(le,Ie){return Dt.current.useCallback(le,Ie)},Gt.useContext=function(le){return Dt.current.useContext(le)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(le){return Dt.current.useDeferredValue(le)},Gt.useEffect=function(le,Ie){return Dt.current.useEffect(le,Ie)},Gt.useId=function(){return Dt.current.useId()},Gt.useImperativeHandle=function(le,Ie,Lt){return Dt.current.useImperativeHandle(le,Ie,Lt)},Gt.useInsertionEffect=function(le,Ie){return Dt.current.useInsertionEffect(le,Ie)},Gt.useLayoutEffect=function(le,Ie){return Dt.current.useLayoutEffect(le,Ie)},Gt.useMemo=function(le,Ie){return Dt.current.useMemo(le,Ie)},Gt.useReducer=function(le,Ie,Lt){return Dt.current.useReducer(le,Ie,Lt)},Gt.useRef=function(le){return Dt.current.useRef(le)},Gt.useState=function(le){return Dt.current.useState(le)},Gt.useSyncExternalStore=function(le,Ie,Lt){return Dt.current.useSyncExternalStore(le,Ie,Lt)},Gt.useTransition=function(){return Dt.current.useTransition()},Gt.version="18.3.1",Gt}var Hx;function M0(){return Hx||(Hx=1,w0.exports=MP()),w0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function LP(){if(qx)return rh;qx=1;var b=M0(),N=Symbol.for("react.element"),U=Symbol.for("react.fragment"),I=Object.prototype.hasOwnProperty,x=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function M(h,s,l){var d,v={},A=null,Y=null;l!==void 0&&(A=""+l),s.key!==void 0&&(A=""+s.key),s.ref!==void 0&&(Y=s.ref);for(d in s)I.call(s,d)&&!V.hasOwnProperty(d)&&(v[d]=s[d]);if(h&&h.defaultProps)for(d in s=h.defaultProps,s)v[d]===void 0&&(v[d]=s[d]);return{$$typeof:N,type:h,key:A,ref:Y,props:v,_owner:x.current}}return rh.Fragment=U,rh.jsx=M,rh.jsxs=M,rh}var zx;function bP(){return zx||(zx=1,S0.exports=LP()),S0.exports}var ge=bP(),we=M0(),Mg={},T0={exports:{}},Hi={},x0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function NP(){return Gx||(Gx=1,function(b){function N(Ue,gt){var We=Ue.length;Ue.push(gt);e:for(;0<We;){var le=We-1>>>1,Ie=Ue[le];if(0<x(Ie,gt))Ue[le]=gt,Ue[We]=Ie,We=le;else break e}}function U(Ue){return Ue.length===0?null:Ue[0]}function I(Ue){if(Ue.length===0)return null;var gt=Ue[0],We=Ue.pop();if(We!==gt){Ue[0]=We;e:for(var le=0,Ie=Ue.length,Lt=Ie>>>1;le<Lt;){var z=2*(le+1)-1,It=Ue[z],kt=z+1,fn=Ue[kt];if(0>x(It,We))kt<Ie&&0>x(fn,It)?(Ue[le]=fn,Ue[kt]=We,le=kt):(Ue[le]=It,Ue[z]=We,le=z);else if(kt<Ie&&0>x(fn,We))Ue[le]=fn,Ue[kt]=We,le=kt;else break e}}return gt}function x(Ue,gt){var We=Ue.sortIndex-gt.sortIndex;return We!==0?We:Ue.id-gt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var V=performance;b.unstable_now=function(){return V.now()}}else{var M=Date,h=M.now();b.unstable_now=function(){return M.now()-h}}var s=[],l=[],d=1,v=null,A=3,Y=!1,T=!1,te=!1,se=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,Ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(Ue){for(var gt=U(l);gt!==null;){if(gt.callback===null)I(l);else if(gt.startTime<=Ue)I(l),gt.sortIndex=gt.expirationTime,N(s,gt);else break;gt=U(l)}}function be(Ue){if(te=!1,ue(Ue),!T)if(U(s)!==null)T=!0,_t(Qe);else{var gt=U(l);gt!==null&&Dt(be,gt.startTime-Ue)}}function Qe(Ue,gt){T=!1,te&&(te=!1,Se(Tn),Tn=-1),Y=!0;var We=A;try{for(ue(gt),v=U(s);v!==null&&(!(v.expirationTime>gt)||Ue&&!oe());){var le=v.callback;if(typeof le=="function"){v.callback=null,A=v.priorityLevel;var Ie=le(v.expirationTime<=gt);gt=b.unstable_now(),typeof Ie=="function"?v.callback=Ie:v===U(s)&&I(s),ue(gt)}else I(s);v=U(s)}if(v!==null)var Lt=!0;else{var z=U(l);z!==null&&Dt(be,z.startTime-gt),Lt=!1}return Lt}finally{v=null,A=We,Y=!1}}var mt=!1,un=null,Tn=-1,vn=5,L=-1;function oe(){return!(b.unstable_now()-L<vn)}function de(){if(un!==null){var Ue=b.unstable_now();L=Ue;var gt=!0;try{gt=un(!0,Ue)}finally{gt?qe():(mt=!1,un=null)}}else mt=!1}var qe;if(typeof Ne=="function")qe=function(){Ne(de)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,ke=Oe.port2;Oe.port1.onmessage=de,qe=function(){ke.postMessage(null)}}else qe=function(){se(de,0)};function _t(Ue){un=Ue,mt||(mt=!0,qe())}function Dt(Ue,gt){Tn=se(function(){Ue(b.unstable_now())},gt)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(Ue){Ue.callback=null},b.unstable_continueExecution=function(){T||Y||(T=!0,_t(Qe))},b.unstable_forceFrameRate=function(Ue){0>Ue||125<Ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vn=0<Ue?Math.floor(1e3/Ue):5},b.unstable_getCurrentPriorityLevel=function(){return A},b.unstable_getFirstCallbackNode=function(){return U(s)},b.unstable_next=function(Ue){switch(A){case 1:case 2:case 3:var gt=3;break;default:gt=A}var We=A;A=gt;try{return Ue()}finally{A=We}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(Ue,gt){switch(Ue){case 1:case 2:case 3:case 4:case 5:break;default:Ue=3}var We=A;A=Ue;try{return gt()}finally{A=We}},b.unstable_scheduleCallback=function(Ue,gt,We){var le=b.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?le+We:le):We=le,Ue){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=We+Ie,Ue={id:d++,callback:gt,priorityLevel:Ue,startTime:We,expirationTime:Ie,sortIndex:-1},We>le?(Ue.sortIndex=We,N(l,Ue),U(s)===null&&Ue===U(l)&&(te?(Se(Tn),Tn=-1):te=!0,Dt(be,We-le))):(Ue.sortIndex=Ie,N(s,Ue),T||Y||(T=!0,_t(Qe))),Ue},b.unstable_shouldYield=oe,b.unstable_wrapCallback=function(Ue){var gt=A;return function(){var We=A;A=gt;try{return Ue.apply(this,arguments)}finally{A=We}}}}(I0)),I0}var Wx;function _P(){return Wx||(Wx=1,x0.exports=NP()),x0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function UP(){if(Xx)return Hi;Xx=1;var b=M0(),N=_P();function U(u){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)c+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I=new Set,x={};function V(u,c){M(u,c),M(u+"Capture",c)}function M(u,c){for(x[u]=c,u=0;u<c.length;u++)I.add(c[u])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function A(u){return s.call(v,u)?!0:s.call(d,u)?!1:l.test(u)?v[u]=!0:(d[u]=!0,!1)}function Y(u,c,y,S){if(y!==null&&y.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return S?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function T(u,c,y,S){if(c===null||typeof c>"u"||Y(u,c,y,S))return!0;if(S)return!1;if(y!==null)switch(y.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function te(u,c,y,S,k,D,B){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=S,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=u,this.type=c,this.sanitizeURL=D,this.removeEmptyString=B}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){se[u]=new te(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var c=u[0];se[c]=new te(c,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){se[u]=new te(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){se[u]=new te(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){se[u]=new te(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){se[u]=new te(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){se[u]=new te(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){se[u]=new te(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){se[u]=new te(u,5,!1,u.toLowerCase(),null,!1,!1)});var Se=/[\-:]([a-z])/g;function Ne(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var c=u.replace(Se,Ne);se[c]=new te(c,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var c=u.replace(Se,Ne);se[c]=new te(c,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var c=u.replace(Se,Ne);se[c]=new te(c,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){se[u]=new te(u,1,!1,u.toLowerCase(),null,!1,!1)}),se.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){se[u]=new te(u,1,!1,u.toLowerCase(),null,!0,!0)});function ue(u,c,y,S){var k=se.hasOwnProperty(c)?se[c]:null;(k!==null?k.type!==0:S||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,y,k,S)&&(y=null),S||k===null?A(c)&&(y===null?u.removeAttribute(c):u.setAttribute(c,""+y)):k.mustUseProperty?u[k.propertyName]=y===null?k.type===3?!1:"":y:(c=k.attributeName,S=k.attributeNamespace,y===null?u.removeAttribute(c):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,S?u.setAttributeNS(S,c,y):u.setAttribute(c,y))))}var be=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qe=Symbol.for("react.element"),mt=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),Tn=Symbol.for("react.strict_mode"),vn=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),oe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Dt=Symbol.for("react.offscreen"),Ue=Symbol.iterator;function gt(u){return u===null||typeof u!="object"?null:(u=Ue&&u[Ue]||u["@@iterator"],typeof u=="function"?u:null)}var We=Object.assign,le;function Ie(u){if(le===void 0)try{throw Error()}catch(y){var c=y.stack.trim().match(/\n( *(at )?)/);le=c&&c[1]||""}return`
`+le+u}var Lt=!1;function z(u,c){if(!u||Lt)return"";Lt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ve){var S=ve}Reflect.construct(u,[],c)}else{try{c.call()}catch(ve){S=ve}u.call(c.prototype)}else{try{throw Error()}catch(ve){S=ve}u()}}catch(ve){if(ve&&S&&typeof ve.stack=="string"){for(var k=ve.stack.split(`
`),D=S.stack.split(`
`),B=k.length-1,J=D.length-1;1<=B&&0<=J&&k[B]!==D[J];)J--;for(;1<=B&&0<=J;B--,J--)if(k[B]!==D[J]){if(B!==1||J!==1)do if(B--,J--,0>J||k[B]!==D[J]){var ee=`
`+k[B].replace(" at new "," at ");return u.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",u.displayName)),ee}while(1<=B&&0<=J);break}}}finally{Lt=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?Ie(u):""}function It(u){switch(u.tag){case 5:return Ie(u.type);case 16:return Ie("Lazy");case 13:return Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 2:case 15:return u=z(u.type,!1),u;case 11:return u=z(u.type.render,!1),u;case 1:return u=z(u.type,!0),u;default:return""}}function kt(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case un:return"Fragment";case mt:return"Portal";case vn:return"Profiler";case Tn:return"StrictMode";case qe:return"Suspense";case Oe:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case oe:return(u.displayName||"Context")+".Consumer";case L:return(u._context.displayName||"Context")+".Provider";case de:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ke:return c=u.displayName||null,c!==null?c:kt(u.type)||"Memo";case _t:c=u._payload,u=u._init;try{return kt(u(c))}catch{}}return null}function fn(u){var c=u.type;switch(u.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=c.render,u=u.displayName||u.name||"",c.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kt(c);case 8:return c===Tn?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function rn(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function mn(u){var c=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ni(u){var c=mn(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,c),S=""+u[c];if(!u.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,D=y.set;return Object.defineProperty(u,c,{configurable:!0,get:function(){return k.call(this)},set:function(B){S=""+B,D.call(this,B)}}),Object.defineProperty(u,c,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(B){S=""+B},stopTracking:function(){u._valueTracker=null,delete u[c]}}}}function ec(u){u._valueTracker||(u._valueTracker=ni(u))}function Re(u){if(!u)return!1;var c=u._valueTracker;if(!c)return!0;var y=c.getValue(),S="";return u&&(S=mn(u)?u.checked?"true":"false":u.value),u=S,u!==y?(c.setValue(u),!0):!1}function tc(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function qf(u,c){var y=c.checked;return We({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function Gu(u,c){var y=c.defaultValue==null?"":c.defaultValue,S=c.checked!=null?c.checked:c.defaultChecked;y=rn(c.value!=null?c.value:y),u._wrapperState={initialChecked:S,initialValue:y,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ls(u,c){c=c.checked,c!=null&&ue(u,"checked",c,!1)}function Wu(u,c){Ls(u,c);var y=rn(c.value),S=c.type;if(y!=null)S==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}c.hasOwnProperty("value")?mi(u,c.type,y):c.hasOwnProperty("defaultValue")&&mi(u,c.type,rn(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(u.defaultChecked=!!c.defaultChecked)}function ph(u,c,y){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var S=c.type;if(!(S!=="submit"&&S!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+u._wrapperState.initialValue,y||c===u.value||(u.value=c),u.defaultValue=c}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function mi(u,c,y){(c!=="number"||tc(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var ft=Array.isArray;function Si(u,c,y,S){if(u=u.options,c){c={};for(var k=0;k<y.length;k++)c["$"+y[k]]=!0;for(y=0;y<u.length;y++)k=c.hasOwnProperty("$"+u[y].value),u[y].selected!==k&&(u[y].selected=k),k&&S&&(u[y].defaultSelected=!0)}else{for(y=""+rn(y),c=null,k=0;k<u.length;k++){if(u[k].value===y){u[k].selected=!0,S&&(u[k].defaultSelected=!0);return}c!==null||u[k].disabled||(c=u[k])}c!==null&&(c.selected=!0)}}function zf(u,c){if(c.dangerouslySetInnerHTML!=null)throw Error(U(91));return We({},c,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Vg(u,c){var y=c.value;if(y==null){if(y=c.children,c=c.defaultValue,y!=null){if(c!=null)throw Error(U(92));if(ft(y)){if(1<y.length)throw Error(U(93));y=y[0]}c=y}c==null&&(c=""),y=c}u._wrapperState={initialValue:rn(y)}}function Fg(u,c){var y=rn(c.value),S=rn(c.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),c.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),S!=null&&(u.defaultValue=""+S)}function Gf(u){var c=u.textContent;c===u._wrapperState.initialValue&&c!==""&&c!==null&&(u.value=c)}function bs(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(u,c){return u==null||u==="http://www.w3.org/1999/xhtml"?bs(c):u==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Ns,hh=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,y,S,k){MSApp.execUnsafeLocalFunction(function(){return u(c,y,S,k)})}:u}(function(u,c){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=c;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ns.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;c.firstChild;)u.appendChild(c.firstChild)}});function _s(u,c){if(c){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=c;return}}u.textContent=c}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(u){bn.forEach(function(c){c=c+u.charAt(0).toUpperCase()+u.substring(1),Ul[c]=Ul[u]})});function du(u,c,y){return c==null||typeof c=="boolean"||c===""?"":y||typeof c!="number"||c===0||Ul.hasOwnProperty(u)&&Ul[u]?(""+c).trim():c+"px"}function nc(u,c){u=u.style;for(var y in c)if(c.hasOwnProperty(y)){var S=y.indexOf("--")===0,k=du(y,c[y],S);y==="float"&&(y="cssFloat"),S?u.setProperty(y,k):u[y]=k}}var Wf=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(u,c){if(c){if(Wf[u]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(U(137,u));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(U(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(U(61))}if(c.style!=null&&typeof c.style!="object")throw Error(U(62))}}function Xf(u,c){if(u.indexOf("-")===-1)return typeof c.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=null;function rc(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Xu=null,pu=null,qi=null;function po(u){if(u=sl(u)){if(typeof Xu!="function")throw Error(U(280));var c=u.stateNode;c&&(c=ca(c),Xu(u.stateNode,u.type,c))}}function Kr(u){pu?qi?qi.push(u):qi=[u]:pu=u}function Ze(){if(pu){var u=pu,c=qi;if(qi=pu=null,po(u),c)for(u=0;u<c.length;u++)po(c[u])}}function $f(u,c){return u(c)}function vr(){}var Us=!1;function jl(u,c,y){if(Us)return u(c,y);Us=!0;try{return $f(u,c,y)}finally{Us=!1,(pu!==null||qi!==null)&&(vr(),Ze())}}function Zn(u,c){var y=u.stateNode;if(y===null)return null;var S=ca(y);if(S===null)return null;y=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(U(231,c,typeof y));return y}var hu=!1;if(h)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){hu=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{hu=!1}function Yu(u,c,y,S,k,D,B,J,ee){var ve=Array.prototype.slice.call(arguments,3);try{c.apply(y,ve)}catch(Ee){this.onError(Ee)}}var zn=!1,js=null,Bs=!1,Hr=null,yh={onError:function(u){zn=!0,js=u}};function Vs(u,c,y,S,k,D,B,J,ee){zn=!1,js=null,Yu.apply(yh,arguments)}function X(u,c,y,S,k,D,B,J,ee){if(Vs.apply(this,arguments),zn){if(zn){var ve=js;zn=!1,js=null}else throw Error(U(198));Bs||(Bs=!0,Hr=ve)}}function wi(u){var c=u,y=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,(c.flags&4098)!==0&&(y=c.return),u=c.return;while(u)}return c.tag===3?y:null}function Jf(u){if(u.tag===13){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function ic(u){if(wi(u)!==u)throw Error(U(188))}function Fs(u){var c=u.alternate;if(!c){if(c=wi(u),c===null)throw Error(U(188));return c!==u?null:u}for(var y=u,S=c;;){var k=y.return;if(k===null)break;var D=k.alternate;if(D===null){if(S=k.return,S!==null){y=S;continue}break}if(k.child===D.child){for(D=k.child;D;){if(D===y)return ic(k),u;if(D===S)return ic(k),c;D=D.sibling}throw Error(U(188))}if(y.return!==S.return)y=k,S=D;else{for(var B=!1,J=k.child;J;){if(J===y){B=!0,y=k,S=D;break}if(J===S){B=!0,S=k,y=D;break}J=J.sibling}if(!B){for(J=D.child;J;){if(J===y){B=!0,y=D,S=k;break}if(J===S){B=!0,S=D,y=k;break}J=J.sibling}if(!B)throw Error(U(189))}}if(y.alternate!==S)throw Error(U(190))}if(y.tag!==3)throw Error(U(188));return y.stateNode.current===y?u:c}function Ks(u){return u=Fs(u),u!==null?Hs(u):null}function Hs(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var c=Hs(u);if(c!==null)return c;u=u.sibling}return null}var Bl=N.unstable_scheduleCallback,st=N.unstable_cancelCallback,zi=N.unstable_shouldYield,qs=N.unstable_requestPaint,xn=N.unstable_now,Gi=N.unstable_getCurrentPriorityLevel,Or=N.unstable_ImmediatePriority,zs=N.unstable_UserBlockingPriority,qr=N.unstable_NormalPriority,mr=N.unstable_LowPriority,Gs=N.unstable_IdlePriority,yo=null,zr=null;function Ti(u){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(yo,u,void 0,(u.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:gh,Qf=Math.log,yu=Math.LN2;function gh(u){return u>>>=0,u===0?32:31-(Qf(u)/yu|0)|0}var gu=64,vu=4194304;function $u(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Tt(u,c){var y=u.pendingLanes;if(y===0)return 0;var S=0,k=u.suspendedLanes,D=u.pingedLanes,B=y&268435455;if(B!==0){var J=B&~k;J!==0?S=$u(J):(D&=B,D!==0&&(S=$u(D)))}else B=y&~k,B!==0?S=$u(B):D!==0&&(S=$u(D));if(S===0)return 0;if(c!==0&&c!==S&&(c&k)===0&&(k=S&-S,D=c&-c,k>=D||k===16&&(D&4194240)!==0))return c;if((S&4)!==0&&(S|=y&16),c=u.entangledLanes,c!==0)for(u=u.entanglements,c&=S;0<c;)y=31-Gr(c),k=1<<y,S|=u[y],c&=~k;return S}function vh(u,c){switch(u){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(u,c){for(var y=u.suspendedLanes,S=u.pingedLanes,k=u.expirationTimes,D=u.pendingLanes;0<D;){var B=31-Gr(D),J=1<<B,ee=k[B];ee===-1?((J&y)===0||(J&S)!==0)&&(k[B]=vh(J,c)):ee<=c&&(u.expiredLanes|=J),D&=~J}}function oc(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function uc(){var u=gu;return gu<<=1,(gu&4194240)===0&&(gu=64),u}function mu(u){for(var c=[],y=0;31>y;y++)c.push(u);return c}function Wi(u,c,y){u.pendingLanes|=c,c!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,c=31-Gr(c),u[c]=y}function Jt(u,c){var y=u.pendingLanes&~c;u.pendingLanes=c,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=c,u.mutableReadLanes&=c,u.entangledLanes&=c,c=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var k=31-Gr(y),D=1<<k;c[k]=0,S[k]=-1,u[k]=-1,y&=~D}}function go(u,c){var y=u.entangledLanes|=c;for(u=u.entanglements;y;){var S=31-Gr(y),k=1<<S;k&c|u[S]&c&&(u[S]|=c),y&=~k}}var Ut=0;function ri(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var lc,Xs,rr,Zf,Ju,Su=!1,vo=[],Wr=null,xi=null,ii=null,Ys=new Map,Rr=new Map,Xr=[],ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(u,c){switch(u){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Ys.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(c.pointerId)}}function Xi(u,c,y,S,k,D){return u===null||u.nativeEvent!==D?(u={blockedOn:c,domEventName:y,eventSystemFlags:S,nativeEvent:D,targetContainers:[k]},c!==null&&(c=sl(c),c!==null&&Xs(c)),u):(u.eventSystemFlags|=S,c=u.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),u)}function td(u,c,y,S,k){switch(c){case"focusin":return Wr=Xi(Wr,u,c,y,S,k),!0;case"dragenter":return xi=Xi(xi,u,c,y,S,k),!0;case"mouseover":return ii=Xi(ii,u,c,y,S,k),!0;case"pointerover":var D=k.pointerId;return Ys.set(D,Xi(Ys.get(D)||null,u,c,y,S,k)),!0;case"gotpointercapture":return D=k.pointerId,Rr.set(D,Xi(Rr.get(D)||null,u,c,y,S,k)),!0}return!1}function mh(u){var c=To(u.target);if(c!==null){var y=wi(c);if(y!==null){if(c=y.tag,c===13){if(c=Jf(y),c!==null){u.blockedOn=c,Ju(u.priority,function(){rr(y)});return}}else if(c===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Qu(u){if(u.blockedOn!==null)return!1;for(var c=u.targetContainers;0<c.length;){var y=Ei(u.domEventName,u.eventSystemFlags,c[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var S=new y.constructor(y.type,y);Yf=S,y.target.dispatchEvent(S),Yf=null}else return c=sl(y),c!==null&&Xs(c),u.blockedOn=y,!1;c.shift()}return!0}function nd(u,c,y){Qu(u)&&y.delete(c)}function Rt(){Su=!1,Wr!==null&&Qu(Wr)&&(Wr=null),xi!==null&&Qu(xi)&&(xi=null),ii!==null&&Qu(ii)&&(ii=null),Ys.forEach(nd),Rr.forEach(nd)}function ln(u,c){u.blockedOn===c&&(u.blockedOn=null,Su||(Su=!0,N.unstable_scheduleCallback(N.unstable_NormalPriority,Rt)))}function er(u){function c(k){return ln(k,u)}if(0<vo.length){ln(vo[0],u);for(var y=1;y<vo.length;y++){var S=vo[y];S.blockedOn===u&&(S.blockedOn=null)}}for(Wr!==null&&ln(Wr,u),xi!==null&&ln(xi,u),ii!==null&&ln(ii,u),Ys.forEach(c),Rr.forEach(c),y=0;y<Xr.length;y++)S=Xr[y],S.blockedOn===u&&(S.blockedOn=null);for(;0<Xr.length&&(y=Xr[0],y.blockedOn===null);)mh(y),y.blockedOn===null&&Xr.shift()}var Sr=be.ReactCurrentBatchConfig,dn=!0;function Ii(u,c,y,S){var k=Ut,D=Sr.transition;Sr.transition=null;try{Ut=1,Yi(u,c,y,S)}finally{Ut=k,Sr.transition=D}}function rt(u,c,y,S){var k=Ut,D=Sr.transition;Sr.transition=null;try{Ut=4,Yi(u,c,y,S)}finally{Ut=k,Sr.transition=D}}function Yi(u,c,y,S){if(dn){var k=Ei(u,c,y,S);if(k===null)Eu(u,c,S,$s,y),Vl(u,S);else if(td(k,u,c,y,S))S.stopPropagation();else if(Vl(u,S),c&4&&-1<ed.indexOf(u)){for(;k!==null;){var D=sl(k);if(D!==null&&lc(D),D=Ei(u,c,y,S),D===null&&Eu(u,c,S,$s,y),D===k)break;k=D}k!==null&&S.stopPropagation()}else Eu(u,c,S,null,y)}}var $s=null;function Ei(u,c,y,S){if($s=null,u=rc(S),u=To(u),u!==null)if(c=wi(u),c===null)u=null;else if(y=c.tag,y===13){if(u=Jf(c),u!==null)return u;u=null}else if(y===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;u=null}else c!==u&&(u=null);return $s=u,null}function Uo(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gi()){case Or:return 1;case zs:return 4;case qr:case mr:return 16;case Gs:return 536870912;default:return 16}default:return 16}}var ir=null,Fl=null,or=null;function mo(){if(or)return or;var u,c=Fl,y=c.length,S,k="value"in ir?ir.value:ir.textContent,D=k.length;for(u=0;u<y&&c[u]===k[u];u++);var B=y-u;for(S=1;S<=B&&c[y-S]===k[D-S];S++);return or=k.slice(u,1<S?1-S:void 0)}function Nn(u){var c=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&c===13&&(u=13)):u=c,u===10&&(u=13),32<=u||u===13?u:0}function Zu(){return!0}function Js(){return!1}function oi(u){function c(y,S,k,D,B){this._reactName=y,this._targetInst=k,this.type=S,this.nativeEvent=D,this.target=B,this.currentTarget=null;for(var J in u)u.hasOwnProperty(J)&&(y=u[J],this[J]=y?y(D):D[J]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Zu:Js,this.isPropagationStopped=Js,this}return We(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),c}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=oi(jo),Kl=We({},jo,{view:0,detail:0}),Sh=oi(Kl),ac,Qs,el,Hl=We({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==el&&(el&&u.type==="mousemove"?(ac=u.screenX-el.screenX,Qs=u.screenY-el.screenY):Qs=ac=0,el=u),ac)},movementY:function(u){return"movementY"in u?u.movementY:Qs}}),qt=oi(Hl),wh=We({},Hl,{dataTransfer:0}),cc=oi(wh),fc=We({},Kl,{relatedTarget:0}),dc=oi(fc),Kg=We({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Th=oi(Kg),Zs=We({},jo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),pc=oi(Zs),So=We({},jo,{data:0}),hc=oi(So),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ta={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(u){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(u):(u=ta[u])?!!c[u]:!1}function nl(){return tl}var rl=We({},Kl,{key:function(u){if(u.key){var c=ea[u.key]||u.key;if(c!=="Unidentified")return c}return u.type==="keypress"?(u=Nn(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?xh[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(u){return u.type==="keypress"?Nn(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Nn(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),rd=oi(rl),Ih=We({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=oi(Ih),Eh=We({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),ql=oi(Eh),od=We({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zl=oi(od),Ch=We({},Hl,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Bo=oi(Ch),Hg=[9,13,27,32],wo=h&&"CompositionEvent"in window,ui=null;h&&"documentMode"in document&&(ui=document.documentMode);var wu=h&&"TextEvent"in window&&!ui,yc=h&&(!wo||ui&&8<ui&&11>=ui),Vo=" ",gc=!1;function vc(u,c){switch(u){case"keyup":return Hg.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Gl=!1;function pn(u,c){switch(u){case"compositionend":return ud(c);case"keypress":return c.which!==32?null:(gc=!0,Vo);case"textInput":return u=c.data,u===Vo&&gc?null:u;default:return null}}function mc(u,c){if(Gl)return u==="compositionend"||!wo&&vc(u,c)?(u=mo(),or=Fl=ir=null,Gl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return yc&&c.locale!=="ko"?null:c.data;default:return null}}var Sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c==="input"?!!Sc[u.type]:c==="textarea"}function Tu(u,c,y,S){Kr(S),c=Yl(c,"onChange"),0<c.length&&(y=new sc("onChange","change",null,y,S),u.push({event:y,listeners:c}))}var Fo=null,Ko=null;function qg(u){yn(u,0)}function na(u){var c=Au(u);if(Re(c))return u}function zg(u,c){if(u==="change")return c}var kh=!1;if(h){var ld;if(h){var sd="oninput"in document;if(!sd){var il=document.createElement("div");il.setAttribute("oninput","return;"),sd=typeof il.oninput=="function"}ld=sd}else ld=!1;kh=ld&&(!document.documentMode||9<document.documentMode)}function ra(){Fo&&(Fo.detachEvent("onpropertychange",ad),Ko=Fo=null)}function ad(u){if(u.propertyName==="value"&&na(Ko)){var c=[];Tu(c,Ko,u,rc(u)),jl(qg,c)}}function ur(u,c,y){u==="focusin"?(ra(),Fo=c,Ko=y,Fo.attachEvent("onpropertychange",ad)):u==="focusout"&&ra()}function Tc(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return na(Ko)}function Ho(u,c){if(u==="click")return na(c)}function li(u,c){if(u==="input"||u==="change")return na(c)}function ol(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var Gn=typeof Object.is=="function"?Object.is:ol;function nn(u,c){if(Gn(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var y=Object.keys(u),S=Object.keys(c);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var k=y[S];if(!s.call(c,k)||!Gn(u[k],c[k]))return!1}return!0}function An(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function qo(u,c){var y=An(u);u=0;for(var S;y;){if(y.nodeType===3){if(S=u+y.textContent.length,u<=c&&S>=c)return{node:y,offset:c-u};u=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=An(y)}}function cd(u,c){return u&&c?u===c?!0:u&&u.nodeType===3?!1:c&&c.nodeType===3?cd(u,c.parentNode):"contains"in u?u.contains(c):u.compareDocumentPosition?!!(u.compareDocumentPosition(c)&16):!1:!1}function ia(){for(var u=window,c=tc();c instanceof u.HTMLIFrameElement;){try{var y=typeof c.contentWindow.location.href=="string"}catch{y=!1}if(y)u=c.contentWindow;else break;c=tc(u.document)}return c}function lr(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c&&(c==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||c==="textarea"||u.contentEditable==="true")}function fd(u){var c=ia(),y=u.focusedElem,S=u.selectionRange;if(c!==y&&y&&y.ownerDocument&&cd(y.ownerDocument.documentElement,y)){if(S!==null&&lr(y)){if(c=S.start,u=S.end,u===void 0&&(u=c),"selectionStart"in y)y.selectionStart=c,y.selectionEnd=Math.min(u,y.value.length);else if(u=(c=y.ownerDocument||document)&&c.defaultView||window,u.getSelection){u=u.getSelection();var k=y.textContent.length,D=Math.min(S.start,k);S=S.end===void 0?D:Math.min(S.end,k),!u.extend&&D>S&&(k=S,S=D,D=k),k=qo(y,D);var B=qo(y,S);k&&B&&(u.rangeCount!==1||u.anchorNode!==k.node||u.anchorOffset!==k.offset||u.focusNode!==B.node||u.focusOffset!==B.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),u.removeAllRanges(),D>S?(u.addRange(c),u.extend(B.node,B.offset)):(c.setEnd(B.node,B.offset),u.addRange(c)))}}for(c=[],u=y;u=u.parentNode;)u.nodeType===1&&c.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<c.length;y++)u=c[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var at=h&&"documentMode"in document&&11>=document.documentMode,sn=null,dd=null,Wl=null,oa=!1;function hn(u,c,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;oa||sn==null||sn!==tc(S)||(S=sn,"selectionStart"in S&&lr(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Wl&&nn(Wl,S)||(Wl=S,S=Yl(dd,"onSelect"),0<S.length&&(c=new sc("onSelect","select",null,c,y),u.push({event:c,listeners:S}),c.target=sn)))}function zo(u,c){var y={};return y[u.toLowerCase()]=c.toLowerCase(),y["Webkit"+u]="webkit"+c,y["Moz"+u]="moz"+c,y}var xu={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},pd={},ua={};h&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete xu.animationend.animation,delete xu.animationiteration.animation,delete xu.animationstart.animation),"TransitionEvent"in window||delete xu.transitionend.transition);function Rn(u){if(pd[u])return pd[u];if(!xu[u])return u;var c=xu[u],y;for(y in c)if(c.hasOwnProperty(y)&&y in ua)return pd[u]=c[y];return u}var Go=Rn("animationend"),wr=Rn("animationiteration"),Tr=Rn("animationstart"),xc=Rn("transitionend"),hd=new Map,Ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(u,c){hd.set(u,c),V(c,[u])}for(var $i=0;$i<Ah.length;$i++){var Iu=Ah[$i],Gg=Iu.toLowerCase(),Wg=Iu[0].toUpperCase()+Iu.slice(1);xr(Gg,"on"+Wg)}xr(Go,"onAnimationEnd"),xr(wr,"onAnimationIteration"),xr(Tr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(xc,"onTransitionEnd"),M("onMouseEnter",["mouseout","mouseover"]),M("onMouseLeave",["mouseout","mouseover"]),M("onPointerEnter",["pointerout","pointerover"]),M("onPointerLeave",["pointerout","pointerover"]),V("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),V("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),V("onBeforeInput",["compositionend","keypress","textInput","paste"]),V("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ph=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function Dh(u,c,y){var S=u.type||"unknown-event";u.currentTarget=y,X(S,c,void 0,u),u.currentTarget=null}function yn(u,c){c=(c&4)!==0;for(var y=0;y<u.length;y++){var S=u[y],k=S.event;S=S.listeners;e:{var D=void 0;if(c)for(var B=S.length-1;0<=B;B--){var J=S[B],ee=J.instance,ve=J.currentTarget;if(J=J.listener,ee!==D&&k.isPropagationStopped())break e;Dh(k,J,ve),D=ee}else for(B=0;B<S.length;B++){if(J=S[B],ee=J.instance,ve=J.currentTarget,J=J.listener,ee!==D&&k.isPropagationStopped())break e;Dh(k,J,ve),D=ee}}}if(Bs)throw u=Hr,Bs=!1,Hr=null,u}function In(u,c){var y=c[xd];y===void 0&&(y=c[xd]=new Set);var S=u+"__bubble";y.has(S)||(si(c,u,2,!1),y.add(S))}function yd(u,c,y){var S=0;c&&(S|=4),si(y,u,S,c)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function Wo(u){if(!u[Ji]){u[Ji]=!0,I.forEach(function(y){y!=="selectionchange"&&(Ph.has(y)||yd(y,!1,u),yd(y,!0,u))});var c=u.nodeType===9?u:u.ownerDocument;c===null||c[Ji]||(c[Ji]=!0,yd("selectionchange",!1,c))}}function si(u,c,y,S){switch(Uo(c)){case 1:var k=Ii;break;case 4:k=rt;break;default:k=Yi}y=k.bind(null,c,y,u),k=void 0,!hu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),S?k!==void 0?u.addEventListener(c,y,{capture:!0,passive:k}):u.addEventListener(c,y,!0):k!==void 0?u.addEventListener(c,y,{passive:k}):u.addEventListener(c,y,!1)}function Eu(u,c,y,S,k){var D=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var B=S.tag;if(B===3||B===4){var J=S.stateNode.containerInfo;if(J===k||J.nodeType===8&&J.parentNode===k)break;if(B===4)for(B=S.return;B!==null;){var ee=B.tag;if((ee===3||ee===4)&&(ee=B.stateNode.containerInfo,ee===k||ee.nodeType===8&&ee.parentNode===k))return;B=B.return}for(;J!==null;){if(B=To(J),B===null)return;if(ee=B.tag,ee===5||ee===6){S=D=B;continue e}J=J.parentNode}}S=S.return}jl(function(){var ve=D,Ee=rc(y),Ae=[];e:{var xe=hd.get(u);if(xe!==void 0){var He=sc,et=u;switch(u){case"keypress":if(Nn(y)===0)break e;case"keydown":case"keyup":He=rd;break;case"focusin":et="focus",He=dc;break;case"focusout":et="blur",He=dc;break;case"beforeblur":case"afterblur":He=dc;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=ql;break;case Go:case wr:case Tr:He=Th;break;case xc:He=zl;break;case"scroll":He=Sh;break;case"wheel":He=Bo;break;case"copy":case"cut":case"paste":He=pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=id}var tt=(c&4)!==0,Bn=!tt&&u==="scroll",ce=tt?xe!==null?xe+"Capture":null:xe;tt=[];for(var ne=ve,he;ne!==null;){he=ne;var De=he.stateNode;if(he.tag===5&&De!==null&&(he=De,ce!==null&&(De=Zn(ne,ce),De!=null&&tt.push(Xo(ne,De,he)))),Bn)break;ne=ne.return}0<tt.length&&(xe=new He(xe,et,null,y,Ee),Ae.push({event:xe,listeners:tt}))}}if((c&7)===0){e:{if(xe=u==="mouseover"||u==="pointerover",He=u==="mouseout"||u==="pointerout",xe&&y!==Yf&&(et=y.relatedTarget||y.fromElement)&&(To(et)||et[Yo]))break e;if((He||xe)&&(xe=Ee.window===Ee?Ee:(xe=Ee.ownerDocument)?xe.defaultView||xe.parentWindow:window,He?(et=y.relatedTarget||y.toElement,He=ve,et=et?To(et):null,et!==null&&(Bn=wi(et),et!==Bn||et.tag!==5&&et.tag!==6)&&(et=null)):(He=null,et=ve),He!==et)){if(tt=qt,De="onMouseLeave",ce="onMouseEnter",ne="mouse",(u==="pointerout"||u==="pointerover")&&(tt=id,De="onPointerLeave",ce="onPointerEnter",ne="pointer"),Bn=He==null?xe:Au(He),he=et==null?xe:Au(et),xe=new tt(De,ne+"leave",He,y,Ee),xe.target=Bn,xe.relatedTarget=he,De=null,To(Ee)===ve&&(tt=new tt(ce,ne+"enter",et,y,Ee),tt.target=he,tt.relatedTarget=Bn,De=tt),Bn=De,He&&et)t:{for(tt=He,ce=et,ne=0,he=tt;he;he=Et(he))ne++;for(he=0,De=ce;De;De=Et(De))he++;for(;0<ne-he;)tt=Et(tt),ne--;for(;0<he-ne;)ce=Et(ce),he--;for(;ne--;){if(tt===ce||ce!==null&&tt===ce.alternate)break t;tt=Et(tt),ce=Et(ce)}tt=null}else tt=null;He!==null&&Cu(Ae,xe,He,tt,!1),et!==null&&Bn!==null&&Cu(Ae,Bn,et,tt,!0)}}e:{if(xe=ve?Au(ve):window,He=xe.nodeName&&xe.nodeName.toLowerCase(),He==="select"||He==="input"&&xe.type==="file")var nt=zg;else if(wc(xe))if(kh)nt=li;else{nt=Tc;var ct=ur}else(He=xe.nodeName)&&He.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(nt=Ho);if(nt&&(nt=nt(u,ve))){Tu(Ae,nt,y,Ee);break e}ct&&ct(u,xe,ve),u==="focusout"&&(ct=xe._wrapperState)&&ct.controlled&&xe.type==="number"&&mi(xe,"number",xe.value)}switch(ct=ve?Au(ve):window,u){case"focusin":(wc(ct)||ct.contentEditable==="true")&&(sn=ct,dd=ve,Wl=null);break;case"focusout":Wl=dd=sn=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,hn(Ae,y,Ee);break;case"selectionchange":if(at)break;case"keydown":case"keyup":hn(Ae,y,Ee)}var ut;if(wo)e:{switch(u){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Gl?vc(u,y)&&(ht="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(ht="onCompositionStart");ht&&(yc&&y.locale!=="ko"&&(Gl||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Gl&&(ut=mo()):(ir=Ee,Fl="value"in ir?ir.value:ir.textContent,Gl=!0)),ct=Yl(ve,ht),0<ct.length&&(ht=new hc(ht,u,null,y,Ee),Ae.push({event:ht,listeners:ct}),ut?ht.data=ut:(ut=ud(y),ut!==null&&(ht.data=ut)))),(ut=wu?pn(u,y):mc(u,y))&&(ve=Yl(ve,"onBeforeInput"),0<ve.length&&(Ee=new hc("onBeforeInput","beforeinput",null,y,Ee),Ae.push({event:Ee,listeners:ve}),Ee.data=ut))}yn(Ae,c)})}function Xo(u,c,y){return{instance:u,listener:c,currentTarget:y}}function Yl(u,c){for(var y=c+"Capture",S=[];u!==null;){var k=u,D=k.stateNode;k.tag===5&&D!==null&&(k=D,D=Zn(u,y),D!=null&&S.unshift(Xo(u,D,k)),D=Zn(u,c),D!=null&&S.push(Xo(u,D,k))),u=u.return}return S}function Et(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Cu(u,c,y,S,k){for(var D=c._reactName,B=[];y!==null&&y!==S;){var J=y,ee=J.alternate,ve=J.stateNode;if(ee!==null&&ee===S)break;J.tag===5&&ve!==null&&(J=ve,k?(ee=Zn(y,D),ee!=null&&B.unshift(Xo(y,ee,J))):k||(ee=Zn(y,D),ee!=null&&B.push(Xo(y,ee,J)))),y=y.return}B.length!==0&&u.push({event:c,listeners:B})}var gd=/\r\n?/g,vd=/\u0000|\uFFFD/g;function la(u){return(typeof u=="string"?u:""+u).replace(gd,`
`).replace(vd,"")}function sa(u,c,y){if(c=la(c),la(u)!==c&&y)throw Error(U(425))}function aa(){}var Ic=null,md=null;function Sd(u,c){return u==="textarea"||u==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,Xg=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(u){return wd.resolve(null).then(u).catch($g)}:$l;function $g(u){setTimeout(function(){throw u})}function Ec(u,c){var y=c,S=0;do{var k=y.nextSibling;if(u.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(S===0){u.removeChild(k),er(c);return}S--}else y!=="$"&&y!=="$?"&&y!=="$!"||S++;y=k}while(y);er(c)}function ku(u){for(;u!=null;u=u.nextSibling){var c=u.nodeType;if(c===1||c===3)break;if(c===8){if(c=u.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return u}function Td(u){u=u.previousSibling;for(var c=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(c===0)return u;c--}else y==="/$"&&c++}u=u.previousSibling}return null}var ul=Math.random().toString(36).slice(2),ai="__reactFiber$"+ul,ll="__reactProps$"+ul,Yo="__reactContainer$"+ul,xd="__reactEvents$"+ul,Jg="__reactListeners$"+ul,Jl="__reactHandles$"+ul;function To(u){var c=u[ai];if(c)return c;for(var y=u.parentNode;y;){if(c=y[Yo]||y[ai]){if(y=c.alternate,c.child!==null||y!==null&&y.child!==null)for(u=Td(u);u!==null;){if(y=u[ai])return y;u=Td(u)}return c}u=y,y=u.parentNode}return null}function sl(u){return u=u[ai]||u[Yo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Au(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(U(33))}function ca(u){return u[ll]||null}var fa=[],al=-1;function Ci(u){return{current:u}}function gn(u){0>al||(u.current=fa[al],fa[al]=null,al--)}function on(u,c){al++,fa[al]=u.current,u.current=c}var $o={},sr=Ci($o),Mr=Ci(!1),Pu=$o;function Ql(u,c){var y=u.type.contextTypes;if(!y)return $o;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===c)return S.__reactInternalMemoizedMaskedChildContext;var k={},D;for(D in y)k[D]=c[D];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=c,u.__reactInternalMemoizedMaskedChildContext=k),k}function ar(u){return u=u.childContextTypes,u!=null}function Cc(){gn(Mr),gn(sr)}function Qt(u,c,y){if(sr.current!==$o)throw Error(U(168));on(sr,c),on(Mr,y)}function Id(u,c,y){var S=u.stateNode;if(c=c.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var k in S)if(!(k in c))throw Error(U(108,fn(u)||"Unknown",k));return We({},y,S)}function Zl(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||$o,Pu=sr.current,on(sr,u),on(Mr,Mr.current),!0}function Oh(u,c,y){var S=u.stateNode;if(!S)throw Error(U(169));y?(u=Id(u,c,Pu),S.__reactInternalMemoizedMergedChildContext=u,gn(Mr),gn(sr),on(sr,u)):gn(Mr),on(Mr,y)}var Jo=null,da=!1,kc=!1;function ki(u){Jo===null?Jo=[u]:Jo.push(u)}function bt(u){da=!0,ki(u)}function Yt(){if(!kc&&Jo!==null){kc=!0;var u=0,c=Ut;try{var y=Jo;for(Ut=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}Jo=null,da=!1}catch(k){throw Jo!==null&&(Jo=Jo.slice(u+1)),Bl(Or,Yt),k}finally{Ut=c,kc=!1}}return null}var Ai=[],Du=0,Qo=null,pa=0,ci=[],Pi=0,Te=null,xo=1,Di="";function xt(u,c){Ai[Du++]=pa,Ai[Du++]=Qo,Qo=u,pa=c}function cl(u,c,y){ci[Pi++]=xo,ci[Pi++]=Di,ci[Pi++]=Te,Te=u;var S=xo;u=Di;var k=32-Gr(S)-1;S&=~(1<<k),y+=1;var D=32-Gr(c)+k;if(30<D){var B=k-k%5;D=(S&(1<<B)-1).toString(32),S>>=B,k-=B,xo=1<<32-Gr(c)+k|y<<k|S,Di=D+u}else xo=1<<D|y<<k|S,Di=u}function Zo(u){u.return!==null&&(xt(u,1),cl(u,1,0))}function jt(u){for(;u===Qo;)Qo=Ai[--Du],Ai[Du]=null,pa=Ai[--Du],Ai[Du]=null;for(;u===Te;)Te=ci[--Pi],ci[Pi]=null,Di=ci[--Pi],ci[Pi]=null,xo=ci[--Pi],ci[Pi]=null}var _n=null,Yr=null,wt=!1,Qi=null;function Ed(u,c){var y=Ni(5,null,null,0);y.elementType="DELETED",y.stateNode=c,y.return=u,c=u.deletions,c===null?(u.deletions=[y],u.flags|=16):c.push(y)}function Rh(u,c){switch(u.tag){case 5:var y=u.type;return c=c.nodeType!==1||y.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(u.stateNode=c,_n=u,Yr=ku(c.firstChild),!0):!1;case 6:return c=u.pendingProps===""||c.nodeType!==3?null:c,c!==null?(u.stateNode=c,_n=u,Yr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(y=Te!==null?{id:xo,overflow:Di}:null,u.memoizedState={dehydrated:c,treeContext:y,retryLane:1073741824},y=Ni(18,null,null,0),y.stateNode=c,y.return=u,u.child=y,_n=u,Yr=null,!0):!1;default:return!1}}function Ac(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Pc(u){if(wt){var c=Yr;if(c){var y=c;if(!Rh(u,c)){if(Ac(u))throw Error(U(418));c=ku(y.nextSibling);var S=_n;c&&Rh(u,c)?Ed(S,y):(u.flags=u.flags&-4097|2,wt=!1,_n=u)}}else{if(Ac(u))throw Error(U(418));u.flags=u.flags&-4097|2,wt=!1,_n=u}}}function ha(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;_n=u}function Lr(u){if(u!==_n)return!1;if(!wt)return ha(u),wt=!0,!1;var c;if((c=u.tag!==3)&&!(c=u.tag!==5)&&(c=u.type,c=c!=="head"&&c!=="body"&&!Sd(u.type,u.memoizedProps)),c&&(c=Yr)){if(Ac(u))throw Cd(),Error(U(418));for(;c;)Ed(u,c),c=ku(c.nextSibling)}if(ha(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(U(317));e:{for(u=u.nextSibling,c=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(c===0){Yr=ku(u.nextSibling);break e}c--}else y!=="$"&&y!=="$!"&&y!=="$?"||c++}u=u.nextSibling}Yr=null}}else Yr=_n?ku(u.stateNode.nextSibling):null;return!0}function Cd(){for(var u=Yr;u;)u=ku(u.nextSibling)}function eu(){Yr=_n=null,wt=!1}function Ou(u){Qi===null?Qi=[u]:Qi.push(u)}var Kt=be.ReactCurrentBatchConfig;function fl(u,c,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(U(309));var S=y.stateNode}if(!S)throw Error(U(147,u));var k=S,D=""+u;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===D?c.ref:(c=function(B){var J=k.refs;B===null?delete J[D]:J[D]=B},c._stringRef=D,c)}if(typeof u!="string")throw Error(U(284));if(!y._owner)throw Error(U(290,u))}return u}function Dc(u,c){throw u=Object.prototype.toString.call(c),Error(U(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u))}function es(u){var c=u._init;return c(u._payload)}function Oc(u){function c(ce,ne){if(u){var he=ce.deletions;he===null?(ce.deletions=[ne],ce.flags|=16):he.push(ne)}}function y(ce,ne){if(!u)return null;for(;ne!==null;)c(ce,ne),ne=ne.sibling;return null}function S(ce,ne){for(ce=new Map;ne!==null;)ne.key!==null?ce.set(ne.key,ne):ce.set(ne.index,ne),ne=ne.sibling;return ce}function k(ce,ne){return ce=Mo(ce,ne),ce.index=0,ce.sibling=null,ce}function D(ce,ne,he){return ce.index=he,u?(he=ce.alternate,he!==null?(he=he.index,he<ne?(ce.flags|=2,ne):he):(ce.flags|=2,ne)):(ce.flags|=1048576,ne)}function B(ce){return u&&ce.alternate===null&&(ce.flags|=2),ce}function J(ce,ne,he,De){return ne===null||ne.tag!==6?(ne=Bu(he,ce.mode,De),ne.return=ce,ne):(ne=k(ne,he),ne.return=ce,ne)}function ee(ce,ne,he,De){var nt=he.type;return nt===un?Ee(ce,ne,he.props.children,De,he.key):ne!==null&&(ne.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===_t&&es(nt)===ne.type)?(De=k(ne,he.props),De.ref=fl(ce,ne,he),De.return=ce,De):(De=Va(he.type,he.key,he.props,null,ce.mode,De),De.ref=fl(ce,ne,he),De.return=ce,De)}function ve(ce,ne,he,De){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=cp(he,ce.mode,De),ne.return=ce,ne):(ne=k(ne,he.children||[]),ne.return=ce,ne)}function Ee(ce,ne,he,De,nt){return ne===null||ne.tag!==7?(ne=Lo(he,ce.mode,De,nt),ne.return=ce,ne):(ne=k(ne,he),ne.return=ce,ne)}function Ae(ce,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Bu(""+ne,ce.mode,he),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Qe:return he=Va(ne.type,ne.key,ne.props,null,ce.mode,he),he.ref=fl(ce,null,ne),he.return=ce,he;case mt:return ne=cp(ne,ce.mode,he),ne.return=ce,ne;case _t:var De=ne._init;return Ae(ce,De(ne._payload),he)}if(ft(ne)||gt(ne))return ne=Lo(ne,ce.mode,he,null),ne.return=ce,ne;Dc(ce,ne)}return null}function xe(ce,ne,he,De){var nt=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return nt!==null?null:J(ce,ne,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Qe:return he.key===nt?ee(ce,ne,he,De):null;case mt:return he.key===nt?ve(ce,ne,he,De):null;case _t:return nt=he._init,xe(ce,ne,nt(he._payload),De)}if(ft(he)||gt(he))return nt!==null?null:Ee(ce,ne,he,De,null);Dc(ce,he)}return null}function He(ce,ne,he,De,nt){if(typeof De=="string"&&De!==""||typeof De=="number")return ce=ce.get(he)||null,J(ne,ce,""+De,nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case Qe:return ce=ce.get(De.key===null?he:De.key)||null,ee(ne,ce,De,nt);case mt:return ce=ce.get(De.key===null?he:De.key)||null,ve(ne,ce,De,nt);case _t:var ct=De._init;return He(ce,ne,he,ct(De._payload),nt)}if(ft(De)||gt(De))return ce=ce.get(he)||null,Ee(ne,ce,De,nt,null);Dc(ne,De)}return null}function et(ce,ne,he,De){for(var nt=null,ct=null,ut=ne,ht=ne=0,$n=null;ut!==null&&ht<he.length;ht++){ut.index>ht?($n=ut,ut=null):$n=ut.sibling;var Nt=xe(ce,ut,he[ht],De);if(Nt===null){ut===null&&(ut=$n);break}u&&ut&&Nt.alternate===null&&c(ce,ut),ne=D(Nt,ne,ht),ct===null?nt=Nt:ct.sibling=Nt,ct=Nt,ut=$n}if(ht===he.length)return y(ce,ut),wt&&xt(ce,ht),nt;if(ut===null){for(;ht<he.length;ht++)ut=Ae(ce,he[ht],De),ut!==null&&(ne=D(ut,ne,ht),ct===null?nt=ut:ct.sibling=ut,ct=ut);return wt&&xt(ce,ht),nt}for(ut=S(ce,ut);ht<he.length;ht++)$n=He(ut,ce,ht,he[ht],De),$n!==null&&(u&&$n.alternate!==null&&ut.delete($n.key===null?ht:$n.key),ne=D($n,ne,ht),ct===null?nt=$n:ct.sibling=$n,ct=$n);return u&&ut.forEach(function(Fu){return c(ce,Fu)}),wt&&xt(ce,ht),nt}function tt(ce,ne,he,De){var nt=gt(he);if(typeof nt!="function")throw Error(U(150));if(he=nt.call(he),he==null)throw Error(U(151));for(var ct=nt=null,ut=ne,ht=ne=0,$n=null,Nt=he.next();ut!==null&&!Nt.done;ht++,Nt=he.next()){ut.index>ht?($n=ut,ut=null):$n=ut.sibling;var Fu=xe(ce,ut,Nt.value,De);if(Fu===null){ut===null&&(ut=$n);break}u&&ut&&Fu.alternate===null&&c(ce,ut),ne=D(Fu,ne,ht),ct===null?nt=Fu:ct.sibling=Fu,ct=Fu,ut=$n}if(Nt.done)return y(ce,ut),wt&&xt(ce,ht),nt;if(ut===null){for(;!Nt.done;ht++,Nt=he.next())Nt=Ae(ce,Nt.value,De),Nt!==null&&(ne=D(Nt,ne,ht),ct===null?nt=Nt:ct.sibling=Nt,ct=Nt);return wt&&xt(ce,ht),nt}for(ut=S(ce,ut);!Nt.done;ht++,Nt=he.next())Nt=He(ut,ce,ht,Nt.value,De),Nt!==null&&(u&&Nt.alternate!==null&&ut.delete(Nt.key===null?ht:Nt.key),ne=D(Nt,ne,ht),ct===null?nt=Nt:ct.sibling=Nt,ct=Nt);return u&&ut.forEach(function(df){return c(ce,df)}),wt&&xt(ce,ht),nt}function Bn(ce,ne,he,De){if(typeof he=="object"&&he!==null&&he.type===un&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case Qe:e:{for(var nt=he.key,ct=ne;ct!==null;){if(ct.key===nt){if(nt=he.type,nt===un){if(ct.tag===7){y(ce,ct.sibling),ne=k(ct,he.props.children),ne.return=ce,ce=ne;break e}}else if(ct.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===_t&&es(nt)===ct.type){y(ce,ct.sibling),ne=k(ct,he.props),ne.ref=fl(ce,ct,he),ne.return=ce,ce=ne;break e}y(ce,ct);break}else c(ce,ct);ct=ct.sibling}he.type===un?(ne=Lo(he.props.children,ce.mode,De,he.key),ne.return=ce,ce=ne):(De=Va(he.type,he.key,he.props,null,ce.mode,De),De.ref=fl(ce,ne,he),De.return=ce,ce=De)}return B(ce);case mt:e:{for(ct=he.key;ne!==null;){if(ne.key===ct)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){y(ce,ne.sibling),ne=k(ne,he.children||[]),ne.return=ce,ce=ne;break e}else{y(ce,ne);break}else c(ce,ne);ne=ne.sibling}ne=cp(he,ce.mode,De),ne.return=ce,ce=ne}return B(ce);case _t:return ct=he._init,Bn(ce,ne,ct(he._payload),De)}if(ft(he))return et(ce,ne,he,De);if(gt(he))return tt(ce,ne,he,De);Dc(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ne!==null&&ne.tag===6?(y(ce,ne.sibling),ne=k(ne,he),ne.return=ce,ce=ne):(y(ce,ne),ne=Bu(he,ce.mode,De),ne.return=ce,ce=ne),B(ce)):y(ce,ne)}return Bn}var Mt=Oc(!0),Io=Oc(!1),ya=Ci(null),Bt=null,it=null,Eo=null;function cr(){Eo=it=Bt=null}function ga(u){var c=ya.current;gn(ya),u._currentValue=c}function Ru(u,c,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),u===y)break;u=u.return}}function dl(u,c){Bt=u,Eo=it=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&c)!==0&&(tr=!0),u.firstContext=null)}function br(u){var c=u._currentValue;if(Eo!==u)if(u={context:u,memoizedValue:c,next:null},it===null){if(Bt===null)throw Error(U(308));it=u,Bt.dependencies={lanes:0,firstContext:u}}else it=it.next=u;return c}var Oi=null;function kd(u){Oi===null?Oi=[u]:Oi.push(u)}function Ad(u,c,y,S){var k=c.interleaved;return k===null?(y.next=y,kd(c)):(y.next=k.next,k.next=y),c.interleaved=y,Zi(u,S)}function Zi(u,c){u.lanes|=c;var y=u.alternate;for(y!==null&&(y.lanes|=c),y=u,u=u.return;u!==null;)u.childLanes|=c,y=u.alternate,y!==null&&(y.childLanes|=c),y=u,u=u.return;return y.tag===3?y.stateNode:null}var eo=!1;function ts(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function tu(u,c){return{eventTime:u,lane:c,tag:0,payload:null,callback:null,next:null}}function nu(u,c,y){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,($t&2)!==0){var k=S.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),S.pending=c,Zi(u,y)}return k=S.interleaved,k===null?(c.next=c,kd(S)):(c.next=k.next,k.next=c),S.interleaved=c,Zi(u,y)}function Rc(u,c,y){if(c=c.updateQueue,c!==null&&(c=c.shared,(y&4194240)!==0)){var S=c.lanes;S&=u.pendingLanes,y|=S,c.lanes=y,go(u,y)}}function Pd(u,c){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var k=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var B={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};D===null?k=D=B:D=D.next=B,y=y.next}while(y!==null);D===null?k=D=c:D=D.next=c}else k=D=c;y={baseState:S.baseState,firstBaseUpdate:k,lastBaseUpdate:D,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=c:u.next=c,y.lastBaseUpdate=c}function va(u,c,y,S){var k=u.updateQueue;eo=!1;var D=k.firstBaseUpdate,B=k.lastBaseUpdate,J=k.shared.pending;if(J!==null){k.shared.pending=null;var ee=J,ve=ee.next;ee.next=null,B===null?D=ve:B.next=ve,B=ee;var Ee=u.alternate;Ee!==null&&(Ee=Ee.updateQueue,J=Ee.lastBaseUpdate,J!==B&&(J===null?Ee.firstBaseUpdate=ve:J.next=ve,Ee.lastBaseUpdate=ee))}if(D!==null){var Ae=k.baseState;B=0,Ee=ve=ee=null,J=D;do{var xe=J.lane,He=J.eventTime;if((S&xe)===xe){Ee!==null&&(Ee=Ee.next={eventTime:He,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var et=u,tt=J;switch(xe=c,He=y,tt.tag){case 1:if(et=tt.payload,typeof et=="function"){Ae=et.call(He,Ae,xe);break e}Ae=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=tt.payload,xe=typeof et=="function"?et.call(He,Ae,xe):et,xe==null)break e;Ae=We({},Ae,xe);break e;case 2:eo=!0}}J.callback!==null&&J.lane!==0&&(u.flags|=64,xe=k.effects,xe===null?k.effects=[J]:xe.push(J))}else He={eventTime:He,lane:xe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ee===null?(ve=Ee=He,ee=Ae):Ee=Ee.next=He,B|=xe;if(J=J.next,J===null){if(J=k.shared.pending,J===null)break;xe=J,J=xe.next,xe.next=null,k.lastBaseUpdate=xe,k.shared.pending=null}}while(!0);if(Ee===null&&(ee=Ae),k.baseState=ee,k.firstBaseUpdate=ve,k.lastBaseUpdate=Ee,c=k.shared.interleaved,c!==null){k=c;do B|=k.lane,k=k.next;while(k!==c)}else D===null&&(k.shared.lanes=0);bi|=B,u.lanes=B,u.memoizedState=Ae}}function Lh(u,c,y){if(u=c.effects,c.effects=null,u!==null)for(c=0;c<u.length;c++){var S=u[c],k=S.callback;if(k!==null){if(S.callback=null,S=y,typeof k!="function")throw Error(U(191,k));k.call(S)}}}var ma={},Co=Ci(ma),ns=Ci(ma),ru=Ci(ma);function Mu(u){if(u===ma)throw Error(U(174));return u}function Mc(u,c){switch(on(ru,c),on(ns,u),on(Co,ma),u=c.nodeType,u){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:At(null,"");break;default:u=u===8?c.parentNode:c,c=u.namespaceURI||null,u=u.tagName,c=At(c,u)}gn(Co),on(Co,c)}function rs(){gn(Co),gn(ns),gn(ru)}function bh(u){Mu(ru.current);var c=Mu(Co.current),y=At(c,u.type);c!==y&&(on(ns,u),on(Co,y))}function Sa(u){ns.current===u&&(gn(Co),gn(ns))}var Cn=Ci(0);function wa(u){for(var c=u;c!==null;){if(c.tag===13){var y=c.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Dd=[];function Od(){for(var u=0;u<Dd.length;u++)Dd[u]._workInProgressVersionPrimary=null;Dd.length=0}var is=be.ReactCurrentDispatcher,Lc=be.ReactCurrentBatchConfig,pl=0,Pn=null,Hn=null,Mn=null,Ta=!1,xa=!1,iu=0,Qg=0;function Ir(){throw Error(U(321))}function bc(u,c){if(c===null)return!1;for(var y=0;y<c.length&&y<u.length;y++)if(!Gn(u[y],c[y]))return!1;return!0}function Rd(u,c,y,S,k,D){if(pl=D,Pn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,is.current=u===null||u.memoizedState===null?Bh:Zg,u=y(S,k),xa){D=0;do{if(xa=!1,iu=0,25<=D)throw Error(U(301));D+=1,Mn=Hn=null,c.updateQueue=null,is.current=Lu,u=y(S,k)}while(xa)}if(is.current=fs,c=Hn!==null&&Hn.next!==null,pl=0,Mn=Hn=Pn=null,Ta=!1,c)throw Error(U(300));return u}function Nc(){var u=iu!==0;return iu=0,u}function ko(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Pn.memoizedState=Mn=u:Mn=Mn.next=u,Mn}function Ri(){if(Hn===null){var u=Pn.alternate;u=u!==null?u.memoizedState:null}else u=Hn.next;var c=Mn===null?Pn.memoizedState:Mn.next;if(c!==null)Mn=c,Hn=u;else{if(u===null)throw Error(U(310));Hn=u,u={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},Mn===null?Pn.memoizedState=Mn=u:Mn=Mn.next=u}return Mn}function Ia(u,c){return typeof c=="function"?c(u):c}function os(u){var c=Ri(),y=c.queue;if(y===null)throw Error(U(311));y.lastRenderedReducer=u;var S=Hn,k=S.baseQueue,D=y.pending;if(D!==null){if(k!==null){var B=k.next;k.next=D.next,D.next=B}S.baseQueue=k=D,y.pending=null}if(k!==null){D=k.next,S=S.baseState;var J=B=null,ee=null,ve=D;do{var Ee=ve.lane;if((pl&Ee)===Ee)ee!==null&&(ee=ee.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),S=ve.hasEagerState?ve.eagerState:u(S,ve.action);else{var Ae={lane:Ee,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ee===null?(J=ee=Ae,B=S):ee=ee.next=Ae,Pn.lanes|=Ee,bi|=Ee}ve=ve.next}while(ve!==null&&ve!==D);ee===null?B=S:ee.next=J,Gn(S,c.memoizedState)||(tr=!0),c.memoizedState=S,c.baseState=B,c.baseQueue=ee,y.lastRenderedState=S}if(u=y.interleaved,u!==null){k=u;do D=k.lane,Pn.lanes|=D,bi|=D,k=k.next;while(k!==u)}else k===null&&(y.lanes=0);return[c.memoizedState,y.dispatch]}function _c(u){var c=Ri(),y=c.queue;if(y===null)throw Error(U(311));y.lastRenderedReducer=u;var S=y.dispatch,k=y.pending,D=c.memoizedState;if(k!==null){y.pending=null;var B=k=k.next;do D=u(D,B.action),B=B.next;while(B!==k);Gn(D,c.memoizedState)||(tr=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),y.lastRenderedState=D}return[D,S]}function Md(){}function Uc(u,c){var y=Pn,S=Ri(),k=c(),D=!Gn(S.memoizedState,k);if(D&&(S.memoizedState=k,tr=!0),S=S.queue,Vc(hl.bind(null,y,S,u),[u]),S.getSnapshot!==c||D||Mn!==null&&Mn.memoizedState.tag&1){if(y.flags|=2048,ls(9,Ld.bind(null,y,S,k,c),void 0,null),Me===null)throw Error(U(349));(pl&30)!==0||Nh(y,c,k)}return k}function Nh(u,c,y){u.flags|=16384,u={getSnapshot:c,value:y},c=Pn.updateQueue,c===null?(c={lastEffect:null,stores:null},Pn.updateQueue=c,c.stores=[u]):(y=c.stores,y===null?c.stores=[u]:y.push(u))}function Ld(u,c,y,S){c.value=y,c.getSnapshot=S,us(c)&&jc(u)}function hl(u,c,y){return y(function(){us(c)&&jc(u)})}function us(u){var c=u.getSnapshot;u=u.value;try{var y=c();return!Gn(u,y)}catch{return!0}}function jc(u){var c=Zi(u,1);c!==null&&_r(c,u,1,-1)}function Bc(u){var c=ko();return typeof u=="function"&&(u=u()),c.memoizedState=c.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:u},c.queue=u,u=u.dispatch=ou.bind(null,Pn,u),[c.memoizedState,u]}function ls(u,c,y,S){return u={tag:u,create:c,destroy:y,deps:S,next:null},c=Pn.updateQueue,c===null?(c={lastEffect:null,stores:null},Pn.updateQueue=c,c.lastEffect=u.next=u):(y=c.lastEffect,y===null?c.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,c.lastEffect=u)),u}function bd(){return Ri().memoizedState}function Ea(u,c,y,S){var k=ko();Pn.flags|=u,k.memoizedState=ls(1|c,y,void 0,S===void 0?null:S)}function ss(u,c,y,S){var k=Ri();S=S===void 0?null:S;var D=void 0;if(Hn!==null){var B=Hn.memoizedState;if(D=B.destroy,S!==null&&bc(S,B.deps)){k.memoizedState=ls(c,y,D,S);return}}Pn.flags|=u,k.memoizedState=ls(1|c,y,D,S)}function Nd(u,c){return Ea(8390656,8,u,c)}function Vc(u,c){return ss(2048,8,u,c)}function as(u,c){return ss(4,2,u,c)}function _d(u,c){return ss(4,4,u,c)}function fi(u,c){if(typeof c=="function")return u=u(),c(u),function(){c(null)};if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function _h(u,c,y){return y=y!=null?y.concat([u]):null,ss(4,4,fi.bind(null,c,u),y)}function Ud(){}function jd(u,c){var y=Ri();c=c===void 0?null:c;var S=y.memoizedState;return S!==null&&c!==null&&bc(c,S[1])?S[0]:(y.memoizedState=[u,c],u)}function Uh(u,c){var y=Ri();c=c===void 0?null:c;var S=y.memoizedState;return S!==null&&c!==null&&bc(c,S[1])?S[0]:(u=u(),y.memoizedState=[u,c],u)}function Er(u,c,y){return(pl&21)===0?(u.baseState&&(u.baseState=!1,tr=!0),u.memoizedState=y):(Gn(y,c)||(y=uc(),Pn.lanes|=y,bi|=y,u.baseState=!0),c)}function Bd(u,c){var y=Ut;Ut=y!==0&&4>y?y:4,u(!0);var S=Lc.transition;Lc.transition={};try{u(!1),c()}finally{Ut=y,Lc.transition=S}}function Fe(){return Ri().memoizedState}function jh(u,c,y){var S=zt(u);if(y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},Vd(u))cs(c,y);else if(y=Ad(u,c,y,S),y!==null){var k=Sn();_r(y,u,S,k),Fc(y,c,S)}}function ou(u,c,y){var S=zt(u),k={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(Vd(u))cs(c,k);else{var D=u.alternate;if(u.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var B=c.lastRenderedState,J=D(B,y);if(k.hasEagerState=!0,k.eagerState=J,Gn(J,B)){var ee=c.interleaved;ee===null?(k.next=k,kd(c)):(k.next=ee.next,ee.next=k),c.interleaved=k;return}}catch{}finally{}y=Ad(u,c,k,S),y!==null&&(k=Sn(),_r(y,u,S,k),Fc(y,c,S))}}function Vd(u){var c=u.alternate;return u===Pn||c!==null&&c===Pn}function cs(u,c){xa=Ta=!0;var y=u.pending;y===null?c.next=c:(c.next=y.next,y.next=c),u.pending=c}function Fc(u,c,y){if((y&4194240)!==0){var S=c.lanes;S&=u.pendingLanes,y|=S,c.lanes=y,go(u,y)}}var fs={readContext:br,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},Bh={readContext:br,useCallback:function(u,c){return ko().memoizedState=[u,c===void 0?null:c],u},useContext:br,useEffect:Nd,useImperativeHandle:function(u,c,y){return y=y!=null?y.concat([u]):null,Ea(4194308,4,fi.bind(null,c,u),y)},useLayoutEffect:function(u,c){return Ea(4194308,4,u,c)},useInsertionEffect:function(u,c){return Ea(4,2,u,c)},useMemo:function(u,c){var y=ko();return c=c===void 0?null:c,u=u(),y.memoizedState=[u,c],u},useReducer:function(u,c,y){var S=ko();return c=y!==void 0?y(c):c,S.memoizedState=S.baseState=c,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:c},S.queue=u,u=u.dispatch=jh.bind(null,Pn,u),[S.memoizedState,u]},useRef:function(u){var c=ko();return u={current:u},c.memoizedState=u},useState:Bc,useDebugValue:Ud,useDeferredValue:function(u){return ko().memoizedState=u},useTransition:function(){var u=Bc(!1),c=u[0];return u=Bd.bind(null,u[1]),ko().memoizedState=u,[c,u]},useMutableSource:function(){},useSyncExternalStore:function(u,c,y){var S=Pn,k=ko();if(wt){if(y===void 0)throw Error(U(407));y=y()}else{if(y=c(),Me===null)throw Error(U(349));(pl&30)!==0||Nh(S,c,y)}k.memoizedState=y;var D={value:y,getSnapshot:c};return k.queue=D,Nd(hl.bind(null,S,D,u),[u]),S.flags|=2048,ls(9,Ld.bind(null,S,D,y,c),void 0,null),y},useId:function(){var u=ko(),c=Me.identifierPrefix;if(wt){var y=Di,S=xo;y=(S&~(1<<32-Gr(S)-1)).toString(32)+y,c=":"+c+"R"+y,y=iu++,0<y&&(c+="H"+y.toString(32)),c+=":"}else y=Qg++,c=":"+c+"r"+y.toString(32)+":";return u.memoizedState=c},unstable_isNewReconciler:!1},Zg={readContext:br,useCallback:jd,useContext:br,useEffect:Vc,useImperativeHandle:_h,useInsertionEffect:as,useLayoutEffect:_d,useMemo:Uh,useReducer:os,useRef:bd,useState:function(){return os(Ia)},useDebugValue:Ud,useDeferredValue:function(u){var c=Ri();return Er(c,Hn.memoizedState,u)},useTransition:function(){var u=os(Ia)[0],c=Ri().memoizedState;return[u,c]},useMutableSource:Md,useSyncExternalStore:Uc,useId:Fe,unstable_isNewReconciler:!1},Lu={readContext:br,useCallback:jd,useContext:br,useEffect:Vc,useImperativeHandle:_h,useInsertionEffect:as,useLayoutEffect:_d,useMemo:Uh,useReducer:_c,useRef:bd,useState:function(){return _c(Ia)},useDebugValue:Ud,useDeferredValue:function(u){var c=Ri();return Hn===null?c.memoizedState=u:Er(c,Hn.memoizedState,u)},useTransition:function(){var u=_c(Ia)[0],c=Ri().memoizedState;return[u,c]},useMutableSource:Md,useSyncExternalStore:Uc,useId:Fe,unstable_isNewReconciler:!1};function Mi(u,c){if(u&&u.defaultProps){c=We({},c),u=u.defaultProps;for(var y in u)c[y]===void 0&&(c[y]=u[y]);return c}return c}function Kc(u,c,y,S){c=u.memoizedState,y=y(S,c),y=y==null?c:We({},c,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var to={isMounted:function(u){return(u=u._reactInternals)?wi(u)===u:!1},enqueueSetState:function(u,c,y){u=u._reactInternals;var S=Sn(),k=zt(u),D=tu(S,k);D.payload=c,y!=null&&(D.callback=y),c=nu(u,D,k),c!==null&&(_r(c,u,k,S),Rc(c,u,k))},enqueueReplaceState:function(u,c,y){u=u._reactInternals;var S=Sn(),k=zt(u),D=tu(S,k);D.tag=1,D.payload=c,y!=null&&(D.callback=y),c=nu(u,D,k),c!==null&&(_r(c,u,k,S),Rc(c,u,k))},enqueueForceUpdate:function(u,c){u=u._reactInternals;var y=Sn(),S=zt(u),k=tu(y,S);k.tag=2,c!=null&&(k.callback=c),c=nu(u,k,S),c!==null&&(_r(c,u,S,y),Rc(c,u,S))}};function Hc(u,c,y,S,k,D,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,D,B):c.prototype&&c.prototype.isPureReactComponent?!nn(y,S)||!nn(k,D):!0}function Fd(u,c,y){var S=!1,k=$o,D=c.contextType;return typeof D=="object"&&D!==null?D=br(D):(k=ar(c)?Pu:sr.current,S=c.contextTypes,D=(S=S!=null)?Ql(u,k):$o),c=new c(y,D),u.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=to,u.stateNode=c,c._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=k,u.__reactInternalMemoizedMaskedChildContext=D),c}function Kd(u,c,y,S){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(y,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(y,S),c.state!==u&&to.enqueueReplaceState(c,c.state,null)}function Ca(u,c,y,S){var k=u.stateNode;k.props=y,k.state=u.memoizedState,k.refs={},ts(u);var D=c.contextType;typeof D=="object"&&D!==null?k.context=br(D):(D=ar(c)?Pu:sr.current,k.context=Ql(u,D)),k.state=u.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(Kc(u,c,D,y),k.state=u.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&to.enqueueReplaceState(k,k.state,null),va(u,y,k,S),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308)}function ds(u,c){try{var y="",S=c;do y+=It(S),S=S.return;while(S);var k=y}catch(D){k=`
Error generating stack: `+D.message+`
`+D.stack}return{value:u,source:c,stack:k,digest:null}}function uu(u,c,y){return{value:u,source:null,stack:y??null,digest:c??null}}function bu(u,c){try{console.error(c.value)}catch(y){setTimeout(function(){throw y})}}var Vh=typeof WeakMap=="function"?WeakMap:Map;function ka(u,c,y){y=tu(-1,y),y.tag=3,y.payload={element:null};var S=c.value;return y.callback=function(){La||(La=!0,tf=S),bu(u,c)},y}function Aa(u,c,y){y=tu(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var k=c.value;y.payload=function(){return S(k)},y.callback=function(){bu(u,c)}}var D=u.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(y.callback=function(){bu(u,c),typeof S!="function"&&(au===null?au=new Set([this]):au.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})}),y}function Hd(u,c,y){var S=u.pingCache;if(S===null){S=u.pingCache=new Vh;var k=new Set;S.set(c,k)}else k=S.get(c),k===void 0&&(k=new Set,S.set(c,k));k.has(y)||(k.add(y),u=lp.bind(null,u,c,y),c.then(u,u))}function qd(u){do{var c;if((c=u.tag===13)&&(c=u.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return u;u=u.return}while(u!==null);return null}function zd(u,c,y,S,k){return(u.mode&1)===0?(u===c?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(c=tu(-1,1),c.tag=2,nu(y,c,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=k,u)}var ev=be.ReactCurrentOwner,tr=!1;function an(u,c,y,S){c.child=u===null?Io(c,null,y,S):Mt(c,u.child,y,S)}function Ao(u,c,y,S,k){y=y.render;var D=c.ref;return dl(c,k),S=Rd(u,c,y,S,D,k),y=Nc(),u!==null&&!tr?(c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~k,lu(u,c,k)):(wt&&y&&Zo(c),c.flags|=1,an(u,c,S,k),c.child)}function qc(u,c,y,S,k){if(u===null){var D=y.type;return typeof D=="function"&&!ap(D)&&D.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(c.tag=15,c.type=D,Cr(u,c,D,S,k)):(u=Va(y.type,null,S,c,c.mode,k),u.ref=c.ref,u.return=c,c.child=u)}if(D=u.child,(u.lanes&k)===0){var B=D.memoizedProps;if(y=y.compare,y=y!==null?y:nn,y(B,S)&&u.ref===c.ref)return lu(u,c,k)}return c.flags|=1,u=Mo(D,S),u.ref=c.ref,u.return=c,c.child=u}function Cr(u,c,y,S,k){if(u!==null){var D=u.memoizedProps;if(nn(D,S)&&u.ref===c.ref)if(tr=!1,c.pendingProps=S=D,(u.lanes&k)!==0)(u.flags&131072)!==0&&(tr=!0);else return c.lanes=u.lanes,lu(u,c,k)}return nr(u,c,y,S,k)}function dt(u,c,y){var S=c.pendingProps,k=S.children,D=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(ml,pi),pi|=y;else{if((y&1073741824)===0)return u=D!==null?D.baseLanes|y:y,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:u,cachePool:null,transitions:null},c.updateQueue=null,on(ml,pi),pi|=u,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=D!==null?D.baseLanes:y,on(ml,pi),pi|=S}else D!==null?(S=D.baseLanes|y,c.memoizedState=null):S=y,on(ml,pi),pi|=S;return an(u,c,k,y),c.child}function zc(u,c){var y=c.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(c.flags|=512,c.flags|=2097152)}function nr(u,c,y,S,k){var D=ar(y)?Pu:sr.current;return D=Ql(c,D),dl(c,k),y=Rd(u,c,y,S,D,k),S=Nc(),u!==null&&!tr?(c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~k,lu(u,c,k)):(wt&&S&&Zo(c),c.flags|=1,an(u,c,y,k),c.child)}function Pe(u,c,y,S,k){if(ar(y)){var D=!0;Zl(c)}else D=!1;if(dl(c,k),c.stateNode===null)ys(u,c),Fd(c,y,S),Ca(c,y,S,k),S=!0;else if(u===null){var B=c.stateNode,J=c.memoizedProps;B.props=J;var ee=B.context,ve=y.contextType;typeof ve=="object"&&ve!==null?ve=br(ve):(ve=ar(y)?Pu:sr.current,ve=Ql(c,ve));var Ee=y.getDerivedStateFromProps,Ae=typeof Ee=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ae||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(J!==S||ee!==ve)&&Kd(c,B,S,ve),eo=!1;var xe=c.memoizedState;B.state=xe,va(c,S,B,k),ee=c.memoizedState,J!==S||xe!==ee||Mr.current||eo?(typeof Ee=="function"&&(Kc(c,y,Ee,S),ee=c.memoizedState),(J=eo||Hc(c,y,J,S,xe,ee,ve))?(Ae||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(c.flags|=4194308)):(typeof B.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=ee),B.props=S,B.state=ee,B.context=ve,S=J):(typeof B.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{B=c.stateNode,Mh(u,c),J=c.memoizedProps,ve=c.type===c.elementType?J:Mi(c.type,J),B.props=ve,Ae=c.pendingProps,xe=B.context,ee=y.contextType,typeof ee=="object"&&ee!==null?ee=br(ee):(ee=ar(y)?Pu:sr.current,ee=Ql(c,ee));var He=y.getDerivedStateFromProps;(Ee=typeof He=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(J!==Ae||xe!==ee)&&Kd(c,B,S,ee),eo=!1,xe=c.memoizedState,B.state=xe,va(c,S,B,k);var et=c.memoizedState;J!==Ae||xe!==et||Mr.current||eo?(typeof He=="function"&&(Kc(c,y,He,S),et=c.memoizedState),(ve=eo||Hc(c,y,ve,S,xe,et,ee)||!1)?(Ee||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(S,et,ee),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(S,et,ee)),typeof B.componentDidUpdate=="function"&&(c.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof B.componentDidUpdate!="function"||J===u.memoizedProps&&xe===u.memoizedState||(c.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&xe===u.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=et),B.props=S,B.state=et,B.context=ee,S=ve):(typeof B.componentDidUpdate!="function"||J===u.memoizedProps&&xe===u.memoizedState||(c.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&xe===u.memoizedState||(c.flags|=1024),S=!1)}return Nu(u,c,y,S,D,k)}function Nu(u,c,y,S,k,D){zc(u,c);var B=(c.flags&128)!==0;if(!S&&!B)return k&&Oh(c,y,!1),lu(u,c,D);S=c.stateNode,ev.current=c;var J=B&&typeof y.getDerivedStateFromError!="function"?null:S.render();return c.flags|=1,u!==null&&B?(c.child=Mt(c,u.child,null,D),c.child=Mt(c,null,J,D)):an(u,c,J,D),c.memoizedState=S.state,k&&Oh(c,y,!0),c.child}function Be(u){var c=u.stateNode;c.pendingContext?Qt(u,c.pendingContext,c.pendingContext!==c.context):c.context&&Qt(u,c.context,!1),Mc(u,c.containerInfo)}function Ct(u,c,y,S,k){return eu(),Ou(k),c.flags|=256,an(u,c,y,S),c.child}var ps={dehydrated:null,treeContext:null,retryLane:0};function Gd(u){return{baseLanes:u,cachePool:null,transitions:null}}function Wt(u,c,y){var S=c.pendingProps,k=Cn.current,D=!1,B=(c.flags&128)!==0,J;if((J=B)||(J=u!==null&&u.memoizedState===null?!1:(k&2)!==0),J?(D=!0,c.flags&=-129):(u===null||u.memoizedState!==null)&&(k|=1),on(Cn,k&1),u===null)return Pc(c),u=c.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((c.mode&1)===0?c.lanes=1:u.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(B=S.children,u=S.fallback,D?(S=c.mode,D=c.child,B={mode:"hidden",children:B},(S&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=B):D=uf(B,S,0,null),u=Lo(u,S,y,null),D.return=c,u.return=c,D.sibling=u,c.child=D,c.child.memoizedState=Gd(y),c.memoizedState=ps,u):Pa(c,B));if(k=u.memoizedState,k!==null&&(J=k.dehydrated,J!==null))return tv(u,c,B,S,J,k,y);if(D){D=S.fallback,B=c.mode,k=u.child,J=k.sibling;var ee={mode:"hidden",children:S.children};return(B&1)===0&&c.child!==k?(S=c.child,S.childLanes=0,S.pendingProps=ee,c.deletions=null):(S=Mo(k,ee),S.subtreeFlags=k.subtreeFlags&14680064),J!==null?D=Mo(J,D):(D=Lo(D,B,y,null),D.flags|=2),D.return=c,S.return=c,S.sibling=D,c.child=S,S=D,D=c.child,B=u.child.memoizedState,B=B===null?Gd(y):{baseLanes:B.baseLanes|y,cachePool:null,transitions:B.transitions},D.memoizedState=B,D.childLanes=u.childLanes&~y,c.memoizedState=ps,S}return D=u.child,u=D.sibling,S=Mo(D,{mode:"visible",children:S.children}),(c.mode&1)===0&&(S.lanes=y),S.return=c,S.sibling=null,u!==null&&(y=c.deletions,y===null?(c.deletions=[u],c.flags|=16):y.push(u)),c.child=S,c.memoizedState=null,S}function Pa(u,c){return c=uf({mode:"visible",children:c},u.mode,0,null),c.return=u,u.child=c}function Da(u,c,y,S){return S!==null&&Ou(S),Mt(c,u.child,null,y),u=Pa(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function tv(u,c,y,S,k,D,B){if(y)return c.flags&256?(c.flags&=-257,S=uu(Error(U(422))),Da(u,c,B,S)):c.memoizedState!==null?(c.child=u.child,c.flags|=128,null):(D=S.fallback,k=c.mode,S=uf({mode:"visible",children:S.children},k,0,null),D=Lo(D,k,B,null),D.flags|=2,S.return=c,D.return=c,S.sibling=D,c.child=S,(c.mode&1)!==0&&Mt(c,u.child,null,B),c.child.memoizedState=Gd(B),c.memoizedState=ps,D);if((c.mode&1)===0)return Da(u,c,B,null);if(k.data==="$!"){if(S=k.nextSibling&&k.nextSibling.dataset,S)var J=S.dgst;return S=J,D=Error(U(419)),S=uu(D,S,void 0),Da(u,c,B,S)}if(J=(B&u.childLanes)!==0,tr||J){if(S=Me,S!==null){switch(B&-B){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(S.suspendedLanes|B))!==0?0:k,k!==0&&k!==D.retryLane&&(D.retryLane=k,Zi(u,k),_r(S,u,k,-1))}return rf(),S=uu(Error(U(421))),Da(u,c,B,S)}return k.data==="$?"?(c.flags|=128,c.child=u.child,c=iv.bind(null,u),k._reactRetry=c,null):(u=D.treeContext,Yr=ku(k.nextSibling),_n=c,wt=!0,Qi=null,u!==null&&(ci[Pi++]=xo,ci[Pi++]=Di,ci[Pi++]=Te,xo=u.id,Di=u.overflow,Te=c),c=Pa(c,S.children),c.flags|=4096,c)}function Fh(u,c,y){u.lanes|=c;var S=u.alternate;S!==null&&(S.lanes|=c),Ru(u.return,c,y)}function Gc(u,c,y,S,k){var D=u.memoizedState;D===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:k}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=y,D.tailMode=k)}function hs(u,c,y){var S=c.pendingProps,k=S.revealOrder,D=S.tail;if(an(u,c,S.children,y),S=Cn.current,(S&2)!==0)S=S&1|2,c.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Fh(u,y,c);else if(u.tag===19)Fh(u,y,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(on(Cn,S),(c.mode&1)===0)c.memoizedState=null;else switch(k){case"forwards":for(y=c.child,k=null;y!==null;)u=y.alternate,u!==null&&wa(u)===null&&(k=y),y=y.sibling;y=k,y===null?(k=c.child,c.child=null):(k=y.sibling,y.sibling=null),Gc(c,!1,k,y,D);break;case"backwards":for(y=null,k=c.child,c.child=null;k!==null;){if(u=k.alternate,u!==null&&wa(u)===null){c.child=k;break}u=k.sibling,k.sibling=y,y=k,k=u}Gc(c,!0,y,null,D);break;case"together":Gc(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ys(u,c){(c.mode&1)===0&&u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2)}function lu(u,c,y){if(u!==null&&(c.dependencies=u.dependencies),bi|=c.lanes,(y&c.childLanes)===0)return null;if(u!==null&&c.child!==u.child)throw Error(U(153));if(c.child!==null){for(u=c.child,y=Mo(u,u.pendingProps),c.child=y,y.return=c;u.sibling!==null;)u=u.sibling,y=y.sibling=Mo(u,u.pendingProps),y.return=c;y.sibling=null}return c.child}function Oa(u,c,y){switch(c.tag){case 3:Be(c),eu();break;case 5:bh(c);break;case 1:ar(c.type)&&Zl(c);break;case 4:Mc(c,c.stateNode.containerInfo);break;case 10:var S=c.type._context,k=c.memoizedProps.value;on(ya,S._currentValue),S._currentValue=k;break;case 13:if(S=c.memoizedState,S!==null)return S.dehydrated!==null?(on(Cn,Cn.current&1),c.flags|=128,null):(y&c.child.childLanes)!==0?Wt(u,c,y):(on(Cn,Cn.current&1),u=lu(u,c,y),u!==null?u.sibling:null);on(Cn,Cn.current&1);break;case 19:if(S=(y&c.childLanes)!==0,(u.flags&128)!==0){if(S)return hs(u,c,y);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),on(Cn,Cn.current),S)break;return null;case 22:case 23:return c.lanes=0,dt(u,c,y)}return lu(u,c,y)}var Wd,Wc,Xd,Xc;Wd=function(u,c){for(var y=c.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break;for(;y.sibling===null;){if(y.return===null||y.return===c)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Wc=function(){},Xd=function(u,c,y,S){var k=u.memoizedProps;if(k!==S){u=c.stateNode,Mu(Co.current);var D=null;switch(y){case"input":k=qf(u,k),S=qf(u,S),D=[];break;case"select":k=We({},k,{value:void 0}),S=We({},S,{value:void 0}),D=[];break;case"textarea":k=zf(u,k),S=zf(u,S),D=[];break;default:typeof k.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=aa)}Ot(y,S);var B;y=null;for(ve in k)if(!S.hasOwnProperty(ve)&&k.hasOwnProperty(ve)&&k[ve]!=null)if(ve==="style"){var J=k[ve];for(B in J)J.hasOwnProperty(B)&&(y||(y={}),y[B]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(x.hasOwnProperty(ve)?D||(D=[]):(D=D||[]).push(ve,null));for(ve in S){var ee=S[ve];if(J=k!=null?k[ve]:void 0,S.hasOwnProperty(ve)&&ee!==J&&(ee!=null||J!=null))if(ve==="style")if(J){for(B in J)!J.hasOwnProperty(B)||ee&&ee.hasOwnProperty(B)||(y||(y={}),y[B]="");for(B in ee)ee.hasOwnProperty(B)&&J[B]!==ee[B]&&(y||(y={}),y[B]=ee[B])}else y||(D||(D=[]),D.push(ve,y)),y=ee;else ve==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,J=J?J.__html:void 0,ee!=null&&J!==ee&&(D=D||[]).push(ve,ee)):ve==="children"?typeof ee!="string"&&typeof ee!="number"||(D=D||[]).push(ve,""+ee):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(x.hasOwnProperty(ve)?(ee!=null&&ve==="onScroll"&&In("scroll",u),D||J===ee||(D=[])):(D=D||[]).push(ve,ee))}y&&(D=D||[]).push("style",y);var ve=D;(c.updateQueue=ve)&&(c.flags|=4)}},Xc=function(u,c,y,S){y!==S&&(c.flags|=4)};function Ra(u,c){if(!wt)switch(u.tailMode){case"hidden":c=u.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function kr(u){var c=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(c)for(var k=u.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags&14680064,S|=k.flags&14680064,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags,S|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=S,u.childLanes=y,c}function nv(u,c,y){var S=c.pendingProps;switch(jt(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(c),null;case 1:return ar(c.type)&&Cc(),kr(c),null;case 3:return S=c.stateNode,rs(),gn(Mr),gn(sr),Od(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Lr(c)?c.flags|=4:u===null||u.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Qi!==null&&(ms(Qi),Qi=null))),Wc(u,c),kr(c),null;case 5:Sa(c);var k=Mu(ru.current);if(y=c.type,u!==null&&c.stateNode!=null)Xd(u,c,y,S,k),u.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!S){if(c.stateNode===null)throw Error(U(166));return kr(c),null}if(u=Mu(Co.current),Lr(c)){S=c.stateNode,y=c.type;var D=c.memoizedProps;switch(S[ai]=c,S[ll]=D,u=(c.mode&1)!==0,y){case"dialog":In("cancel",S),In("close",S);break;case"iframe":case"object":case"embed":In("load",S);break;case"video":case"audio":for(k=0;k<Xl.length;k++)In(Xl[k],S);break;case"source":In("error",S);break;case"img":case"image":case"link":In("error",S),In("load",S);break;case"details":In("toggle",S);break;case"input":Gu(S,D),In("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!D.multiple},In("invalid",S);break;case"textarea":Vg(S,D),In("invalid",S)}Ot(y,D),k=null;for(var B in D)if(D.hasOwnProperty(B)){var J=D[B];B==="children"?typeof J=="string"?S.textContent!==J&&(D.suppressHydrationWarning!==!0&&sa(S.textContent,J,u),k=["children",J]):typeof J=="number"&&S.textContent!==""+J&&(D.suppressHydrationWarning!==!0&&sa(S.textContent,J,u),k=["children",""+J]):x.hasOwnProperty(B)&&J!=null&&B==="onScroll"&&In("scroll",S)}switch(y){case"input":ec(S),ph(S,D,!0);break;case"textarea":ec(S),Gf(S);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(S.onclick=aa)}S=k,c.updateQueue=S,S!==null&&(c.flags|=4)}else{B=k.nodeType===9?k:k.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=bs(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=B.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=B.createElement(y,{is:S.is}):(u=B.createElement(y),y==="select"&&(B=u,S.multiple?B.multiple=!0:S.size&&(B.size=S.size))):u=B.createElementNS(u,y),u[ai]=c,u[ll]=S,Wd(u,c,!1,!1),c.stateNode=u;e:{switch(B=Xf(y,S),y){case"dialog":In("cancel",u),In("close",u),k=S;break;case"iframe":case"object":case"embed":In("load",u),k=S;break;case"video":case"audio":for(k=0;k<Xl.length;k++)In(Xl[k],u);k=S;break;case"source":In("error",u),k=S;break;case"img":case"image":case"link":In("error",u),In("load",u),k=S;break;case"details":In("toggle",u),k=S;break;case"input":Gu(u,S),k=qf(u,S),In("invalid",u);break;case"option":k=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},k=We({},S,{value:void 0}),In("invalid",u);break;case"textarea":Vg(u,S),k=zf(u,S),In("invalid",u);break;default:k=S}Ot(y,k),J=k;for(D in J)if(J.hasOwnProperty(D)){var ee=J[D];D==="style"?nc(u,ee):D==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&hh(u,ee)):D==="children"?typeof ee=="string"?(y!=="textarea"||ee!=="")&&_s(u,ee):typeof ee=="number"&&_s(u,""+ee):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(x.hasOwnProperty(D)?ee!=null&&D==="onScroll"&&In("scroll",u):ee!=null&&ue(u,D,ee,B))}switch(y){case"input":ec(u),ph(u,S,!1);break;case"textarea":ec(u),Gf(u);break;case"option":S.value!=null&&u.setAttribute("value",""+rn(S.value));break;case"select":u.multiple=!!S.multiple,D=S.value,D!=null?Si(u,!!S.multiple,D,!1):S.defaultValue!=null&&Si(u,!!S.multiple,S.defaultValue,!0);break;default:typeof k.onClick=="function"&&(u.onclick=aa)}switch(y){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return kr(c),null;case 6:if(u&&c.stateNode!=null)Xc(u,c,u.memoizedProps,S);else{if(typeof S!="string"&&c.stateNode===null)throw Error(U(166));if(y=Mu(ru.current),Mu(Co.current),Lr(c)){if(S=c.stateNode,y=c.memoizedProps,S[ai]=c,(D=S.nodeValue!==y)&&(u=_n,u!==null))switch(u.tag){case 3:sa(S.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&sa(S.nodeValue,y,(u.mode&1)!==0)}D&&(c.flags|=4)}else S=(y.nodeType===9?y:y.ownerDocument).createTextNode(S),S[ai]=c,c.stateNode=S}return kr(c),null;case 13:if(gn(Cn),S=c.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(wt&&Yr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Cd(),eu(),c.flags|=98560,D=!1;else if(D=Lr(c),S!==null&&S.dehydrated!==null){if(u===null){if(!D)throw Error(U(318));if(D=c.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(U(317));D[ai]=c}else eu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;kr(c),D=!1}else Qi!==null&&(ms(Qi),Qi=null),D=!0;if(!D)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=y,c):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(c.child.flags|=8192,(c.mode&1)!==0&&(u===null||(Cn.current&1)!==0?jn===0&&(jn=3):rf())),c.updateQueue!==null&&(c.flags|=4),kr(c),null);case 4:return rs(),Wc(u,c),u===null&&Wo(c.stateNode.containerInfo),kr(c),null;case 10:return ga(c.type._context),kr(c),null;case 17:return ar(c.type)&&Cc(),kr(c),null;case 19:if(gn(Cn),D=c.memoizedState,D===null)return kr(c),null;if(S=(c.flags&128)!==0,B=D.rendering,B===null)if(S)Ra(D,!1);else{if(jn!==0||u!==null&&(u.flags&128)!==0)for(u=c.child;u!==null;){if(B=wa(u),B!==null){for(c.flags|=128,Ra(D,!1),S=B.updateQueue,S!==null&&(c.updateQueue=S,c.flags|=4),c.subtreeFlags=0,S=y,y=c.child;y!==null;)D=y,u=S,D.flags&=14680066,B=D.alternate,B===null?(D.childLanes=0,D.lanes=u,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=B.childLanes,D.lanes=B.lanes,D.child=B.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=B.memoizedProps,D.memoizedState=B.memoizedState,D.updateQueue=B.updateQueue,D.type=B.type,u=B.dependencies,D.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return on(Cn,Cn.current&1|2),c.child}u=u.sibling}D.tail!==null&&xn()>wl&&(c.flags|=128,S=!0,Ra(D,!1),c.lanes=4194304)}else{if(!S)if(u=wa(B),u!==null){if(c.flags|=128,S=!0,y=u.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),Ra(D,!0),D.tail===null&&D.tailMode==="hidden"&&!B.alternate&&!wt)return kr(c),null}else 2*xn()-D.renderingStartTime>wl&&y!==1073741824&&(c.flags|=128,S=!0,Ra(D,!1),c.lanes=4194304);D.isBackwards?(B.sibling=c.child,c.child=B):(y=D.last,y!==null?y.sibling=B:c.child=B,D.last=B)}return D.tail!==null?(c=D.tail,D.rendering=c,D.tail=c.sibling,D.renderingStartTime=xn(),c.sibling=null,y=Cn.current,on(Cn,S?y&1|2:y&1),c):(kr(c),null);case 22:case 23:return Ua(),S=c.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(c.flags|=8192),S&&(c.mode&1)!==0?(pi&1073741824)!==0&&(kr(c),c.subtreeFlags&6&&(c.flags|=8192)):kr(c),null;case 24:return null;case 25:return null}throw Error(U(156,c.tag))}function Yc(u,c){switch(jt(c),c.tag){case 1:return ar(c.type)&&Cc(),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return rs(),gn(Mr),gn(sr),Od(),u=c.flags,(u&65536)!==0&&(u&128)===0?(c.flags=u&-65537|128,c):null;case 5:return Sa(c),null;case 13:if(gn(Cn),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(U(340));eu()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return gn(Cn),null;case 4:return rs(),null;case 10:return ga(c.type._context),null;case 22:case 23:return Ua(),null;case 24:return null;default:return null}}var $c=!1,Wn=!1,yl=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function _u(u,c){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Ln(u,c,S)}else y.current=null}function Uu(u,c,y){try{y()}catch(S){Ln(u,c,S)}}var Kh=!1;function gs(u,c){if(Ic=dn,u=ia(),lr(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var k=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{y.nodeType,D.nodeType}catch{y=null;break e}var B=0,J=-1,ee=-1,ve=0,Ee=0,Ae=u,xe=null;t:for(;;){for(var He;Ae!==y||k!==0&&Ae.nodeType!==3||(J=B+k),Ae!==D||S!==0&&Ae.nodeType!==3||(ee=B+S),Ae.nodeType===3&&(B+=Ae.nodeValue.length),(He=Ae.firstChild)!==null;)xe=Ae,Ae=He;for(;;){if(Ae===u)break t;if(xe===y&&++ve===k&&(J=B),xe===D&&++Ee===S&&(ee=B),(He=Ae.nextSibling)!==null)break;Ae=xe,xe=Ae.parentNode}Ae=He}y=J===-1||ee===-1?null:{start:J,end:ee}}else y=null}y=y||{start:0,end:0}}else y=null;for(md={focusedElem:u,selectionRange:y},dn=!1,Ke=c;Ke!==null;)if(c=Ke,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,Ke=u;else for(;Ke!==null;){c=Ke;try{var et=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var tt=et.memoizedProps,Bn=et.memoizedState,ce=c.stateNode,ne=ce.getSnapshotBeforeUpdate(c.elementType===c.type?tt:Mi(c.type,tt),Bn);ce.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var he=c.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(De){Ln(c,c.return,De)}if(u=c.sibling,u!==null){u.return=c.return,Ke=u;break}Ke=c.return}return et=Kh,Kh=!1,et}function Ma(u,c,y){var S=c.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var k=S=S.next;do{if((k.tag&u)===u){var D=k.destroy;k.destroy=void 0,D!==void 0&&Uu(c,y,D)}k=k.next}while(k!==S)}}function gl(u,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var y=c=c.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==c)}}function Yd(u){var c=u.ref;if(c!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof c=="function"?c(u):c.current=u}}function Hh(u){var c=u.alternate;c!==null&&(u.alternate=null,Hh(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&(delete c[ai],delete c[ll],delete c[xd],delete c[Jg],delete c[Jl])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function $d(u){return u.tag===5||u.tag===3||u.tag===4}function qh(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||$d(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Jd(u,c,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,c?y.nodeType===8?y.parentNode.insertBefore(u,c):y.insertBefore(u,c):(y.nodeType===8?(c=y.parentNode,c.insertBefore(u,y)):(c=y,c.appendChild(u)),y=y._reactRootContainer,y!=null||c.onclick!==null||(c.onclick=aa));else if(S!==4&&(u=u.child,u!==null))for(Jd(u,c,y),u=u.sibling;u!==null;)Jd(u,c,y),u=u.sibling}function Qd(u,c,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,c?y.insertBefore(u,c):y.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(Qd(u,c,y),u=u.sibling;u!==null;)Qd(u,c,y),u=u.sibling}var Xn=null,$r=!1;function di(u,c,y){for(y=y.child;y!==null;)vl(u,c,y),y=y.sibling}function vl(u,c,y){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(yo,y)}catch{}switch(y.tag){case 5:Wn||_u(y,c);case 6:var S=Xn,k=$r;Xn=null,di(u,c,y),Xn=S,$r=k,Xn!==null&&($r?(u=Xn,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):Xn.removeChild(y.stateNode));break;case 18:Xn!==null&&($r?(u=Xn,y=y.stateNode,u.nodeType===8?Ec(u.parentNode,y):u.nodeType===1&&Ec(u,y),er(u)):Ec(Xn,y.stateNode));break;case 4:S=Xn,k=$r,Xn=y.stateNode.containerInfo,$r=!0,di(u,c,y),Xn=S,$r=k;break;case 0:case 11:case 14:case 15:if(!Wn&&(S=y.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){k=S=S.next;do{var D=k,B=D.destroy;D=D.tag,B!==void 0&&((D&2)!==0||(D&4)!==0)&&Uu(y,c,B),k=k.next}while(k!==S)}di(u,c,y);break;case 1:if(!Wn&&(_u(y,c),S=y.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=y.memoizedProps,S.state=y.memoizedState,S.componentWillUnmount()}catch(J){Ln(y,c,J)}di(u,c,y);break;case 21:di(u,c,y);break;case 22:y.mode&1?(Wn=(S=Wn)||y.memoizedState!==null,di(u,c,y),Wn=S):di(u,c,y);break;default:di(u,c,y)}}function Po(u){var c=u.updateQueue;if(c!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new yl),c.forEach(function(S){var k=of.bind(null,u,S);y.has(S)||(y.add(S),S.then(k,k))})}}function Zt(u,c){var y=c.deletions;if(y!==null)for(var S=0;S<y.length;S++){var k=y[S];try{var D=u,B=c,J=B;e:for(;J!==null;){switch(J.tag){case 5:Xn=J.stateNode,$r=!1;break e;case 3:Xn=J.stateNode.containerInfo,$r=!0;break e;case 4:Xn=J.stateNode.containerInfo,$r=!0;break e}J=J.return}if(Xn===null)throw Error(U(160));vl(D,B,k),Xn=null,$r=!1;var ee=k.alternate;ee!==null&&(ee.return=null),k.return=null}catch(ve){Ln(k,c,ve)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)vs(c,u),c=c.sibling}function vs(u,c){var y=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Zt(c,u),Li(u),S&4){try{Ma(3,u,u.return),gl(3,u)}catch(tt){Ln(u,u.return,tt)}try{Ma(5,u,u.return)}catch(tt){Ln(u,u.return,tt)}}break;case 1:Zt(c,u),Li(u),S&512&&y!==null&&_u(y,y.return);break;case 5:if(Zt(c,u),Li(u),S&512&&y!==null&&_u(y,y.return),u.flags&32){var k=u.stateNode;try{_s(k,"")}catch(tt){Ln(u,u.return,tt)}}if(S&4&&(k=u.stateNode,k!=null)){var D=u.memoizedProps,B=y!==null?y.memoizedProps:D,J=u.type,ee=u.updateQueue;if(u.updateQueue=null,ee!==null)try{J==="input"&&D.type==="radio"&&D.name!=null&&Ls(k,D),Xf(J,B);var ve=Xf(J,D);for(B=0;B<ee.length;B+=2){var Ee=ee[B],Ae=ee[B+1];Ee==="style"?nc(k,Ae):Ee==="dangerouslySetInnerHTML"?hh(k,Ae):Ee==="children"?_s(k,Ae):ue(k,Ee,Ae,ve)}switch(J){case"input":Wu(k,D);break;case"textarea":Fg(k,D);break;case"select":var xe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!D.multiple;var He=D.value;He!=null?Si(k,!!D.multiple,He,!1):xe!==!!D.multiple&&(D.defaultValue!=null?Si(k,!!D.multiple,D.defaultValue,!0):Si(k,!!D.multiple,D.multiple?[]:"",!1))}k[ll]=D}catch(tt){Ln(u,u.return,tt)}}break;case 6:if(Zt(c,u),Li(u),S&4){if(u.stateNode===null)throw Error(U(162));k=u.stateNode,D=u.memoizedProps;try{k.nodeValue=D}catch(tt){Ln(u,u.return,tt)}}break;case 3:if(Zt(c,u),Li(u),S&4&&y!==null&&y.memoizedState.isDehydrated)try{er(c.containerInfo)}catch(tt){Ln(u,u.return,tt)}break;case 4:Zt(c,u),Li(u);break;case 13:Zt(c,u),Li(u),k=u.child,k.flags&8192&&(D=k.memoizedState!==null,k.stateNode.isHidden=D,!D||k.alternate!==null&&k.alternate.memoizedState!==null||(ef=xn())),S&4&&Po(u);break;case 22:if(Ee=y!==null&&y.memoizedState!==null,u.mode&1?(Wn=(ve=Wn)||Ee,Zt(c,u),Wn=ve):Zt(c,u),Li(u),S&8192){if(ve=u.memoizedState!==null,(u.stateNode.isHidden=ve)&&!Ee&&(u.mode&1)!==0)for(Ke=u,Ee=u.child;Ee!==null;){for(Ae=Ke=Ee;Ke!==null;){switch(xe=Ke,He=xe.child,xe.tag){case 0:case 11:case 14:case 15:Ma(4,xe,xe.return);break;case 1:_u(xe,xe.return);var et=xe.stateNode;if(typeof et.componentWillUnmount=="function"){S=xe,y=xe.return;try{c=S,et.props=c.memoizedProps,et.state=c.memoizedState,et.componentWillUnmount()}catch(tt){Ln(S,y,tt)}}break;case 5:_u(xe,xe.return);break;case 22:if(xe.memoizedState!==null){Xh(Ae);continue}}He!==null?(He.return=xe,Ke=He):Xh(Ae)}Ee=Ee.sibling}e:for(Ee=null,Ae=u;;){if(Ae.tag===5){if(Ee===null){Ee=Ae;try{k=Ae.stateNode,ve?(D=k.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(J=Ae.stateNode,ee=Ae.memoizedProps.style,B=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,J.style.display=du("display",B))}catch(tt){Ln(u,u.return,tt)}}}else if(Ae.tag===6){if(Ee===null)try{Ae.stateNode.nodeValue=ve?"":Ae.memoizedProps}catch(tt){Ln(u,u.return,tt)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===u)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===u)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===u)break e;Ee===Ae&&(Ee=null),Ae=Ae.return}Ee===Ae&&(Ee=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Zt(c,u),Li(u),S&4&&Po(u);break;case 21:break;default:Zt(c,u),Li(u)}}function Li(u){var c=u.flags;if(c&2){try{e:{for(var y=u.return;y!==null;){if($d(y)){var S=y;break e}y=y.return}throw Error(U(160))}switch(S.tag){case 5:var k=S.stateNode;S.flags&32&&(_s(k,""),S.flags&=-33);var D=qh(u);Qd(u,D,k);break;case 3:case 4:var B=S.stateNode.containerInfo,J=qh(u);Jd(u,J,B);break;default:throw Error(U(161))}}catch(ee){Ln(u,u.return,ee)}u.flags&=-3}c&4096&&(u.flags&=-4097)}function zh(u,c,y){Ke=u,Gh(u)}function Gh(u,c,y){for(var S=(u.mode&1)!==0;Ke!==null;){var k=Ke,D=k.child;if(k.tag===22&&S){var B=k.memoizedState!==null||$c;if(!B){var J=k.alternate,ee=J!==null&&J.memoizedState!==null||Wn;J=$c;var ve=Wn;if($c=B,(Wn=ee)&&!ve)for(Ke=k;Ke!==null;)B=Ke,ee=B.child,B.tag===22&&B.memoizedState!==null?Zd(k):ee!==null?(ee.return=B,Ke=ee):Zd(k);for(;D!==null;)Ke=D,Gh(D),D=D.sibling;Ke=k,$c=J,Wn=ve}Wh(u)}else(k.subtreeFlags&8772)!==0&&D!==null?(D.return=k,Ke=D):Wh(u)}}function Wh(u){for(;Ke!==null;){var c=Ke;if((c.flags&8772)!==0){var y=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Wn||gl(5,c);break;case 1:var S=c.stateNode;if(c.flags&4&&!Wn)if(y===null)S.componentDidMount();else{var k=c.elementType===c.type?y.memoizedProps:Mi(c.type,y.memoizedProps);S.componentDidUpdate(k,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var D=c.updateQueue;D!==null&&Lh(c,D,S);break;case 3:var B=c.updateQueue;if(B!==null){if(y=null,c.child!==null)switch(c.child.tag){case 5:y=c.child.stateNode;break;case 1:y=c.child.stateNode}Lh(c,B,y)}break;case 5:var J=c.stateNode;if(y===null&&c.flags&4){y=J;var ee=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&y.focus();break;case"img":ee.src&&(y.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ve=c.alternate;if(ve!==null){var Ee=ve.memoizedState;if(Ee!==null){var Ae=Ee.dehydrated;Ae!==null&&er(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Wn||c.flags&512&&Yd(c)}catch(xe){Ln(c,c.return,xe)}}if(c===u){Ke=null;break}if(y=c.sibling,y!==null){y.return=c.return,Ke=y;break}Ke=c.return}}function Xh(u){for(;Ke!==null;){var c=Ke;if(c===u){Ke=null;break}var y=c.sibling;if(y!==null){y.return=c.return,Ke=y;break}Ke=c.return}}function Zd(u){for(;Ke!==null;){var c=Ke;try{switch(c.tag){case 0:case 11:case 15:var y=c.return;try{gl(4,c)}catch(ee){Ln(c,y,ee)}break;case 1:var S=c.stateNode;if(typeof S.componentDidMount=="function"){var k=c.return;try{S.componentDidMount()}catch(ee){Ln(c,k,ee)}}var D=c.return;try{Yd(c)}catch(ee){Ln(c,D,ee)}break;case 5:var B=c.return;try{Yd(c)}catch(ee){Ln(c,B,ee)}}}catch(ee){Ln(c,c.return,ee)}if(c===u){Ke=null;break}var J=c.sibling;if(J!==null){J.return=c.return,Ke=J;break}Ke=c.return}}var Yh=Math.ceil,Jc=be.ReactCurrentDispatcher,ep=be.ReactCurrentOwner,Jr=be.ReactCurrentBatchConfig,$t=0,Me=null,Un=null,fr=0,pi=0,ml=Ci(0),jn=0,su=null,bi=0,Qc=0,Zc=0,Sl=null,Nr=null,ef=0,wl=1/0,Do=null,La=!1,tf=null,au=null,ba=!1,cu=null,Na=0,_a=0,St=null,Qr=-1,Tl=0;function Sn(){return($t&6)!==0?xn():Qr!==-1?Qr:Qr=xn()}function zt(u){return(u.mode&1)===0?1:($t&2)!==0&&fr!==0?fr&-fr:Kt.transition!==null?(Tl===0&&(Tl=uc()),Tl):(u=Ut,u!==0||(u=window.event,u=u===void 0?16:Uo(u.type)),u)}function _r(u,c,y,S){if(50<_a)throw _a=0,St=null,Error(U(185));Wi(u,y,S),(($t&2)===0||u!==Me)&&(u===Me&&(($t&2)===0&&(Qc|=y),jn===4&&ju(u,fr)),Ar(u,S),y===1&&$t===0&&(c.mode&1)===0&&(wl=xn()+500,da&&Yt()))}function Ar(u,c){var y=u.callbackNode;Ws(u,c);var S=Tt(u,u===Me?fr:0);if(S===0)y!==null&&st(y),u.callbackNode=null,u.callbackPriority=0;else if(c=S&-S,u.callbackPriority!==c){if(y!=null&&st(y),c===1)u.tag===0?bt(np.bind(null,u)):ki(np.bind(null,u)),Yg(function(){($t&6)===0&&Yt()}),y=null;else{switch(ri(S)){case 1:y=Or;break;case 4:y=zs;break;case 16:y=qr;break;case 536870912:y=Gs;break;default:y=qr}y=sp(y,tp.bind(null,u))}u.callbackPriority=c,u.callbackNode=y}}function tp(u,c){if(Qr=-1,Tl=0,($t&6)!==0)throw Error(U(327));var y=u.callbackNode;if(xl()&&u.callbackNode!==y)return null;var S=Tt(u,u===Me?fr:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||c)c=ja(u,S);else{c=S;var k=$t;$t|=2;var D=Ss();(Me!==u||fr!==c)&&(Do=null,wl=xn()+500,Ro(u,c));do try{ip();break}catch(J){$h(u,J)}while(!0);cr(),Jc.current=D,$t=k,Un!==null?c=0:(Me=null,fr=0,c=jn)}if(c!==0){if(c===2&&(k=oc(u),k!==0&&(S=k,c=nf(u,k))),c===1)throw y=su,Ro(u,0),ju(u,S),Ar(u,xn()),y;if(c===6)ju(u,S);else{if(k=u.current.alternate,(S&30)===0&&!rv(k)&&(c=ja(u,S),c===2&&(D=oc(u),D!==0&&(S=D,c=nf(u,D))),c===1))throw y=su,Ro(u,0),ju(u,S),Ar(u,xn()),y;switch(u.finishedWork=k,u.finishedLanes=S,c){case 0:case 1:throw Error(U(345));case 2:ro(u,Nr,Do);break;case 3:if(ju(u,S),(S&130023424)===S&&(c=ef+500-xn(),10<c)){if(Tt(u,0)!==0)break;if(k=u.suspendedLanes,(k&S)!==S){Sn(),u.pingedLanes|=u.suspendedLanes&k;break}u.timeoutHandle=$l(ro.bind(null,u,Nr,Do),c);break}ro(u,Nr,Do);break;case 4:if(ju(u,S),(S&4194240)===S)break;for(c=u.eventTimes,k=-1;0<S;){var B=31-Gr(S);D=1<<B,B=c[B],B>k&&(k=B),S&=~D}if(S=k,S=xn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*Yh(S/1960))-S,10<S){u.timeoutHandle=$l(ro.bind(null,u,Nr,Do),S);break}ro(u,Nr,Do);break;case 5:ro(u,Nr,Do);break;default:throw Error(U(329))}}}return Ar(u,xn()),u.callbackNode===y?tp.bind(null,u):null}function nf(u,c){var y=Sl;return u.current.memoizedState.isDehydrated&&(Ro(u,c).flags|=256),u=ja(u,c),u!==2&&(c=Nr,Nr=y,c!==null&&ms(c)),u}function ms(u){Nr===null?Nr=u:Nr.push.apply(Nr,u)}function rv(u){for(var c=u;;){if(c.flags&16384){var y=c.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var k=y[S],D=k.getSnapshot;k=k.value;try{if(!Gn(D(),k))return!1}catch{return!1}}}if(y=c.child,c.subtreeFlags&16384&&y!==null)y.return=c,c=y;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ju(u,c){for(c&=~Zc,c&=~Qc,u.suspendedLanes|=c,u.pingedLanes&=~c,u=u.expirationTimes;0<c;){var y=31-Gr(c),S=1<<y;u[y]=-1,c&=~S}}function np(u){if(($t&6)!==0)throw Error(U(327));xl();var c=Tt(u,0);if((c&1)===0)return Ar(u,xn()),null;var y=ja(u,c);if(u.tag!==0&&y===2){var S=oc(u);S!==0&&(c=S,y=nf(u,S))}if(y===1)throw y=su,Ro(u,0),ju(u,c),Ar(u,xn()),y;if(y===6)throw Error(U(345));return u.finishedWork=u.current.alternate,u.finishedLanes=c,ro(u,Nr,Do),Ar(u,xn()),null}function rp(u,c){var y=$t;$t|=1;try{return u(c)}finally{$t=y,$t===0&&(wl=xn()+500,da&&Yt())}}function Oo(u){cu!==null&&cu.tag===0&&($t&6)===0&&xl();var c=$t;$t|=1;var y=Jr.transition,S=Ut;try{if(Jr.transition=null,Ut=1,u)return u()}finally{Ut=S,Jr.transition=y,$t=c,($t&6)===0&&Yt()}}function Ua(){pi=ml.current,gn(ml)}function Ro(u,c){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,Xg(y)),Un!==null)for(y=Un.return;y!==null;){var S=y;switch(jt(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Cc();break;case 3:rs(),gn(Mr),gn(sr),Od();break;case 5:Sa(S);break;case 4:rs();break;case 13:gn(Cn);break;case 19:gn(Cn);break;case 10:ga(S.type._context);break;case 22:case 23:Ua()}y=y.return}if(Me=u,Un=u=Mo(u.current,null),fr=pi=c,jn=0,su=null,Zc=Qc=bi=0,Nr=Sl=null,Oi!==null){for(c=0;c<Oi.length;c++)if(y=Oi[c],S=y.interleaved,S!==null){y.interleaved=null;var k=S.next,D=y.pending;if(D!==null){var B=D.next;D.next=k,S.next=B}y.pending=S}Oi=null}return u}function $h(u,c){do{var y=Un;try{if(cr(),is.current=fs,Ta){for(var S=Pn.memoizedState;S!==null;){var k=S.queue;k!==null&&(k.pending=null),S=S.next}Ta=!1}if(pl=0,Mn=Hn=Pn=null,xa=!1,iu=0,ep.current=null,y===null||y.return===null){jn=1,su=c,Un=null;break}e:{var D=u,B=y.return,J=y,ee=c;if(c=fr,J.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ve=ee,Ee=J,Ae=Ee.tag;if((Ee.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var xe=Ee.alternate;xe?(Ee.updateQueue=xe.updateQueue,Ee.memoizedState=xe.memoizedState,Ee.lanes=xe.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var He=qd(B);if(He!==null){He.flags&=-257,zd(He,B,J,D,c),He.mode&1&&Hd(D,ve,c),c=He,ee=ve;var et=c.updateQueue;if(et===null){var tt=new Set;tt.add(ee),c.updateQueue=tt}else et.add(ee);break e}else{if((c&1)===0){Hd(D,ve,c),rf();break e}ee=Error(U(426))}}else if(wt&&J.mode&1){var Bn=qd(B);if(Bn!==null){(Bn.flags&65536)===0&&(Bn.flags|=256),zd(Bn,B,J,D,c),Ou(ds(ee,J));break e}}D=ee=ds(ee,J),jn!==4&&(jn=2),Sl===null?Sl=[D]:Sl.push(D),D=B;do{switch(D.tag){case 3:D.flags|=65536,c&=-c,D.lanes|=c;var ce=ka(D,ee,c);Pd(D,ce);break e;case 1:J=ee;var ne=D.type,he=D.stateNode;if((D.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(au===null||!au.has(he)))){D.flags|=65536,c&=-c,D.lanes|=c;var De=Aa(D,J,c);Pd(D,De);break e}}D=D.return}while(D!==null)}Jh(y)}catch(nt){c=nt,Un===y&&y!==null&&(Un=y=y.return);continue}break}while(!0)}function Ss(){var u=Jc.current;return Jc.current=fs,u===null?fs:u}function rf(){(jn===0||jn===3||jn===2)&&(jn=4),Me===null||(bi&268435455)===0&&(Qc&268435455)===0||ju(Me,fr)}function ja(u,c){var y=$t;$t|=2;var S=Ss();(Me!==u||fr!==c)&&(Do=null,Ro(u,c));do try{no();break}catch(k){$h(u,k)}while(!0);if(cr(),$t=y,Jc.current=S,Un!==null)throw Error(U(261));return Me=null,fr=0,jn}function no(){for(;Un!==null;)op(Un)}function ip(){for(;Un!==null&&!zi();)op(Un)}function op(u){var c=Il(u.alternate,u,pi);u.memoizedProps=u.pendingProps,c===null?Jh(u):Un=c,ep.current=null}function Jh(u){var c=u;do{var y=c.alternate;if(u=c.return,(c.flags&32768)===0){if(y=nv(y,c,pi),y!==null){Un=y;return}}else{if(y=Yc(y,c),y!==null){y.flags&=32767,Un=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{jn=6,Un=null;return}}if(c=c.sibling,c!==null){Un=c;return}Un=c=u}while(c!==null);jn===0&&(jn=5)}function ro(u,c,y){var S=Ut,k=Jr.transition;try{Jr.transition=null,Ut=1,up(u,c,y,S)}finally{Jr.transition=k,Ut=S}return null}function up(u,c,y,S){do xl();while(cu!==null);if(($t&6)!==0)throw Error(U(327));y=u.finishedWork;var k=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(U(177));u.callbackNode=null,u.callbackPriority=0;var D=y.lanes|y.childLanes;if(Jt(u,D),u===Me&&(Un=Me=null,fr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||ba||(ba=!0,sp(qr,function(){return xl(),null})),D=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||D){D=Jr.transition,Jr.transition=null;var B=Ut;Ut=1;var J=$t;$t|=4,ep.current=null,gs(u,y),vs(y,u),fd(md),dn=!!Ic,md=Ic=null,u.current=y,zh(y),qs(),$t=J,Ut=B,Jr.transition=D}else u.current=y;if(ba&&(ba=!1,cu=u,Na=k),D=u.pendingLanes,D===0&&(au=null),Ti(y.stateNode),Ar(u,xn()),c!==null)for(S=u.onRecoverableError,y=0;y<c.length;y++)k=c[y],S(k.value,{componentStack:k.stack,digest:k.digest});if(La)throw La=!1,u=tf,tf=null,u;return(Na&1)!==0&&u.tag!==0&&xl(),D=u.pendingLanes,(D&1)!==0?u===St?_a++:(_a=0,St=u):_a=0,Yt(),null}function xl(){if(cu!==null){var u=ri(Na),c=Jr.transition,y=Ut;try{if(Jr.transition=null,Ut=16>u?16:u,cu===null)var S=!1;else{if(u=cu,cu=null,Na=0,($t&6)!==0)throw Error(U(331));var k=$t;for($t|=4,Ke=u.current;Ke!==null;){var D=Ke,B=D.child;if((Ke.flags&16)!==0){var J=D.deletions;if(J!==null){for(var ee=0;ee<J.length;ee++){var ve=J[ee];for(Ke=ve;Ke!==null;){var Ee=Ke;switch(Ee.tag){case 0:case 11:case 15:Ma(8,Ee,D)}var Ae=Ee.child;if(Ae!==null)Ae.return=Ee,Ke=Ae;else for(;Ke!==null;){Ee=Ke;var xe=Ee.sibling,He=Ee.return;if(Hh(Ee),Ee===ve){Ke=null;break}if(xe!==null){xe.return=He,Ke=xe;break}Ke=He}}}var et=D.alternate;if(et!==null){var tt=et.child;if(tt!==null){et.child=null;do{var Bn=tt.sibling;tt.sibling=null,tt=Bn}while(tt!==null)}}Ke=D}}if((D.subtreeFlags&2064)!==0&&B!==null)B.return=D,Ke=B;else e:for(;Ke!==null;){if(D=Ke,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Ma(9,D,D.return)}var ce=D.sibling;if(ce!==null){ce.return=D.return,Ke=ce;break e}Ke=D.return}}var ne=u.current;for(Ke=ne;Ke!==null;){B=Ke;var he=B.child;if((B.subtreeFlags&2064)!==0&&he!==null)he.return=B,Ke=he;else e:for(B=ne;Ke!==null;){if(J=Ke,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:gl(9,J)}}catch(nt){Ln(J,J.return,nt)}if(J===B){Ke=null;break e}var De=J.sibling;if(De!==null){De.return=J.return,Ke=De;break e}Ke=J.return}}if($t=k,Yt(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(yo,u)}catch{}S=!0}return S}finally{Ut=y,Jr.transition=c}}return!1}function Ba(u,c,y){c=ds(y,c),c=ka(u,c,1),u=nu(u,c,1),c=Sn(),u!==null&&(Wi(u,1,c),Ar(u,c))}function Ln(u,c,y){if(u.tag===3)Ba(u,u,y);else for(;c!==null;){if(c.tag===3){Ba(c,u,y);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(au===null||!au.has(S))){u=ds(y,u),u=Aa(c,u,1),c=nu(c,u,1),u=Sn(),c!==null&&(Wi(c,1,u),Ar(c,u));break}}c=c.return}}function lp(u,c,y){var S=u.pingCache;S!==null&&S.delete(c),c=Sn(),u.pingedLanes|=u.suspendedLanes&y,Me===u&&(fr&y)===y&&(jn===4||jn===3&&(fr&130023424)===fr&&500>xn()-ef?Ro(u,0):Zc|=y),Ar(u,c)}function Qh(u,c){c===0&&((u.mode&1)===0?c=1:(c=vu,vu<<=1,(vu&130023424)===0&&(vu=4194304)));var y=Sn();u=Zi(u,c),u!==null&&(Wi(u,c,y),Ar(u,y))}function iv(u){var c=u.memoizedState,y=0;c!==null&&(y=c.retryLane),Qh(u,y)}function of(u,c){var y=0;switch(u.tag){case 13:var S=u.stateNode,k=u.memoizedState;k!==null&&(y=k.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(U(314))}S!==null&&S.delete(c),Qh(u,y)}var Il;Il=function(u,c,y){if(u!==null)if(u.memoizedProps!==c.pendingProps||Mr.current)tr=!0;else{if((u.lanes&y)===0&&(c.flags&128)===0)return tr=!1,Oa(u,c,y);tr=(u.flags&131072)!==0}else tr=!1,wt&&(c.flags&1048576)!==0&&cl(c,pa,c.index);switch(c.lanes=0,c.tag){case 2:var S=c.type;ys(u,c),u=c.pendingProps;var k=Ql(c,sr.current);dl(c,y),k=Rd(null,c,S,u,k,y);var D=Nc();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ar(S)?(D=!0,Zl(c)):D=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,ts(c),k.updater=to,c.stateNode=k,k._reactInternals=c,Ca(c,S,u,y),c=Nu(null,c,S,!0,D,y)):(c.tag=0,wt&&D&&Zo(c),an(null,c,k,y),c=c.child),c;case 16:S=c.elementType;e:{switch(ys(u,c),u=c.pendingProps,k=S._init,S=k(S._payload),c.type=S,k=c.tag=uv(S),u=Mi(S,u),k){case 0:c=nr(null,c,S,u,y);break e;case 1:c=Pe(null,c,S,u,y);break e;case 11:c=Ao(null,c,S,u,y);break e;case 14:c=qc(null,c,S,Mi(S.type,u),y);break e}throw Error(U(306,S,""))}return c;case 0:return S=c.type,k=c.pendingProps,k=c.elementType===S?k:Mi(S,k),nr(u,c,S,k,y);case 1:return S=c.type,k=c.pendingProps,k=c.elementType===S?k:Mi(S,k),Pe(u,c,S,k,y);case 3:e:{if(Be(c),u===null)throw Error(U(387));S=c.pendingProps,D=c.memoizedState,k=D.element,Mh(u,c),va(c,S,null,y);var B=c.memoizedState;if(S=B.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){k=ds(Error(U(423)),c),c=Ct(u,c,S,y,k);break e}else if(S!==k){k=ds(Error(U(424)),c),c=Ct(u,c,S,y,k);break e}else for(Yr=ku(c.stateNode.containerInfo.firstChild),_n=c,wt=!0,Qi=null,y=Io(c,null,S,y),c.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(eu(),S===k){c=lu(u,c,y);break e}an(u,c,S,y)}c=c.child}return c;case 5:return bh(c),u===null&&Pc(c),S=c.type,k=c.pendingProps,D=u!==null?u.memoizedProps:null,B=k.children,Sd(S,k)?B=null:D!==null&&Sd(S,D)&&(c.flags|=32),zc(u,c),an(u,c,B,y),c.child;case 6:return u===null&&Pc(c),null;case 13:return Wt(u,c,y);case 4:return Mc(c,c.stateNode.containerInfo),S=c.pendingProps,u===null?c.child=Mt(c,null,S,y):an(u,c,S,y),c.child;case 11:return S=c.type,k=c.pendingProps,k=c.elementType===S?k:Mi(S,k),Ao(u,c,S,k,y);case 7:return an(u,c,c.pendingProps,y),c.child;case 8:return an(u,c,c.pendingProps.children,y),c.child;case 12:return an(u,c,c.pendingProps.children,y),c.child;case 10:e:{if(S=c.type._context,k=c.pendingProps,D=c.memoizedProps,B=k.value,on(ya,S._currentValue),S._currentValue=B,D!==null)if(Gn(D.value,B)){if(D.children===k.children&&!Mr.current){c=lu(u,c,y);break e}}else for(D=c.child,D!==null&&(D.return=c);D!==null;){var J=D.dependencies;if(J!==null){B=D.child;for(var ee=J.firstContext;ee!==null;){if(ee.context===S){if(D.tag===1){ee=tu(-1,y&-y),ee.tag=2;var ve=D.updateQueue;if(ve!==null){ve=ve.shared;var Ee=ve.pending;Ee===null?ee.next=ee:(ee.next=Ee.next,Ee.next=ee),ve.pending=ee}}D.lanes|=y,ee=D.alternate,ee!==null&&(ee.lanes|=y),Ru(D.return,y,c),J.lanes|=y;break}ee=ee.next}}else if(D.tag===10)B=D.type===c.type?null:D.child;else if(D.tag===18){if(B=D.return,B===null)throw Error(U(341));B.lanes|=y,J=B.alternate,J!==null&&(J.lanes|=y),Ru(B,y,c),B=D.sibling}else B=D.child;if(B!==null)B.return=D;else for(B=D;B!==null;){if(B===c){B=null;break}if(D=B.sibling,D!==null){D.return=B.return,B=D;break}B=B.return}D=B}an(u,c,k.children,y),c=c.child}return c;case 9:return k=c.type,S=c.pendingProps.children,dl(c,y),k=br(k),S=S(k),c.flags|=1,an(u,c,S,y),c.child;case 14:return S=c.type,k=Mi(S,c.pendingProps),k=Mi(S.type,k),qc(u,c,S,k,y);case 15:return Cr(u,c,c.type,c.pendingProps,y);case 17:return S=c.type,k=c.pendingProps,k=c.elementType===S?k:Mi(S,k),ys(u,c),c.tag=1,ar(S)?(u=!0,Zl(c)):u=!1,dl(c,y),Fd(c,S,k),Ca(c,S,k,y),Nu(null,c,S,!0,u,y);case 19:return hs(u,c,y);case 22:return dt(u,c,y)}throw Error(U(156,c.tag))};function sp(u,c){return Bl(u,c)}function ov(u,c,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(u,c,y,S){return new ov(u,c,y,S)}function ap(u){return u=u.prototype,!(!u||!u.isReactComponent)}function uv(u){if(typeof u=="function")return ap(u)?1:0;if(u!=null){if(u=u.$$typeof,u===de)return 11;if(u===ke)return 14}return 2}function Mo(u,c){var y=u.alternate;return y===null?(y=Ni(u.tag,c,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=c,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,c=u.dependencies,y.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function Va(u,c,y,S,k,D){var B=2;if(S=u,typeof u=="function")ap(u)&&(B=1);else if(typeof u=="string")B=5;else e:switch(u){case un:return Lo(y.children,k,D,c);case Tn:B=8,k|=8;break;case vn:return u=Ni(12,y,c,k|2),u.elementType=vn,u.lanes=D,u;case qe:return u=Ni(13,y,c,k),u.elementType=qe,u.lanes=D,u;case Oe:return u=Ni(19,y,c,k),u.elementType=Oe,u.lanes=D,u;case Dt:return uf(y,k,D,c);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case L:B=10;break e;case oe:B=9;break e;case de:B=11;break e;case ke:B=14;break e;case _t:B=16,S=null;break e}throw Error(U(130,u==null?u:typeof u,""))}return c=Ni(B,y,c,k),c.elementType=u,c.type=S,c.lanes=D,c}function Lo(u,c,y,S){return u=Ni(7,u,S,c),u.lanes=y,u}function uf(u,c,y,S){return u=Ni(22,u,S,c),u.elementType=Dt,u.lanes=y,u.stateNode={isHidden:!1},u}function Bu(u,c,y){return u=Ni(6,u,null,c),u.lanes=y,u}function cp(u,c,y){return c=Ni(4,u.children!==null?u.children:[],u.key,c),c.lanes=y,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}function lf(u,c,y,S,k){this.tag=c,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=S,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function fp(u,c,y,S,k,D,B,J,ee){return u=new lf(u,c,y,J,ee),c===1?(c=1,D===!0&&(c|=8)):c=0,D=Ni(3,null,null,c),u.current=D,D.stateNode=u,D.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},ts(D),u}function Zh(u,c,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mt,key:S==null?null:""+S,children:u,containerInfo:c,implementation:y}}function sf(u){if(!u)return $o;u=u._reactInternals;e:{if(wi(u)!==u||u.tag!==1)throw Error(U(170));var c=u;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ar(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(U(171))}if(u.tag===1){var y=u.type;if(ar(y))return Id(u,y,c)}return c}function ey(u,c,y,S,k,D,B,J,ee){return u=fp(y,S,!0,u,k,D,B,J,ee),u.context=sf(null),y=u.current,S=Sn(),k=zt(y),D=tu(S,k),D.callback=c??null,nu(y,D,k),u.current.lanes=k,Wi(u,k,S),Ar(u,S),u}function af(u,c,y,S){var k=c.current,D=Sn(),B=zt(k);return y=sf(y),c.context===null?c.context=y:c.pendingContext=y,c=tu(D,B),c.payload={element:u},S=S===void 0?null:S,S!==null&&(c.callback=S),u=nu(k,c,B),u!==null&&(_r(u,k,B,D),Rc(u,k,B)),B}function cf(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function ty(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<c?y:c}}function dp(u,c){ty(u,c),(u=u.alternate)&&ty(u,c)}function lv(){return null}var ny=typeof reportError=="function"?reportError:function(u){console.error(u)};function pp(u){this._internalRoot=u}Fa.prototype.render=pp.prototype.render=function(u){var c=this._internalRoot;if(c===null)throw Error(U(409));af(u,c,null,null)},Fa.prototype.unmount=pp.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var c=u.containerInfo;Oo(function(){af(null,u,null,null)}),c[Yo]=null}};function Fa(u){this._internalRoot=u}Fa.prototype.unstable_scheduleHydration=function(u){if(u){var c=Zf();u={blockedOn:null,target:u,priority:c};for(var y=0;y<Xr.length&&c!==0&&c<Xr[y].priority;y++);Xr.splice(y,0,u),y===0&&mh(u)}};function Ka(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function ws(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function ff(){}function hp(u,c,y,S,k){if(k){if(typeof S=="function"){var D=S;S=function(){var ve=cf(B);D.call(ve)}}var B=ey(c,S,u,0,null,!1,!1,"",ff);return u._reactRootContainer=B,u[Yo]=B.current,Wo(u.nodeType===8?u.parentNode:u),Oo(),B}for(;k=u.lastChild;)u.removeChild(k);if(typeof S=="function"){var J=S;S=function(){var ve=cf(ee);J.call(ve)}}var ee=fp(u,0,!1,null,null,!1,!1,"",ff);return u._reactRootContainer=ee,u[Yo]=ee.current,Wo(u.nodeType===8?u.parentNode:u),Oo(function(){af(c,ee,y,S)}),ee}function El(u,c,y,S,k){var D=y._reactRootContainer;if(D){var B=D;if(typeof k=="function"){var J=k;k=function(){var ee=cf(B);J.call(ee)}}af(c,B,u,k)}else B=hp(y,c,u,k,S);return cf(B)}lc=function(u){switch(u.tag){case 3:var c=u.stateNode;if(c.current.memoizedState.isDehydrated){var y=$u(c.pendingLanes);y!==0&&(go(c,y|1),Ar(c,xn()),($t&6)===0&&(wl=xn()+500,Yt()))}break;case 13:Oo(function(){var S=Zi(u,1);if(S!==null){var k=Sn();_r(S,u,1,k)}}),dp(u,1)}},Xs=function(u){if(u.tag===13){var c=Zi(u,134217728);if(c!==null){var y=Sn();_r(c,u,134217728,y)}dp(u,134217728)}},rr=function(u){if(u.tag===13){var c=zt(u),y=Zi(u,c);if(y!==null){var S=Sn();_r(y,u,c,S)}dp(u,c)}},Zf=function(){return Ut},Ju=function(u,c){var y=Ut;try{return Ut=u,c()}finally{Ut=y}},Xu=function(u,c,y){switch(c){case"input":if(Wu(u,y),c=y.name,y.type==="radio"&&c!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<y.length;c++){var S=y[c];if(S!==u&&S.form===u.form){var k=ca(S);if(!k)throw Error(U(90));Re(S),Wu(S,k)}}}break;case"textarea":Fg(u,y);break;case"select":c=y.value,c!=null&&Si(u,!!y.multiple,c,!1)}},$f=rp,vr=Oo;var yp={usingClientEntryPoint:!1,Events:[sl,Au,ca,Kr,Ze,rp]},Yn={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ha={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:be.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ks(u),u===null?null:u.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||lv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{yo=Vu.inject(Ha),zr=Vu}catch{}}return Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp,Hi.createPortal=function(u,c){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(c))throw Error(U(200));return Zh(u,c,null,y)},Hi.createRoot=function(u,c){if(!Ka(u))throw Error(U(299));var y=!1,S="",k=ny;return c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=fp(u,1,!1,null,null,y,!1,S,k),u[Yo]=c.current,Wo(u.nodeType===8?u.parentNode:u),new pp(c)},Hi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(U(188)):(u=Object.keys(u).join(","),Error(U(268,u)));return u=Ks(c),u=u===null?null:u.stateNode,u},Hi.flushSync=function(u){return Oo(u)},Hi.hydrate=function(u,c,y){if(!ws(c))throw Error(U(200));return El(null,u,c,!0,y)},Hi.hydrateRoot=function(u,c,y){if(!Ka(u))throw Error(U(405));var S=y!=null&&y.hydratedSources||null,k=!1,D="",B=ny;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(D=y.identifierPrefix),y.onRecoverableError!==void 0&&(B=y.onRecoverableError)),c=ey(c,null,u,1,y??null,k,!1,D,B),u[Yo]=c.current,Wo(u),S)for(u=0;u<S.length;u++)y=S[u],k=y._getVersion,k=k(y._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[y,k]:c.mutableSourceEagerHydrationData.push(y,k);return new Fa(c)},Hi.render=function(u,c,y){if(!ws(c))throw Error(U(200));return El(null,u,c,!1,y)},Hi.unmountComponentAtNode=function(u){if(!ws(u))throw Error(U(40));return u._reactRootContainer?(Oo(function(){El(null,null,u,!1,function(){u._reactRootContainer=null,u[Yo]=null})}),!0):!1},Hi.unstable_batchedUpdates=rp,Hi.unstable_renderSubtreeIntoContainer=function(u,c,y,S){if(!ws(y))throw Error(U(200));if(u==null||u._reactInternals===void 0)throw Error(U(38));return El(u,c,y,!1,S)},Hi.version="18.3.1-next-f1338f8080-20240426",Hi}var Yx;function jP(){if(Yx)return T0.exports;Yx=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(N){console.error(N)}}return b(),T0.exports=UP(),T0.exports}var $x;function BP(){if($x)return Mg;$x=1;var b=jP();return Mg.createRoot=b.createRoot,Mg.hydrateRoot=b.hydrateRoot,Mg}var VP=BP(),ih={},Jx;function FP(){if(Jx)return ih;Jx=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.parse=M,ih.serialize=l;const b=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,N=/^[\u0021-\u003A\u003C-\u007E]*$/,U=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,I=/^[\u0020-\u003A\u003D-\u007E]*$/,x=Object.prototype.toString,V=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function M(A,Y){const T=new V,te=A.length;if(te<2)return T;const se=(Y==null?void 0:Y.decode)||d;let Se=0;do{const Ne=A.indexOf("=",Se);if(Ne===-1)break;const ue=A.indexOf(";",Se),be=ue===-1?te:ue;if(Ne>be){Se=A.lastIndexOf(";",Ne-1)+1;continue}const Qe=h(A,Se,Ne),mt=s(A,Ne,Qe),un=A.slice(Qe,mt);if(T[un]===void 0){let Tn=h(A,Ne+1,be),vn=s(A,be,Tn);const L=se(A.slice(Tn,vn));T[un]=L}Se=be+1}while(Se<te);return T}function h(A,Y,T){do{const te=A.charCodeAt(Y);if(te!==32&&te!==9)return Y}while(++Y<T);return T}function s(A,Y,T){for(;Y>T;){const te=A.charCodeAt(--Y);if(te!==32&&te!==9)return Y+1}return T}function l(A,Y,T){const te=(T==null?void 0:T.encode)||encodeURIComponent;if(!b.test(A))throw new TypeError(`argument name is invalid: ${A}`);const se=te(Y);if(!N.test(se))throw new TypeError(`argument val is invalid: ${Y}`);let Se=A+"="+se;if(!T)return Se;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);Se+="; Max-Age="+T.maxAge}if(T.domain){if(!U.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);Se+="; Domain="+T.domain}if(T.path){if(!I.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);Se+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);Se+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(Se+="; HttpOnly"),T.secure&&(Se+="; Secure"),T.partitioned&&(Se+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":Se+="; Priority=Low";break;case"medium":Se+="; Priority=Medium";break;case"high":Se+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":Se+="; SameSite=Strict";break;case"lax":Se+="; SameSite=Lax";break;case"none":Se+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return Se}function d(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function v(A){return x.call(A)==="[object Date]"}return ih}FP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qx="popstate";function KP(b={}){function N(I,x){let{pathname:V,search:M,hash:h}=I.location;return P0("",{pathname:V,search:M,hash:h},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function U(I,x){return typeof x=="string"?x:ah(x)}return qP(N,U,null,b)}function Kn(b,N){if(b===!1||b===null||typeof b>"u")throw new Error(N)}function qu(b,N){if(!b){typeof console<"u"&&console.warn(N);try{throw new Error(N)}catch{}}}function HP(){return Math.random().toString(36).substring(2,10)}function Zx(b,N){return{usr:b.state,key:b.key,idx:N}}function P0(b,N,U=null,I){return{pathname:typeof b=="string"?b:b.pathname,search:"",hash:"",...typeof N=="string"?Kf(N):N,state:U,key:N&&N.key||I||HP()}}function ah({pathname:b="/",search:N="",hash:U=""}){return N&&N!=="?"&&(b+=N.charAt(0)==="?"?N:"?"+N),U&&U!=="#"&&(b+=U.charAt(0)==="#"?U:"#"+U),b}function Kf(b){let N={};if(b){let U=b.indexOf("#");U>=0&&(N.hash=b.substring(U),b=b.substring(0,U));let I=b.indexOf("?");I>=0&&(N.search=b.substring(I),b=b.substring(0,I)),b&&(N.pathname=b)}return N}function qP(b,N,U,I={}){let{window:x=document.defaultView,v5Compat:V=!1}=I,M=x.history,h="POP",s=null,l=d();l==null&&(l=0,M.replaceState({...M.state,idx:l},""));function d(){return(M.state||{idx:null}).idx}function v(){h="POP";let se=d(),Se=se==null?null:se-l;l=se,s&&s({action:h,location:te.location,delta:Se})}function A(se,Se){h="PUSH";let Ne=P0(te.location,se,Se);l=d()+1;let ue=Zx(Ne,l),be=te.createHref(Ne);try{M.pushState(ue,"",be)}catch(Qe){if(Qe instanceof DOMException&&Qe.name==="DataCloneError")throw Qe;x.location.assign(be)}V&&s&&s({action:h,location:te.location,delta:1})}function Y(se,Se){h="REPLACE";let Ne=P0(te.location,se,Se);l=d();let ue=Zx(Ne,l),be=te.createHref(Ne);M.replaceState(ue,"",be),V&&s&&s({action:h,location:te.location,delta:0})}function T(se){let Se=x.location.origin!=="null"?x.location.origin:x.location.href,Ne=typeof se=="string"?se:ah(se);return Ne=Ne.replace(/ $/,"%20"),Kn(Se,`No window.location.(origin|href) available to create URL for href: ${Ne}`),new URL(Ne,Se)}let te={get action(){return h},get location(){return b(x,M)},listen(se){if(s)throw new Error("A history only accepts one active listener");return x.addEventListener(Qx,v),s=se,()=>{x.removeEventListener(Qx,v),s=null}},createHref(se){return N(x,se)},createURL:T,encodeLocation(se){let Se=T(se);return{pathname:Se.pathname,search:Se.search,hash:Se.hash}},push:A,replace:Y,go(se){return M.go(se)}};return te}function o2(b,N,U="/"){return zP(b,N,U,!1)}function zP(b,N,U,I){let x=typeof N=="string"?Kf(N):N,V=Rs(x.pathname||"/",U);if(V==null)return null;let M=u2(b);GP(M);let h=null;for(let s=0;h==null&&s<M.length;++s){let l=rD(V);h=tD(M[s],l,I)}return h}function u2(b,N=[],U=[],I=""){let x=(V,M,h)=>{let s={relativePath:h===void 0?V.path||"":h,caseSensitive:V.caseSensitive===!0,childrenIndex:M,route:V};s.relativePath.startsWith("/")&&(Kn(s.relativePath.startsWith(I),`Absolute route path "${s.relativePath}" nested under path "${I}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(I.length));let l=Nl([I,s.relativePath]),d=U.concat(s);V.children&&V.children.length>0&&(Kn(V.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),u2(V.children,N,d,l)),!(V.path==null&&!V.index)&&N.push({path:l,score:ZP(l,V.index),routesMeta:d})};return b.forEach((V,M)=>{var h;if(V.path===""||!((h=V.path)!=null&&h.includes("?")))x(V,M);else for(let s of l2(V.path))x(V,M,s)}),N}function l2(b){let N=b.split("/");if(N.length===0)return[];let[U,...I]=N,x=U.endsWith("?"),V=U.replace(/\?$/,"");if(I.length===0)return x?[V,""]:[V];let M=l2(I.join("/")),h=[];return h.push(...M.map(s=>s===""?V:[V,s].join("/"))),x&&h.push(...M),h.map(s=>b.startsWith("/")&&s===""?"/":s)}function GP(b){b.sort((N,U)=>N.score!==U.score?U.score-N.score:eD(N.routesMeta.map(I=>I.childrenIndex),U.routesMeta.map(I=>I.childrenIndex)))}var WP=/^:[\w-]+$/,XP=3,YP=2,$P=1,JP=10,QP=-2,e2=b=>b==="*";function ZP(b,N){let U=b.split("/"),I=U.length;return U.some(e2)&&(I+=QP),N&&(I+=YP),U.filter(x=>!e2(x)).reduce((x,V)=>x+(WP.test(V)?XP:V===""?$P:JP),I)}function eD(b,N){return b.length===N.length&&b.slice(0,-1).every((I,x)=>I===N[x])?b[b.length-1]-N[N.length-1]:0}function tD(b,N,U=!1){let{routesMeta:I}=b,x={},V="/",M=[];for(let h=0;h<I.length;++h){let s=I[h],l=h===I.length-1,d=V==="/"?N:N.slice(V.length)||"/",v=Ug({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},d),A=s.route;if(!v&&l&&U&&!I[I.length-1].route.index&&(v=Ug({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},d)),!v)return null;Object.assign(x,v.params),M.push({params:x,pathname:Nl([V,v.pathname]),pathnameBase:lD(Nl([V,v.pathnameBase])),route:A}),v.pathnameBase!=="/"&&(V=Nl([V,v.pathnameBase]))}return M}function Ug(b,N){typeof b=="string"&&(b={path:b,caseSensitive:!1,end:!0});let[U,I]=nD(b.path,b.caseSensitive,b.end),x=N.match(U);if(!x)return null;let V=x[0],M=V.replace(/(.)\/+$/,"$1"),h=x.slice(1);return{params:I.reduce((l,{paramName:d,isOptional:v},A)=>{if(d==="*"){let T=h[A]||"";M=V.slice(0,V.length-T.length).replace(/(.)\/+$/,"$1")}const Y=h[A];return v&&!Y?l[d]=void 0:l[d]=(Y||"").replace(/%2F/g,"/"),l},{}),pathname:V,pathnameBase:M,pattern:b}}function nD(b,N=!1,U=!0){qu(b==="*"||!b.endsWith("*")||b.endsWith("/*"),`Route path "${b}" will be treated as if it were "${b.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${b.replace(/\*$/,"/*")}".`);let I=[],x="^"+b.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(M,h,s)=>(I.push({paramName:h,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return b.endsWith("*")?(I.push({paramName:"*"}),x+=b==="*"||b==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):U?x+="\\/*$":b!==""&&b!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,N?void 0:"i"),I]}function rD(b){try{return b.split("/").map(N=>decodeURIComponent(N).replace(/\//g,"%2F")).join("/")}catch(N){return qu(!1,`The URL path "${b}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${N}).`),b}}function Rs(b,N){if(N==="/")return b;if(!b.toLowerCase().startsWith(N.toLowerCase()))return null;let U=N.endsWith("/")?N.length-1:N.length,I=b.charAt(U);return I&&I!=="/"?null:b.slice(U)||"/"}function iD(b,N="/"){let{pathname:U,search:I="",hash:x=""}=typeof b=="string"?Kf(b):b;return{pathname:U?U.startsWith("/")?U:oD(U,N):N,search:sD(I),hash:aD(x)}}function oD(b,N){let U=N.replace(/\/+$/,"").split("/");return b.split("/").forEach(x=>{x===".."?U.length>1&&U.pop():x!=="."&&U.push(x)}),U.length>1?U.join("/"):"/"}function E0(b,N,U,I){return`Cannot include a '${b}' character in a manually specified \`to.${N}\` field [${JSON.stringify(I)}].  Please separate it out to the \`to.${U}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uD(b){return b.filter((N,U)=>U===0||N.route.path&&N.route.path.length>0)}function s2(b){let N=uD(b);return N.map((U,I)=>I===N.length-1?U.pathname:U.pathnameBase)}function a2(b,N,U,I=!1){let x;typeof b=="string"?x=Kf(b):(x={...b},Kn(!x.pathname||!x.pathname.includes("?"),E0("?","pathname","search",x)),Kn(!x.pathname||!x.pathname.includes("#"),E0("#","pathname","hash",x)),Kn(!x.search||!x.search.includes("#"),E0("#","search","hash",x)));let V=b===""||x.pathname==="",M=V?"/":x.pathname,h;if(M==null)h=U;else{let v=N.length-1;if(!I&&M.startsWith("..")){let A=M.split("/");for(;A[0]==="..";)A.shift(),v-=1;x.pathname=A.join("/")}h=v>=0?N[v]:"/"}let s=iD(x,h),l=M&&M!=="/"&&M.endsWith("/"),d=(V||M===".")&&U.endsWith("/");return!s.pathname.endsWith("/")&&(l||d)&&(s.pathname+="/"),s}var Nl=b=>b.join("/").replace(/\/\/+/g,"/"),lD=b=>b.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=b=>!b||b==="?"?"":b.startsWith("?")?b:"?"+b,aD=b=>!b||b==="#"?"":b.startsWith("#")?b:"#"+b;function cD(b){return b!=null&&typeof b.status=="number"&&typeof b.statusText=="string"&&typeof b.internal=="boolean"&&"data"in b}var c2=["POST","PUT","PATCH","DELETE"];new Set(c2);var fD=["GET",...c2];new Set(fD);var Hf=we.createContext(null);Hf.displayName="DataRouter";var jg=we.createContext(null);jg.displayName="DataRouterState";var f2=we.createContext({isTransitioning:!1});f2.displayName="ViewTransition";var dD=we.createContext(new Map);dD.displayName="Fetchers";var pD=we.createContext(null);pD.displayName="Await";var zu=we.createContext(null);zu.displayName="Navigation";var ch=we.createContext(null);ch.displayName="Location";var _l=we.createContext({outlet:null,matches:[],isDataRoute:!1});_l.displayName="Route";var L0=we.createContext(null);L0.displayName="RouteError";function hD(b,{relative:N}={}){Kn(fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:U,navigator:I}=we.useContext(zu),{hash:x,pathname:V,search:M}=dh(b,{relative:N}),h=V;return U!=="/"&&(h=V==="/"?U:Nl([U,V])),I.createHref({pathname:h,search:M,hash:x})}function fh(){return we.useContext(ch)!=null}function Ms(){return Kn(fh(),"useLocation() may be used only in the context of a <Router> component."),we.useContext(ch).location}var d2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p2(b){we.useContext(zu).static||we.useLayoutEffect(b)}function yD(){let{isDataRoute:b}=we.useContext(_l);return b?PD():gD()}function gD(){Kn(fh(),"useNavigate() may be used only in the context of a <Router> component.");let b=we.useContext(Hf),{basename:N,navigator:U}=we.useContext(zu),{matches:I}=we.useContext(_l),{pathname:x}=Ms(),V=JSON.stringify(s2(I)),M=we.useRef(!1);return p2(()=>{M.current=!0}),we.useCallback((s,l={})=>{if(qu(M.current,d2),!M.current)return;if(typeof s=="number"){U.go(s);return}let d=a2(s,JSON.parse(V),x,l.relative==="path");b==null&&N!=="/"&&(d.pathname=d.pathname==="/"?N:Nl([N,d.pathname])),(l.replace?U.replace:U.push)(d,l.state,l)},[N,U,V,x,b])}we.createContext(null);function dh(b,{relative:N}={}){let{matches:U}=we.useContext(_l),{pathname:I}=Ms(),x=JSON.stringify(s2(U));return we.useMemo(()=>a2(b,JSON.parse(x),I,N==="path"),[b,x,I,N])}function vD(b,N){return h2(b,N)}function h2(b,N,U,I){var Se;Kn(fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=we.useContext(zu),{matches:V}=we.useContext(_l),M=V[V.length-1],h=M?M.params:{},s=M?M.pathname:"/",l=M?M.pathnameBase:"/",d=M&&M.route;{let Ne=d&&d.path||"";y2(s,!d||Ne.endsWith("*")||Ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${Ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Ne}"> to <Route path="${Ne==="/"?"*":`${Ne}/*`}">.`)}let v=Ms(),A;if(N){let Ne=typeof N=="string"?Kf(N):N;Kn(l==="/"||((Se=Ne.pathname)==null?void 0:Se.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${Ne.pathname}" was given in the \`location\` prop.`),A=Ne}else A=v;let Y=A.pathname||"/",T=Y;if(l!=="/"){let Ne=l.replace(/^\//,"").split("/");T="/"+Y.replace(/^\//,"").split("/").slice(Ne.length).join("/")}let te=o2(b,{pathname:T});qu(d||te!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qu(te==null||te[te.length-1].route.element!==void 0||te[te.length-1].route.Component!==void 0||te[te.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=xD(te&&te.map(Ne=>Object.assign({},Ne,{params:Object.assign({},h,Ne.params),pathname:Nl([l,x.encodeLocation?x.encodeLocation(Ne.pathname).pathname:Ne.pathname]),pathnameBase:Ne.pathnameBase==="/"?l:Nl([l,x.encodeLocation?x.encodeLocation(Ne.pathnameBase).pathname:Ne.pathnameBase])})),V,U,I);return N&&se?we.createElement(ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},se):se}function mD(){let b=AD(),N=cD(b)?`${b.status} ${b.statusText}`:b instanceof Error?b.message:JSON.stringify(b),U=b instanceof Error?b.stack:null,I="rgba(200,200,200, 0.5)",x={padding:"0.5rem",backgroundColor:I},V={padding:"2px 4px",backgroundColor:I},M=null;return console.error("Error handled by React Router default ErrorBoundary:",b),M=we.createElement(we.Fragment,null,we.createElement("p",null," Hey developer "),we.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",we.createElement("code",{style:V},"ErrorBoundary")," or"," ",we.createElement("code",{style:V},"errorElement")," prop on your route.")),we.createElement(we.Fragment,null,we.createElement("h2",null,"Unexpected Application Error!"),we.createElement("h3",{style:{fontStyle:"italic"}},N),U?we.createElement("pre",{style:x},U):null,M)}var SD=we.createElement(mD,null),wD=class extends we.Component{constructor(b){super(b),this.state={location:b.location,revalidation:b.revalidation,error:b.error}}static getDerivedStateFromError(b){return{error:b}}static getDerivedStateFromProps(b,N){return N.location!==b.location||N.revalidation!=="idle"&&b.revalidation==="idle"?{error:b.error,location:b.location,revalidation:b.revalidation}:{error:b.error!==void 0?b.error:N.error,location:N.location,revalidation:b.revalidation||N.revalidation}}componentDidCatch(b,N){console.error("React Router caught the following error during render",b,N)}render(){return this.state.error!==void 0?we.createElement(_l.Provider,{value:this.props.routeContext},we.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TD({routeContext:b,match:N,children:U}){let I=we.useContext(Hf);return I&&I.static&&I.staticContext&&(N.route.errorElement||N.route.ErrorBoundary)&&(I.staticContext._deepestRenderedBoundaryId=N.route.id),we.createElement(_l.Provider,{value:b},U)}function xD(b,N=[],U=null,I=null){if(b==null){if(!U)return null;if(U.errors)b=U.matches;else if(N.length===0&&!U.initialized&&U.matches.length>0)b=U.matches;else return null}let x=b,V=U==null?void 0:U.errors;if(V!=null){let s=x.findIndex(l=>l.route.id&&(V==null?void 0:V[l.route.id])!==void 0);Kn(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(V).join(",")}`),x=x.slice(0,Math.min(x.length,s+1))}let M=!1,h=-1;if(U)for(let s=0;s<x.length;s++){let l=x[s];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(h=s),l.route.id){let{loaderData:d,errors:v}=U,A=l.route.loader&&!d.hasOwnProperty(l.route.id)&&(!v||v[l.route.id]===void 0);if(l.route.lazy||A){M=!0,h>=0?x=x.slice(0,h+1):x=[x[0]];break}}}return x.reduceRight((s,l,d)=>{let v,A=!1,Y=null,T=null;U&&(v=V&&l.route.id?V[l.route.id]:void 0,Y=l.route.errorElement||SD,M&&(h<0&&d===0?(y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,T=null):h===d&&(A=!0,T=l.route.hydrateFallbackElement||null)));let te=N.concat(x.slice(0,d+1)),se=()=>{let Se;return v?Se=Y:A?Se=T:l.route.Component?Se=we.createElement(l.route.Component,null):l.route.element?Se=l.route.element:Se=s,we.createElement(TD,{match:l,routeContext:{outlet:s,matches:te,isDataRoute:U!=null},children:Se})};return U&&(l.route.ErrorBoundary||l.route.errorElement||d===0)?we.createElement(wD,{location:U.location,revalidation:U.revalidation,component:Y,error:v,children:se(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):se()},null)}function b0(b){return`${b} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(b){let N=we.useContext(Hf);return Kn(N,b0(b)),N}function ED(b){let N=we.useContext(jg);return Kn(N,b0(b)),N}function CD(b){let N=we.useContext(_l);return Kn(N,b0(b)),N}function N0(b){let N=CD(b),U=N.matches[N.matches.length-1];return Kn(U.route.id,`${b} can only be used on routes that contain a unique "id"`),U.route.id}function kD(){return N0("useRouteId")}function AD(){var I;let b=we.useContext(L0),N=ED("useRouteError"),U=N0("useRouteError");return b!==void 0?b:(I=N.errors)==null?void 0:I[U]}function PD(){let{router:b}=ID("useNavigate"),N=N0("useNavigate"),U=we.useRef(!1);return p2(()=>{U.current=!0}),we.useCallback(async(x,V={})=>{qu(U.current,d2),U.current&&(typeof x=="number"?b.navigate(x):await b.navigate(x,{fromRouteId:N,...V}))},[b,N])}var t2={};function y2(b,N,U){!N&&!t2[b]&&(t2[b]=!0,qu(!1,U))}we.memo(DD);function DD({routes:b,future:N,state:U}){return h2(b,void 0,U,N)}function uh(b){Kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OD({basename:b="/",children:N=null,location:U,navigationType:I="POP",navigator:x,static:V=!1}){Kn(!fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let M=b.replace(/^\/*/,"/"),h=we.useMemo(()=>({basename:M,navigator:x,static:V,future:{}}),[M,x,V]);typeof U=="string"&&(U=Kf(U));let{pathname:s="/",search:l="",hash:d="",state:v=null,key:A="default"}=U,Y=we.useMemo(()=>{let T=Rs(s,M);return T==null?null:{location:{pathname:T,search:l,hash:d,state:v,key:A},navigationType:I}},[M,s,l,d,v,A,I]);return qu(Y!=null,`<Router basename="${M}"> is not able to match the URL "${s}${l}${d}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:we.createElement(zu.Provider,{value:h},we.createElement(ch.Provider,{children:N,value:Y}))}function RD({children:b,location:N}){return vD(D0(b),N)}function D0(b,N=[]){let U=[];return we.Children.forEach(b,(I,x)=>{if(!we.isValidElement(I))return;let V=[...N,x];if(I.type===we.Fragment){U.push.apply(U,D0(I.props.children,V));return}Kn(I.type===uh,`[${typeof I.type=="string"?I.type:I.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kn(!I.props.index||!I.props.children,"An index route cannot have child routes.");let M={id:I.props.id||V.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,loader:I.props.loader,action:I.props.action,hydrateFallbackElement:I.props.hydrateFallbackElement,HydrateFallback:I.props.HydrateFallback,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.hasErrorBoundary===!0||I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};I.props.children&&(M.children=D0(I.props.children,V)),U.push(M)}),U}var Ng="get",_g="application/x-www-form-urlencoded";function Bg(b){return b!=null&&typeof b.tagName=="string"}function MD(b){return Bg(b)&&b.tagName.toLowerCase()==="button"}function LD(b){return Bg(b)&&b.tagName.toLowerCase()==="form"}function bD(b){return Bg(b)&&b.tagName.toLowerCase()==="input"}function ND(b){return!!(b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)}function _D(b,N){return b.button===0&&(!N||N==="_self")&&!ND(b)}var Lg=null;function UD(){if(Lg===null)try{new FormData(document.createElement("form"),0),Lg=!1}catch{Lg=!0}return Lg}var jD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function C0(b){return b!=null&&!jD.has(b)?(qu(!1,`"${b}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_g}"`),null):b}function BD(b,N){let U,I,x,V,M;if(LD(b)){let h=b.getAttribute("action");I=h?Rs(h,N):null,U=b.getAttribute("method")||Ng,x=C0(b.getAttribute("enctype"))||_g,V=new FormData(b)}else if(MD(b)||bD(b)&&(b.type==="submit"||b.type==="image")){let h=b.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=b.getAttribute("formaction")||h.getAttribute("action");if(I=s?Rs(s,N):null,U=b.getAttribute("formmethod")||h.getAttribute("method")||Ng,x=C0(b.getAttribute("formenctype"))||C0(h.getAttribute("enctype"))||_g,V=new FormData(h,b),!UD()){let{name:l,type:d,value:v}=b;if(d==="image"){let A=l?`${l}.`:"";V.append(`${A}x`,"0"),V.append(`${A}y`,"0")}else l&&V.append(l,v)}}else{if(Bg(b))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');U=Ng,I=null,x=_g,M=b}return V&&x==="text/plain"&&(M=V,V=void 0),{action:I,method:U.toLowerCase(),encType:x,formData:V,body:M}}function _0(b,N){if(b===!1||b===null||typeof b>"u")throw new Error(N)}async function VD(b,N){if(b.id in N)return N[b.id];try{let U=await import(b.module);return N[b.id]=U,U}catch(U){return console.error(`Error loading route module \`${b.module}\`, reloading page...`),console.error(U),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FD(b){return b==null?!1:b.href==null?b.rel==="preload"&&typeof b.imageSrcSet=="string"&&typeof b.imageSizes=="string":typeof b.rel=="string"&&typeof b.href=="string"}async function KD(b,N,U){let I=await Promise.all(b.map(async x=>{let V=N.routes[x.route.id];if(V){let M=await VD(V,U);return M.links?M.links():[]}return[]}));return GD(I.flat(1).filter(FD).filter(x=>x.rel==="stylesheet"||x.rel==="preload").map(x=>x.rel==="stylesheet"?{...x,rel:"prefetch",as:"style"}:{...x,rel:"prefetch"}))}function n2(b,N,U,I,x,V){let M=(s,l)=>U[l]?s.route.id!==U[l].route.id:!0,h=(s,l)=>{var d;return U[l].pathname!==s.pathname||((d=U[l].route.path)==null?void 0:d.endsWith("*"))&&U[l].params["*"]!==s.params["*"]};return V==="assets"?N.filter((s,l)=>M(s,l)||h(s,l)):V==="data"?N.filter((s,l)=>{var v;let d=I.routes[s.route.id];if(!d||!d.hasLoader)return!1;if(M(s,l)||h(s,l))return!0;if(s.route.shouldRevalidate){let A=s.route.shouldRevalidate({currentUrl:new URL(x.pathname+x.search+x.hash,window.origin),currentParams:((v=U[0])==null?void 0:v.params)||{},nextUrl:new URL(b,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function HD(b,N){return qD(b.map(U=>{let I=N.routes[U.route.id];if(!I)return[];let x=[I.module];return I.imports&&(x=x.concat(I.imports)),x}).flat(1))}function qD(b){return[...new Set(b)]}function zD(b){let N={},U=Object.keys(b).sort();for(let I of U)N[I]=b[I];return N}function GD(b,N){let U=new Set;return new Set(N),b.reduce((I,x)=>{let V=JSON.stringify(zD(x));return U.has(V)||(U.add(V),I.push({key:V,link:x})),I},[])}function WD(b){let N=typeof b=="string"?new URL(b,typeof window>"u"?"server://singlefetch/":window.location.origin):b;return N.pathname==="/"?N.pathname="_root.data":N.pathname=`${N.pathname.replace(/\/$/,"")}.data`,N}function XD(){let b=we.useContext(Hf);return _0(b,"You must render this element inside a <DataRouterContext.Provider> element"),b}function YD(){let b=we.useContext(jg);return _0(b,"You must render this element inside a <DataRouterStateContext.Provider> element"),b}var U0=we.createContext(void 0);U0.displayName="FrameworkContext";function g2(){let b=we.useContext(U0);return _0(b,"You must render this element inside a <HydratedRouter> element"),b}function $D(b,N){let U=we.useContext(U0),[I,x]=we.useState(!1),[V,M]=we.useState(!1),{onFocus:h,onBlur:s,onMouseEnter:l,onMouseLeave:d,onTouchStart:v}=N,A=we.useRef(null);we.useEffect(()=>{if(b==="render"&&M(!0),b==="viewport"){let te=Se=>{Se.forEach(Ne=>{M(Ne.isIntersecting)})},se=new IntersectionObserver(te,{threshold:.5});return A.current&&se.observe(A.current),()=>{se.disconnect()}}},[b]),we.useEffect(()=>{if(I){let te=setTimeout(()=>{M(!0)},100);return()=>{clearTimeout(te)}}},[I]);let Y=()=>{x(!0)},T=()=>{x(!1),M(!1)};return U?b!=="intent"?[V,A,{}]:[V,A,{onFocus:oh(h,Y),onBlur:oh(s,T),onMouseEnter:oh(l,Y),onMouseLeave:oh(d,T),onTouchStart:oh(v,Y)}]:[!1,A,{}]}function oh(b,N){return U=>{b&&b(U),U.defaultPrevented||N(U)}}function JD({page:b,...N}){let{router:U}=XD(),I=we.useMemo(()=>o2(U.routes,b,U.basename),[U.routes,b,U.basename]);return I?we.createElement(ZD,{page:b,matches:I,...N}):null}function QD(b){let{manifest:N,routeModules:U}=g2(),[I,x]=we.useState([]);return we.useEffect(()=>{let V=!1;return KD(b,N,U).then(M=>{V||x(M)}),()=>{V=!0}},[b,N,U]),I}function ZD({page:b,matches:N,...U}){let I=Ms(),{manifest:x,routeModules:V}=g2(),{loaderData:M,matches:h}=YD(),s=we.useMemo(()=>n2(b,N,h,x,I,"data"),[b,N,h,x,I]),l=we.useMemo(()=>n2(b,N,h,x,I,"assets"),[b,N,h,x,I]),d=we.useMemo(()=>{if(b===I.pathname+I.search+I.hash)return[];let Y=new Set,T=!1;if(N.forEach(se=>{var Ne;let Se=x.routes[se.route.id];!Se||!Se.hasLoader||(!s.some(ue=>ue.route.id===se.route.id)&&se.route.id in M&&((Ne=V[se.route.id])!=null&&Ne.shouldRevalidate)||Se.hasClientLoader?T=!0:Y.add(se.route.id))}),Y.size===0)return[];let te=WD(b);return T&&Y.size>0&&te.searchParams.set("_routes",N.filter(se=>Y.has(se.route.id)).map(se=>se.route.id).join(",")),[te.pathname+te.search]},[M,I,x,s,N,b,V]),v=we.useMemo(()=>HD(l,x),[l,x]),A=QD(l);return we.createElement(we.Fragment,null,d.map(Y=>we.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...U})),v.map(Y=>we.createElement("link",{key:Y,rel:"modulepreload",href:Y,...U})),A.map(({key:Y,link:T})=>we.createElement("link",{key:Y,...T})))}function e3(...b){return N=>{b.forEach(U=>{typeof U=="function"?U(N):U!=null&&(U.current=N)})}}var v2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v2&&(window.__reactRouterVersion="7.1.3")}catch{}function t3({basename:b,children:N,window:U}){let I=we.useRef();I.current==null&&(I.current=KP({window:U,v5Compat:!0}));let x=I.current,[V,M]=we.useState({action:x.action,location:x.location}),h=we.useCallback(s=>{we.startTransition(()=>M(s))},[M]);return we.useLayoutEffect(()=>x.listen(h),[x,h]),we.createElement(OD,{basename:b,children:N,location:V.location,navigationType:V.action,navigator:x})}var m2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ff=we.forwardRef(function({onClick:N,discover:U="render",prefetch:I="none",relative:x,reloadDocument:V,replace:M,state:h,target:s,to:l,preventScrollReset:d,viewTransition:v,...A},Y){let{basename:T}=we.useContext(zu),te=typeof l=="string"&&m2.test(l),se,Se=!1;if(typeof l=="string"&&te&&(se=l,v2))try{let vn=new URL(window.location.href),L=l.startsWith("//")?new URL(vn.protocol+l):new URL(l),oe=Rs(L.pathname,T);L.origin===vn.origin&&oe!=null?l=oe+L.search+L.hash:Se=!0}catch{qu(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Ne=hD(l,{relative:x}),[ue,be,Qe]=$D(I,A),mt=o3(l,{replace:M,state:h,target:s,preventScrollReset:d,relative:x,viewTransition:v});function un(vn){N&&N(vn),vn.defaultPrevented||mt(vn)}let Tn=we.createElement("a",{...A,...Qe,href:se||Ne,onClick:Se||V?N:un,ref:e3(Y,be),target:s,"data-discover":!te&&U==="render"?"true":void 0});return ue&&!te?we.createElement(we.Fragment,null,Tn,we.createElement(JD,{page:Ne})):Tn});Ff.displayName="Link";var n3=we.forwardRef(function({"aria-current":N="page",caseSensitive:U=!1,className:I="",end:x=!1,style:V,to:M,viewTransition:h,children:s,...l},d){let v=dh(M,{relative:l.relative}),A=Ms(),Y=we.useContext(jg),{navigator:T,basename:te}=we.useContext(zu),se=Y!=null&&c3(v)&&h===!0,Se=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,Ne=A.pathname,ue=Y&&Y.navigation&&Y.navigation.location?Y.navigation.location.pathname:null;U||(Ne=Ne.toLowerCase(),ue=ue?ue.toLowerCase():null,Se=Se.toLowerCase()),ue&&te&&(ue=Rs(ue,te)||ue);const be=Se!=="/"&&Se.endsWith("/")?Se.length-1:Se.length;let Qe=Ne===Se||!x&&Ne.startsWith(Se)&&Ne.charAt(be)==="/",mt=ue!=null&&(ue===Se||!x&&ue.startsWith(Se)&&ue.charAt(Se.length)==="/"),un={isActive:Qe,isPending:mt,isTransitioning:se},Tn=Qe?N:void 0,vn;typeof I=="function"?vn=I(un):vn=[I,Qe?"active":null,mt?"pending":null,se?"transitioning":null].filter(Boolean).join(" ");let L=typeof V=="function"?V(un):V;return we.createElement(Ff,{...l,"aria-current":Tn,className:vn,ref:d,style:L,to:M,viewTransition:h},typeof s=="function"?s(un):s)});n3.displayName="NavLink";var r3=we.forwardRef(({discover:b="render",fetcherKey:N,navigate:U,reloadDocument:I,replace:x,state:V,method:M=Ng,action:h,onSubmit:s,relative:l,preventScrollReset:d,viewTransition:v,...A},Y)=>{let T=s3(),te=a3(h,{relative:l}),se=M.toLowerCase()==="get"?"get":"post",Se=typeof h=="string"&&m2.test(h),Ne=ue=>{if(s&&s(ue),ue.defaultPrevented)return;ue.preventDefault();let be=ue.nativeEvent.submitter,Qe=(be==null?void 0:be.getAttribute("formmethod"))||M;T(be||ue.currentTarget,{fetcherKey:N,method:Qe,navigate:U,replace:x,state:V,relative:l,preventScrollReset:d,viewTransition:v})};return we.createElement("form",{ref:Y,method:se,action:te,onSubmit:I?s:Ne,...A,"data-discover":!Se&&b==="render"?"true":void 0})});r3.displayName="Form";function i3(b){return`${b} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(b){let N=we.useContext(Hf);return Kn(N,i3(b)),N}function o3(b,{target:N,replace:U,state:I,preventScrollReset:x,relative:V,viewTransition:M}={}){let h=yD(),s=Ms(),l=dh(b,{relative:V});return we.useCallback(d=>{if(_D(d,N)){d.preventDefault();let v=U!==void 0?U:ah(s)===ah(l);h(b,{replace:v,state:I,preventScrollReset:x,relative:V,viewTransition:M})}},[s,h,l,U,I,N,b,x,V,M])}var u3=0,l3=()=>`__${String(++u3)}__`;function s3(){let{router:b}=S2("useSubmit"),{basename:N}=we.useContext(zu),U=kD();return we.useCallback(async(I,x={})=>{let{action:V,method:M,encType:h,formData:s,body:l}=BD(I,N);if(x.navigate===!1){let d=x.fetcherKey||l3();await b.fetch(d,U,x.action||V,{preventScrollReset:x.preventScrollReset,formData:s,body:l,formMethod:x.method||M,formEncType:x.encType||h,flushSync:x.flushSync})}else await b.navigate(x.action||V,{preventScrollReset:x.preventScrollReset,formData:s,body:l,formMethod:x.method||M,formEncType:x.encType||h,replace:x.replace,state:x.state,fromRouteId:U,flushSync:x.flushSync,viewTransition:x.viewTransition})},[b,N,U])}function a3(b,{relative:N}={}){let{basename:U}=we.useContext(zu),I=we.useContext(_l);Kn(I,"useFormAction must be used inside a RouteContext");let[x]=I.matches.slice(-1),V={...dh(b||".",{relative:N})},M=Ms();if(b==null){V.search=M.search;let h=new URLSearchParams(V.search),s=h.getAll("index");if(s.some(d=>d==="")){h.delete("index"),s.filter(v=>v).forEach(v=>h.append("index",v));let d=h.toString();V.search=d?`?${d}`:""}}return(!b||b===".")&&x.route.index&&(V.search=V.search?V.search.replace(/^\?/,"?index&"):"?index"),U!=="/"&&(V.pathname=V.pathname==="/"?U:Nl([U,V.pathname])),ah(V)}function c3(b,N={}){let U=we.useContext(f2);Kn(U!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:I}=S2("useViewTransitionState"),x=dh(b,{relative:N.relative});if(!U.isTransitioning)return!1;let V=Rs(U.currentLocation.pathname,I)||U.currentLocation.pathname,M=Rs(U.nextLocation.pathname,I)||U.nextLocation.pathname;return Ug(x.pathname,M)!=null||Ug(x.pathname,V)!=null}new TextEncoder;function f3(){const b=Ms();return ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:`w-full h-1/10 flex flex-col items-center ${b.pathname==="/"?"bg-black/50":"hover:bg-black/35"} transition-all duration-300 ease-in-out overflow-hidden mt-5`,children:ge.jsxs(Ff,{to:"/",className:"flex w-8/10 items-center",children:[ge.jsx("img",{src:"/home.svg",alt:"Home",className:"flex h-5/10 w-3/10"}),ge.jsx("p",{className:"w-7/10 h-full flex items-center text-xl text-white",children:"Home"})]})}),ge.jsx("div",{className:`w-full h-1/10 flex flex-col items-center ${b.pathname==="/Cache"?"bg-black/50":"hover:bg-black/35"} transition-all duration-300 ease-in-out overflow-hidden`,children:ge.jsxs(Ff,{to:"/Cache",className:"flex w-8/10 items-center",children:[ge.jsx("img",{src:"/search.svg",alt:"Search",className:"flex h-5/10 w-3/10"}),ge.jsx("p",{className:"w-7/10 h-full flex items-center text-xl text-white",children:"Cache"})]})}),ge.jsx("div",{className:`w-full h-1/10 flex flex-col items-center ${b.pathname==="/TestPlayer"?"bg-black/50":"hover:bg-black/35"} transition-all duration-300 ease-in-out overflow-hidden`,children:ge.jsxs(Ff,{to:"/TestPlayer",className:"flex w-8/10 items-center",children:[ge.jsx("img",{src:"/video.svg",alt:"Test Player",className:"flex h-5/10 w-3/10"}),ge.jsx("p",{className:"w-7/10 h-full flex items-center text-xl text-white",children:"Test Player"})]})}),ge.jsx("div",{className:`w-full h-1/10 flex flex-col items-center ${b.pathname==="/API"?"bg-black/50":"hover:bg-black/35"} transition-all duration-300 ease-in-out overflow-hidden`,children:ge.jsxs(Ff,{to:"/API",className:"flex w-8/10 items-center",children:[ge.jsx("img",{src:"/docu_logo.svg",alt:"API",className:"flex h-5/10 w-3/10"}),ge.jsx("p",{className:"w-7/10 h-full flex items-center text-xl text-white",children:"API"})]})})]})}function d3(){return ge.jsx("div",{className:"flex flex-col w-full h-full overflow-y-auto shadow-lg shadow-black",children:ge.jsx(f3,{})})}function p3(){return ge.jsxs("div",{className:"flex flex-row w-full h-full items-center justify-around overflow-hidden",children:[ge.jsx("a",{href:"https://discord.cdrm-project.com",className:"w-1/6 h-1/6 hover:animate-bounce",children:ge.jsx("img",{src:"/discord.svg",alt:"Discord Logo"})}),ge.jsx("a",{href:"https://telegram.cdrm-project.com",className:"w-1/6 h-1/6 hover:animate-bounce",children:ge.jsx("img",{src:"/telegram.svg",alt:"Telegram Logo"})}),ge.jsx("a",{href:"https://github.com/tpd94",className:"w-1/6 h-1/6 hover:animate-bounce",children:ge.jsx("img",{src:"/github.svg",alt:"Github Logo"})})]})}function h3(){return ge.jsx("div",{className:"flex flex-row w-full h-full shadow-lg shadow-black items-center justify-center overflow-hidden",children:ge.jsx("a",{href:"/",className:"w-2/3 h-2/3 flex",children:ge.jsx("img",{src:"/logo.svg",alt:"CDRM Logo"})})})}function y3(){return ge.jsxs("div",{className:"flex flex-col w-full h-full bg-zinc-900 border-r-1",children:[ge.jsx("div",{className:"w-full h-1/10",children:ge.jsx(h3,{})}),ge.jsx("div",{className:"w-full h-8/10",children:ge.jsx(d3,{})}),ge.jsx("div",{className:"w-full h-1/10",children:ge.jsx(p3,{})})]})}/*!
 * protobuf.js v7.4.0 (c) 2016, daniel wirtz
 * compiled thu, 22 aug 2024 20:30:39 utc
 * licensed under the bsd-3-clause license
 * see: https://github.com/dcodeio/protobuf.js for details
 */(function(b){(function(N,U,I){var x=function V(M){var h=U[M];return h||N[M][0].call(h=U[M]={exports:{}},V,h,h.exports),h.exports}(I[0]);x.util.global.protobuf=x,typeof define=="function"&&define.amd&&define(["long"],function(V){return V&&V.isLong&&(x.util.Long=V,x.configure()),x}),typeof sh=="object"&&sh&&sh.exports&&(sh.exports=x)})({1:[function(N,U,I){U.exports=function(x,V){for(var M=Array(arguments.length-1),h=0,s=2,l=!0;s<arguments.length;)M[h++]=arguments[s++];return new Promise(function(d,v){M[h]=function(A){if(l)if(l=!1,A)v(A);else{for(var Y=Array(arguments.length-1),T=0;T<Y.length;)Y[T++]=arguments[T];d.apply(null,Y)}};try{x.apply(V||null,M)}catch(A){l&&(l=!1,v(A))}})}},{}],2:[function(N,U,I){I.length=function(s){var l=s.length;if(!l)return 0;for(var d=0;1<--l%4&&(s[0|l]||"")=="=";)++d;return Math.ceil(3*s.length)/4-d};for(var x=Array(64),V=Array(123),M=0;M<64;)V[x[M]=M<26?M+65:M<52?M+71:M<62?M-4:M-59|43]=M++;I.encode=function(s,l,d){for(var v,A=null,Y=[],T=0,te=0;l<d;){var se=s[l++];switch(te){case 0:Y[T++]=x[se>>2],v=(3&se)<<4,te=1;break;case 1:Y[T++]=x[v|se>>4],v=(15&se)<<2,te=2;break;case 2:Y[T++]=x[v|se>>6],Y[T++]=x[63&se],te=0}8191<T&&((A=A||[]).push(String.fromCharCode.apply(String,Y)),T=0)}return te&&(Y[T++]=x[v],Y[T++]=61,te===1&&(Y[T++]=61)),A?(T&&A.push(String.fromCharCode.apply(String,Y.slice(0,T))),A.join("")):String.fromCharCode.apply(String,Y.slice(0,T))};var h="invalid encoding";I.decode=function(s,l,d){for(var v,A=d,Y=0,T=0;T<s.length;){var te=s.charCodeAt(T++);if(te==61&&1<Y)break;if((te=V[te])===b)throw Error(h);switch(Y){case 0:v=te,Y=1;break;case 1:l[d++]=v<<2|(48&te)>>4,v=te,Y=2;break;case 2:l[d++]=(15&v)<<4|(60&te)>>2,v=te,Y=3;break;case 3:l[d++]=(3&v)<<6|te,Y=0}}if(Y===1)throw Error(h);return d-A},I.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}},{}],3:[function(N,U,I){function x(){this.t={}}(U.exports=x).prototype.on=function(V,M,h){return(this.t[V]||(this.t[V]=[])).push({fn:M,ctx:h||this}),this},x.prototype.off=function(V,M){if(V===b)this.t={};else if(M===b)this.t[V]=[];else for(var h=this.t[V],s=0;s<h.length;)h[s].fn===M?h.splice(s,1):++s;return this},x.prototype.emit=function(V){var M=this.t[V];if(M){for(var h=[],s=1;s<arguments.length;)h.push(arguments[s++]);for(s=0;s<M.length;)M[s].fn.apply(M[s++].ctx,h)}return this}},{}],4:[function(N,U,I){function x(l){function d(oe,de,qe,Oe){var ke=de<0?1:0;oe((de=ke?-de:de)===0?0<1/de?0:2147483648:isNaN(de)?2143289344:34028234663852886e22<de?(ke<<31|2139095040)>>>0:de<11754943508222875e-54?(ke<<31|Math.round(de/1401298464324817e-60))>>>0:(ke<<31|127+(oe=Math.floor(Math.log(de)/Math.LN2))<<23|8388607&Math.round(de*Math.pow(2,-oe)*8388608))>>>0,qe,Oe)}function v(oe,de,qe){return oe=oe(de,qe),de=2*(oe>>31)+1,qe=oe>>>23&255,oe&=8388607,qe==255?oe?NaN:1/0*de:qe==0?1401298464324817e-60*de*oe:de*Math.pow(2,qe-150)*(8388608+oe)}function A(oe,de,qe){se[0]=oe,de[qe]=Se[0],de[qe+1]=Se[1],de[qe+2]=Se[2],de[qe+3]=Se[3]}function Y(oe,de,qe){se[0]=oe,de[qe]=Se[3],de[qe+1]=Se[2],de[qe+2]=Se[1],de[qe+3]=Se[0]}function T(oe,de){return Se[0]=oe[de],Se[1]=oe[de+1],Se[2]=oe[de+2],Se[3]=oe[de+3],se[0]}function te(oe,de){return Se[3]=oe[de],Se[2]=oe[de+1],Se[1]=oe[de+2],Se[0]=oe[de+3],se[0]}var se,Se,Ne,ue,be;function Qe(oe,de,qe,Oe,ke,_t){var Dt,Ue=Oe<0?1:0;(Oe=Ue?-Oe:Oe)===0?(oe(0,ke,_t+de),oe(0<1/Oe?0:2147483648,ke,_t+qe)):isNaN(Oe)?(oe(0,ke,_t+de),oe(2146959360,ke,_t+qe)):17976931348623157e292<Oe?(oe(0,ke,_t+de),oe((Ue<<31|2146435072)>>>0,ke,_t+qe)):Oe<22250738585072014e-324?(oe((Dt=Oe/5e-324)>>>0,ke,_t+de),oe((Ue<<31|Dt/4294967296)>>>0,ke,_t+qe)):(oe(4503599627370496*(Dt=Oe*Math.pow(2,-(Oe=(Oe=Math.floor(Math.log(Oe)/Math.LN2))===1024?1023:Oe)))>>>0,ke,_t+de),oe((Ue<<31|Oe+1023<<20|1048576*Dt&1048575)>>>0,ke,_t+qe))}function mt(oe,de,qe,Oe,ke){return de=oe(Oe,ke+de),oe=oe(Oe,ke+qe),Oe=2*(oe>>31)+1,ke=oe>>>20&2047,qe=4294967296*(1048575&oe)+de,ke==2047?qe?NaN:1/0*Oe:ke==0?5e-324*Oe*qe:Oe*Math.pow(2,ke-1075)*(qe+4503599627370496)}function un(oe,de,qe){Ne[0]=oe,de[qe]=ue[0],de[qe+1]=ue[1],de[qe+2]=ue[2],de[qe+3]=ue[3],de[qe+4]=ue[4],de[qe+5]=ue[5],de[qe+6]=ue[6],de[qe+7]=ue[7]}function Tn(oe,de,qe){Ne[0]=oe,de[qe]=ue[7],de[qe+1]=ue[6],de[qe+2]=ue[5],de[qe+3]=ue[4],de[qe+4]=ue[3],de[qe+5]=ue[2],de[qe+6]=ue[1],de[qe+7]=ue[0]}function vn(oe,de){return ue[0]=oe[de],ue[1]=oe[de+1],ue[2]=oe[de+2],ue[3]=oe[de+3],ue[4]=oe[de+4],ue[5]=oe[de+5],ue[6]=oe[de+6],ue[7]=oe[de+7],Ne[0]}function L(oe,de){return ue[7]=oe[de],ue[6]=oe[de+1],ue[5]=oe[de+2],ue[4]=oe[de+3],ue[3]=oe[de+4],ue[2]=oe[de+5],ue[1]=oe[de+6],ue[0]=oe[de+7],Ne[0]}return typeof Float32Array<"u"?(se=new Float32Array([-0]),Se=new Uint8Array(se.buffer),be=Se[3]===128,l.writeFloatLE=be?A:Y,l.writeFloatBE=be?Y:A,l.readFloatLE=be?T:te,l.readFloatBE=be?te:T):(l.writeFloatLE=d.bind(null,V),l.writeFloatBE=d.bind(null,M),l.readFloatLE=v.bind(null,h),l.readFloatBE=v.bind(null,s)),typeof Float64Array<"u"?(Ne=new Float64Array([-0]),ue=new Uint8Array(Ne.buffer),be=ue[7]===128,l.writeDoubleLE=be?un:Tn,l.writeDoubleBE=be?Tn:un,l.readDoubleLE=be?vn:L,l.readDoubleBE=be?L:vn):(l.writeDoubleLE=Qe.bind(null,V,0,4),l.writeDoubleBE=Qe.bind(null,M,4,0),l.readDoubleLE=mt.bind(null,h,0,4),l.readDoubleBE=mt.bind(null,s,4,0)),l}function V(l,d,v){d[v]=255&l,d[v+1]=l>>>8&255,d[v+2]=l>>>16&255,d[v+3]=l>>>24}function M(l,d,v){d[v]=l>>>24,d[v+1]=l>>>16&255,d[v+2]=l>>>8&255,d[v+3]=255&l}function h(l,d){return(l[d]|l[d+1]<<8|l[d+2]<<16|l[d+3]<<24)>>>0}function s(l,d){return(l[d]<<24|l[d+1]<<16|l[d+2]<<8|l[d+3])>>>0}U.exports=x(x)},{}],5:[function(N,U,I){function x(V){try{var M=void 0;if(M&&(M.length||Object.keys(M).length))return M}catch{}return null}U.exports=x},{}],6:[function(N,U,I){U.exports=function(x,V,M){var h=M||8192,s=h>>>1,l=null,d=h;return function(v){return v<1||s<v?x(v):(h<d+v&&(l=x(h),d=0),v=V.call(l,d,d+=v),7&d&&(d=1+(7|d)),v)}}},{}],7:[function(N,U,I){I.length=function(x){for(var V,M=0,h=0;h<x.length;++h)(V=x.charCodeAt(h))<128?M+=1:V<2048?M+=2:(64512&V)==55296&&(64512&x.charCodeAt(h+1))==56320?(++h,M+=4):M+=3;return M},I.read=function(x,V,M){if(M-V<1)return"";for(var h,s=null,l=[],d=0;V<M;)(h=x[V++])<128?l[d++]=h:191<h&&h<224?l[d++]=(31&h)<<6|63&x[V++]:239<h&&h<365?(h=((7&h)<<18|(63&x[V++])<<12|(63&x[V++])<<6|63&x[V++])-65536,l[d++]=55296+(h>>10),l[d++]=56320+(1023&h)):l[d++]=(15&h)<<12|(63&x[V++])<<6|63&x[V++],8191<d&&((s=s||[]).push(String.fromCharCode.apply(String,l)),d=0);return s?(d&&s.push(String.fromCharCode.apply(String,l.slice(0,d))),s.join("")):String.fromCharCode.apply(String,l.slice(0,d))},I.write=function(x,V,M){for(var h,s,l=M,d=0;d<x.length;++d)(h=x.charCodeAt(d))<128?V[M++]=h:(h<2048?V[M++]=h>>6|192:((64512&h)==55296&&(64512&(s=x.charCodeAt(d+1)))==56320?(++d,V[M++]=(h=65536+((1023&h)<<10)+(1023&s))>>18|240,V[M++]=h>>12&63|128):V[M++]=h>>12|224,V[M++]=h>>6&63|128),V[M++]=63&h|128);return M-l}},{}],8:[function(N,U,I){var x=I;function V(){x.util.n(),x.Writer.n(x.BufferWriter),x.Reader.n(x.BufferReader)}x.build="minimal",x.Writer=N(16),x.BufferWriter=N(17),x.Reader=N(9),x.BufferReader=N(10),x.util=N(15),x.rpc=N(12),x.roots=N(11),x.configure=V,V()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(N,U,I){U.exports=l;var x,V=N(15),M=V.LongBits,h=V.utf8;function s(se,Se){return RangeError("index out of range: "+se.pos+" + "+(Se||1)+" > "+se.len)}function l(se){this.buf=se,this.pos=0,this.len=se.length}function d(){return V.Buffer?function(se){return(l.create=function(Se){return V.Buffer.isBuffer(Se)?new x(Se):A(Se)})(se)}:A}var v,A=typeof Uint8Array<"u"?function(se){if(se instanceof Uint8Array||Array.isArray(se))return new l(se);throw Error("illegal buffer")}:function(se){if(Array.isArray(se))return new l(se);throw Error("illegal buffer")};function Y(){var se=new M(0,0),Se=0;if(!(4<this.len-this.pos)){for(;Se<3;++Se){if(this.pos>=this.len)throw s(this);if(se.lo=(se.lo|(127&this.buf[this.pos])<<7*Se)>>>0,this.buf[this.pos++]<128)return se}return se.lo=(se.lo|(127&this.buf[this.pos++])<<7*Se)>>>0,se}for(;Se<4;++Se)if(se.lo=(se.lo|(127&this.buf[this.pos])<<7*Se)>>>0,this.buf[this.pos++]<128)return se;if(se.lo=(se.lo|(127&this.buf[this.pos])<<28)>>>0,se.hi=(se.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return se;if(Se=0,4<this.len-this.pos){for(;Se<5;++Se)if(se.hi=(se.hi|(127&this.buf[this.pos])<<7*Se+3)>>>0,this.buf[this.pos++]<128)return se}else for(;Se<5;++Se){if(this.pos>=this.len)throw s(this);if(se.hi=(se.hi|(127&this.buf[this.pos])<<7*Se+3)>>>0,this.buf[this.pos++]<128)return se}throw Error("invalid varint encoding")}function T(se,Se){return(se[Se-4]|se[Se-3]<<8|se[Se-2]<<16|se[Se-1]<<24)>>>0}function te(){if(this.pos+8>this.len)throw s(this,8);return new M(T(this.buf,this.pos+=4),T(this.buf,this.pos+=4))}l.create=d(),l.prototype.i=V.Array.prototype.subarray||V.Array.prototype.slice,l.prototype.uint32=(v=4294967295,function(){if(v=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(v=(v|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128||(v=(v|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128||(v=(v|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128||(v=(v|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128||!((this.pos+=5)>this.len))))))return v;throw this.pos=this.len,s(this,10)}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var se=this.uint32();return se>>>1^-(1&se)|0},l.prototype.bool=function(){return this.uint32()!==0},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return T(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|T(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var se=V.float.readFloatLE(this.buf,this.pos);return this.pos+=4,se},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var se=V.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,se},l.prototype.bytes=function(){var se=this.uint32(),Se=this.pos,Ne=this.pos+se;if(Ne>this.len)throw s(this,se);return this.pos+=se,Array.isArray(this.buf)?this.buf.slice(Se,Ne):Se===Ne?(se=V.Buffer)?se.alloc(0):new this.buf.constructor(0):this.i.call(this.buf,Se,Ne)},l.prototype.string=function(){var se=this.bytes();return h.read(se,0,se.length)},l.prototype.skip=function(se){if(typeof se=="number"){if(this.pos+se>this.len)throw s(this,se);this.pos+=se}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(se){switch(se){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(se=7&this.uint32())!=4;)this.skipType(se);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+se+" at offset "+this.pos)}return this},l.n=function(se){x=se,l.create=d(),x.n();var Se=V.Long?"toLong":"toNumber";V.merge(l.prototype,{int64:function(){return Y.call(this)[Se](!1)},uint64:function(){return Y.call(this)[Se](!0)},sint64:function(){return Y.call(this).zzDecode()[Se](!1)},fixed64:function(){return te.call(this)[Se](!0)},sfixed64:function(){return te.call(this)[Se](!1)}})}},{15:15}],10:[function(N,U,I){U.exports=M;var x=N(9),V=((M.prototype=Object.create(x.prototype)).constructor=M,N(15));function M(h){x.call(this,h)}M.n=function(){V.Buffer&&(M.prototype.i=V.Buffer.prototype.slice)},M.prototype.string=function(){var h=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+h,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+h,this.len))},M.n()},{15:15,9:9}],11:[function(N,U,I){U.exports={}},{}],12:[function(N,U,I){I.Service=N(13)},{13:13}],13:[function(N,U,I){U.exports=V;var x=N(15);function V(M,h,s){if(typeof M!="function")throw TypeError("rpcImpl must be a function");x.EventEmitter.call(this),this.rpcImpl=M,this.requestDelimited=!!h,this.responseDelimited=!!s}((V.prototype=Object.create(x.EventEmitter.prototype)).constructor=V).prototype.rpcCall=function M(h,s,l,d,v){if(!d)throw TypeError("request must be specified");var A=this;if(!v)return x.asPromise(M,A,h,s,l,d);if(!A.rpcImpl)return setTimeout(function(){v(Error("already ended"))},0),b;try{return A.rpcImpl(h,s[A.requestDelimited?"encodeDelimited":"encode"](d).finish(),function(Y,T){if(Y)return A.emit("error",Y,h),v(Y);if(T===null)return A.end(!0),b;if(!(T instanceof l))try{T=l[A.responseDelimited?"decodeDelimited":"decode"](T)}catch(te){return A.emit("error",te,h),v(te)}return A.emit("data",T,h),v(null,T)})}catch(Y){return A.emit("error",Y,h),setTimeout(function(){v(Y)},0),b}},V.prototype.end=function(M){return this.rpcImpl&&(M||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(N,U,I){U.exports=V;var x=N(15);function V(s,l){this.lo=s>>>0,this.hi=l>>>0}var M=V.zero=new V(0,0),h=(M.toNumber=function(){return 0},M.zzEncode=M.zzDecode=function(){return this},M.length=function(){return 1},V.zeroHash="\0\0\0\0\0\0\0\0",V.fromNumber=function(s){var l,d;return s===0?M:(d=(s=(l=s<0)?-s:s)>>>0,s=(s-d)/4294967296>>>0,l&&(s=~s>>>0,d=~d>>>0,4294967295<++d&&(d=0,4294967295<++s&&(s=0))),new V(d,s))},V.from=function(s){if(typeof s=="number")return V.fromNumber(s);if(x.isString(s)){if(!x.Long)return V.fromNumber(parseInt(s,10));s=x.Long.fromString(s)}return s.low||s.high?new V(s.low>>>0,s.high>>>0):M},V.prototype.toNumber=function(s){var l;return!s&&this.hi>>>31?(s=1+~this.lo>>>0,l=~this.hi>>>0,-(s+4294967296*(l=s?l:l+1>>>0))):this.lo+4294967296*this.hi},V.prototype.toLong=function(s){return x.Long?new x.Long(0|this.lo,0|this.hi,!!s):{low:0|this.lo,high:0|this.hi,unsigned:!!s}},String.prototype.charCodeAt);V.fromHash=function(s){return s==="\0\0\0\0\0\0\0\0"?M:new V((h.call(s,0)|h.call(s,1)<<8|h.call(s,2)<<16|h.call(s,3)<<24)>>>0,(h.call(s,4)|h.call(s,5)<<8|h.call(s,6)<<16|h.call(s,7)<<24)>>>0)},V.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},V.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},V.prototype.zzDecode=function(){var s=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},V.prototype.length=function(){var s=this.lo,l=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return d==0?l==0?s<16384?s<128?1:2:s<2097152?3:4:l<16384?l<128?5:6:l<2097152?7:8:d<128?9:10}},{15:15}],15:[function(N,U,I){var x=I;function V(h,s,l){for(var d=Object.keys(s),v=0;v<d.length;++v)h[d[v]]!==b&&l||(h[d[v]]=s[d[v]]);return h}function M(h){function s(l,d){if(!(this instanceof s))return new s(l,d);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:Error().stack||""}),d&&V(this,d)}return s.prototype=Object.create(Error.prototype,{constructor:{value:s,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return h},set:b,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),s}x.asPromise=N(1),x.base64=N(2),x.EventEmitter=N(3),x.float=N(4),x.inquire=N(5),x.utf8=N(7),x.pool=N(6),x.LongBits=N(14),x.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),x.global=x.isNode&&global||!1||typeof self<"u"&&self||this,x.emptyArray=Object.freeze?Object.freeze([]):[],x.emptyObject=Object.freeze?Object.freeze({}):{},x.isInteger=Number.isInteger||function(h){return typeof h=="number"&&isFinite(h)&&Math.floor(h)===h},x.isString=function(h){return typeof h=="string"||h instanceof String},x.isObject=function(h){return h&&typeof h=="object"},x.isset=x.isSet=function(h,s){var l=h[s];return l!=null&&h.hasOwnProperty(s)&&(typeof l!="object"||0<(Array.isArray(l)?l:Object.keys(l)).length)},x.Buffer=function(){try{var h=x.inquire("buffer").Buffer;return h.prototype.utf8Write?h:null}catch{return null}}(),x.r=null,x.u=null,x.newBuffer=function(h){return typeof h=="number"?x.Buffer?x.u(h):new x.Array(h):x.Buffer?x.r(h):typeof Uint8Array>"u"?h:new Uint8Array(h)},x.Array=typeof Uint8Array<"u"?Uint8Array:Array,x.Long=x.global.dcodeIO&&x.global.dcodeIO.Long||x.global.Long||x.inquire("long"),x.key2Re=/^true|false|0|1$/,x.key32Re=/^-?(?:0|[1-9][0-9]*)$/,x.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,x.longToHash=function(h){return h?x.LongBits.from(h).toHash():x.LongBits.zeroHash},x.longFromHash=function(h,s){return h=x.LongBits.fromHash(h),x.Long?x.Long.fromBits(h.lo,h.hi,s):h.toNumber(!!s)},x.merge=V,x.lcFirst=function(h){return(h[0]||"").toLowerCase()+h.substring(1)},x.newError=M,x.ProtocolError=M("ProtocolError"),x.oneOfGetter=function(h){for(var s={},l=0;l<h.length;++l)s[h[l]]=1;return function(){for(var d=Object.keys(this),v=d.length-1;-1<v;--v)if(s[d[v]]===1&&this[d[v]]!==b&&this[d[v]]!==null)return d[v]}},x.oneOfSetter=function(h){return function(s){for(var l=0;l<h.length;++l)h[l]!==s&&delete this[h[l]]}},x.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},x.n=function(){var h=x.Buffer;h?(x.r=h.from!==Uint8Array.from&&h.from||function(s,l){return new h(s,l)},x.u=h.allocUnsafe||function(s){return new h(s)}):x.r=x.u=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(N,U,I){U.exports=A;var x,V=N(15),M=V.LongBits,h=V.base64,s=V.utf8;function l(ue,be,Qe){this.fn=ue,this.len=be,this.next=b,this.val=Qe}function d(){}function v(ue){this.head=ue.head,this.tail=ue.tail,this.len=ue.len,this.next=ue.states}function A(){this.len=0,this.head=new l(d,0,0),this.tail=this.head,this.states=null}function Y(){return V.Buffer?function(){return(A.create=function(){return new x})()}:function(){return new A}}function T(ue,be,Qe){be[Qe]=255&ue}function te(ue,be){this.len=ue,this.next=b,this.val=be}function se(ue,be,Qe){for(;ue.hi;)be[Qe++]=127&ue.lo|128,ue.lo=(ue.lo>>>7|ue.hi<<25)>>>0,ue.hi>>>=7;for(;127<ue.lo;)be[Qe++]=127&ue.lo|128,ue.lo=ue.lo>>>7;be[Qe++]=ue.lo}function Se(ue,be,Qe){be[Qe]=255&ue,be[Qe+1]=ue>>>8&255,be[Qe+2]=ue>>>16&255,be[Qe+3]=ue>>>24}A.create=Y(),A.alloc=function(ue){return new V.Array(ue)},V.Array!==Array&&(A.alloc=V.pool(A.alloc,V.Array.prototype.subarray)),A.prototype.e=function(ue,be,Qe){return this.tail=this.tail.next=new l(ue,be,Qe),this.len+=be,this},(te.prototype=Object.create(l.prototype)).fn=function(ue,be,Qe){for(;127<ue;)be[Qe++]=127&ue|128,ue>>>=7;be[Qe]=ue},A.prototype.uint32=function(ue){return this.len+=(this.tail=this.tail.next=new te((ue>>>=0)<128?1:ue<16384?2:ue<2097152?3:ue<268435456?4:5,ue)).len,this},A.prototype.int32=function(ue){return ue<0?this.e(se,10,M.fromNumber(ue)):this.uint32(ue)},A.prototype.sint32=function(ue){return this.uint32((ue<<1^ue>>31)>>>0)},A.prototype.int64=A.prototype.uint64=function(ue){return ue=M.from(ue),this.e(se,ue.length(),ue)},A.prototype.sint64=function(ue){return ue=M.from(ue).zzEncode(),this.e(se,ue.length(),ue)},A.prototype.bool=function(ue){return this.e(T,1,ue?1:0)},A.prototype.sfixed32=A.prototype.fixed32=function(ue){return this.e(Se,4,ue>>>0)},A.prototype.sfixed64=A.prototype.fixed64=function(ue){return ue=M.from(ue),this.e(Se,4,ue.lo).e(Se,4,ue.hi)},A.prototype.float=function(ue){return this.e(V.float.writeFloatLE,4,ue)},A.prototype.double=function(ue){return this.e(V.float.writeDoubleLE,8,ue)};var Ne=V.Array.prototype.set?function(ue,be,Qe){be.set(ue,Qe)}:function(ue,be,Qe){for(var mt=0;mt<ue.length;++mt)be[Qe+mt]=ue[mt]};A.prototype.bytes=function(ue){var be,Qe=ue.length>>>0;return Qe?(V.isString(ue)&&(be=A.alloc(Qe=h.length(ue)),h.decode(ue,be,0),ue=be),this.uint32(Qe).e(Ne,Qe,ue)):this.e(T,1,0)},A.prototype.string=function(ue){var be=s.length(ue);return be?this.uint32(be).e(s.write,be,ue):this.e(T,1,0)},A.prototype.fork=function(){return this.states=new v(this),this.head=this.tail=new l(d,0,0),this.len=0,this},A.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(d,0,0),this.len=0),this},A.prototype.ldelim=function(){var ue=this.head,be=this.tail,Qe=this.len;return this.reset().uint32(Qe),Qe&&(this.tail.next=ue.next,this.tail=be,this.len+=Qe),this},A.prototype.finish=function(){for(var ue=this.head.next,be=this.constructor.alloc(this.len),Qe=0;ue;)ue.fn(ue.val,be,Qe),Qe+=ue.len,ue=ue.next;return be},A.n=function(ue){x=ue,A.create=Y(),x.n()}},{15:15}],17:[function(N,U,I){U.exports=M;var x=N(16),V=((M.prototype=Object.create(x.prototype)).constructor=M,N(15));function M(){x.call(this)}function h(s,l,d){s.length<40?V.utf8.write(s,l,d):l.utf8Write?l.utf8Write(s,d):l.write(s,d)}M.n=function(){M.alloc=V.u,M.writeBytesBuffer=V.Buffer&&V.Buffer.prototype instanceof Uint8Array&&V.Buffer.prototype.set.name==="set"?function(s,l,d){l.set(s,d)}:function(s,l,d){if(s.copy)s.copy(l,d,0,s.length);else for(var v=0;v<s.length;)l[d++]=s[v++]}},M.prototype.bytes=function(s){var l=(s=V.isString(s)?V.r(s,"base64"):s).length>>>0;return this.uint32(l),l&&this.e(M.writeBytesBuffer,l,s),this},M.prototype.string=function(s){var l=V.Buffer.byteLength(s);return this.uint32(l),l&&this.e(h,l,s),this},M.n()},{15:15,16:16}]},{},[8])})();(function(b){var N=b.Reader,U=b.Writer,I=b.util,x=b.roots.default||(b.roots.default={});return x.license_protocol=function(){var V={};return V.LicenseType=function(){var M={},h=Object.create(M);return h[M[1]="STREAMING"]=1,h[M[2]="OFFLINE"]=2,h[M[3]="AUTOMATIC"]=3,h}(),V.PlatformVerificationStatus=function(){var M={},h=Object.create(M);return h[M[0]="PLATFORM_UNVERIFIED"]=0,h[M[1]="PLATFORM_TAMPERED"]=1,h[M[2]="PLATFORM_SOFTWARE_VERIFIED"]=2,h[M[3]="PLATFORM_HARDWARE_VERIFIED"]=3,h[M[4]="PLATFORM_NO_VERIFICATION"]=4,h[M[5]="PLATFORM_SECURE_STORAGE_SOFTWARE_VERIFIED"]=5,h}(),V.LicenseIdentification=function(){function M(h){if(h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.requestId=I.newBuffer([]),M.prototype.sessionId=I.newBuffer([]),M.prototype.purchaseId=I.newBuffer([]),M.prototype.type=1,M.prototype.version=0,M.prototype.providerSessionToken=I.newBuffer([]),M.create=function(s){return new M(s)},M.encode=function(s,l){return l||(l=U.create()),s.requestId!=null&&Object.hasOwnProperty.call(s,"requestId")&&l.uint32(10).bytes(s.requestId),s.sessionId!=null&&Object.hasOwnProperty.call(s,"sessionId")&&l.uint32(18).bytes(s.sessionId),s.purchaseId!=null&&Object.hasOwnProperty.call(s,"purchaseId")&&l.uint32(26).bytes(s.purchaseId),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&l.uint32(32).int32(s.type),s.version!=null&&Object.hasOwnProperty.call(s,"version")&&l.uint32(40).int32(s.version),s.providerSessionToken!=null&&Object.hasOwnProperty.call(s,"providerSessionToken")&&l.uint32(50).bytes(s.providerSessionToken),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.LicenseIdentification;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.requestId=s.bytes();break}case 2:{v.sessionId=s.bytes();break}case 3:{v.purchaseId=s.bytes();break}case 4:{v.type=s.int32();break}case 5:{v.version=s.int32();break}case 6:{v.providerSessionToken=s.bytes();break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.requestId!=null&&s.hasOwnProperty("requestId")&&!(s.requestId&&typeof s.requestId.length=="number"||I.isString(s.requestId)))return"requestId: buffer expected";if(s.sessionId!=null&&s.hasOwnProperty("sessionId")&&!(s.sessionId&&typeof s.sessionId.length=="number"||I.isString(s.sessionId)))return"sessionId: buffer expected";if(s.purchaseId!=null&&s.hasOwnProperty("purchaseId")&&!(s.purchaseId&&typeof s.purchaseId.length=="number"||I.isString(s.purchaseId)))return"purchaseId: buffer expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 1:case 2:case 3:break}return s.version!=null&&s.hasOwnProperty("version")&&!I.isInteger(s.version)?"version: integer expected":s.providerSessionToken!=null&&s.hasOwnProperty("providerSessionToken")&&!(s.providerSessionToken&&typeof s.providerSessionToken.length=="number"||I.isString(s.providerSessionToken))?"providerSessionToken: buffer expected":null},M.fromObject=function(s){if(s instanceof x.license_protocol.LicenseIdentification)return s;var l=new x.license_protocol.LicenseIdentification;switch(s.requestId!=null&&(typeof s.requestId=="string"?I.base64.decode(s.requestId,l.requestId=I.newBuffer(I.base64.length(s.requestId)),0):s.requestId.length>=0&&(l.requestId=s.requestId)),s.sessionId!=null&&(typeof s.sessionId=="string"?I.base64.decode(s.sessionId,l.sessionId=I.newBuffer(I.base64.length(s.sessionId)),0):s.sessionId.length>=0&&(l.sessionId=s.sessionId)),s.purchaseId!=null&&(typeof s.purchaseId=="string"?I.base64.decode(s.purchaseId,l.purchaseId=I.newBuffer(I.base64.length(s.purchaseId)),0):s.purchaseId.length>=0&&(l.purchaseId=s.purchaseId)),s.type){default:if(typeof s.type=="number"){l.type=s.type;break}break;case"STREAMING":case 1:l.type=1;break;case"OFFLINE":case 2:l.type=2;break;case"AUTOMATIC":case 3:l.type=3;break}return s.version!=null&&(l.version=s.version|0),s.providerSessionToken!=null&&(typeof s.providerSessionToken=="string"?I.base64.decode(s.providerSessionToken,l.providerSessionToken=I.newBuffer(I.base64.length(s.providerSessionToken)),0):s.providerSessionToken.length>=0&&(l.providerSessionToken=s.providerSessionToken)),l},M.toObject=function(s,l){l||(l={});var d={};return l.defaults&&(l.bytes===String?d.requestId="":(d.requestId=[],l.bytes!==Array&&(d.requestId=I.newBuffer(d.requestId))),l.bytes===String?d.sessionId="":(d.sessionId=[],l.bytes!==Array&&(d.sessionId=I.newBuffer(d.sessionId))),l.bytes===String?d.purchaseId="":(d.purchaseId=[],l.bytes!==Array&&(d.purchaseId=I.newBuffer(d.purchaseId))),d.type=l.enums===String?"STREAMING":1,d.version=0,l.bytes===String?d.providerSessionToken="":(d.providerSessionToken=[],l.bytes!==Array&&(d.providerSessionToken=I.newBuffer(d.providerSessionToken)))),s.requestId!=null&&s.hasOwnProperty("requestId")&&(d.requestId=l.bytes===String?I.base64.encode(s.requestId,0,s.requestId.length):l.bytes===Array?Array.prototype.slice.call(s.requestId):s.requestId),s.sessionId!=null&&s.hasOwnProperty("sessionId")&&(d.sessionId=l.bytes===String?I.base64.encode(s.sessionId,0,s.sessionId.length):l.bytes===Array?Array.prototype.slice.call(s.sessionId):s.sessionId),s.purchaseId!=null&&s.hasOwnProperty("purchaseId")&&(d.purchaseId=l.bytes===String?I.base64.encode(s.purchaseId,0,s.purchaseId.length):l.bytes===Array?Array.prototype.slice.call(s.purchaseId):s.purchaseId),s.type!=null&&s.hasOwnProperty("type")&&(d.type=l.enums===String?x.license_protocol.LicenseType[s.type]===void 0?s.type:x.license_protocol.LicenseType[s.type]:s.type),s.version!=null&&s.hasOwnProperty("version")&&(d.version=s.version),s.providerSessionToken!=null&&s.hasOwnProperty("providerSessionToken")&&(d.providerSessionToken=l.bytes===String?I.base64.encode(s.providerSessionToken,0,s.providerSessionToken.length):l.bytes===Array?Array.prototype.slice.call(s.providerSessionToken):s.providerSessionToken),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.LicenseIdentification"},M}(),V.License=function(){function M(h){if(this.key=[],this.groupIds=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.id=null,M.prototype.policy=null,M.prototype.key=I.emptyArray,M.prototype.licenseStartTime=I.Long?I.Long.fromBits(0,0,!1):0,M.prototype.remoteAttestationVerified=!1,M.prototype.providerClientToken=I.newBuffer([]),M.prototype.protectionScheme=0,M.prototype.srmRequirement=I.newBuffer([]),M.prototype.srmUpdate=I.newBuffer([]),M.prototype.platformVerificationStatus=4,M.prototype.groupIds=I.emptyArray,M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.id!=null&&Object.hasOwnProperty.call(s,"id")&&x.license_protocol.LicenseIdentification.encode(s.id,l.uint32(10).fork()).ldelim(),s.policy!=null&&Object.hasOwnProperty.call(s,"policy")&&x.license_protocol.License.Policy.encode(s.policy,l.uint32(18).fork()).ldelim(),s.key!=null&&s.key.length)for(var d=0;d<s.key.length;d+=1)x.license_protocol.License.KeyContainer.encode(s.key[d],l.uint32(26).fork()).ldelim();if(s.licenseStartTime!=null&&Object.hasOwnProperty.call(s,"licenseStartTime")&&l.uint32(32).int64(s.licenseStartTime),s.remoteAttestationVerified!=null&&Object.hasOwnProperty.call(s,"remoteAttestationVerified")&&l.uint32(40).bool(s.remoteAttestationVerified),s.providerClientToken!=null&&Object.hasOwnProperty.call(s,"providerClientToken")&&l.uint32(50).bytes(s.providerClientToken),s.protectionScheme!=null&&Object.hasOwnProperty.call(s,"protectionScheme")&&l.uint32(56).uint32(s.protectionScheme),s.srmRequirement!=null&&Object.hasOwnProperty.call(s,"srmRequirement")&&l.uint32(66).bytes(s.srmRequirement),s.srmUpdate!=null&&Object.hasOwnProperty.call(s,"srmUpdate")&&l.uint32(74).bytes(s.srmUpdate),s.platformVerificationStatus!=null&&Object.hasOwnProperty.call(s,"platformVerificationStatus")&&l.uint32(80).int32(s.platformVerificationStatus),s.groupIds!=null&&s.groupIds.length)for(var d=0;d<s.groupIds.length;d+=1)l.uint32(90).bytes(s.groupIds[d]);return l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.License;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.id=x.license_protocol.LicenseIdentification.decode(s,s.uint32());break}case 2:{v.policy=x.license_protocol.License.Policy.decode(s,s.uint32());break}case 3:{v.key&&v.key.length||(v.key=[]),v.key.push(x.license_protocol.License.KeyContainer.decode(s,s.uint32()));break}case 4:{v.licenseStartTime=s.int64();break}case 5:{v.remoteAttestationVerified=s.bool();break}case 6:{v.providerClientToken=s.bytes();break}case 7:{v.protectionScheme=s.uint32();break}case 8:{v.srmRequirement=s.bytes();break}case 9:{v.srmUpdate=s.bytes();break}case 10:{v.platformVerificationStatus=s.int32();break}case 11:{v.groupIds&&v.groupIds.length||(v.groupIds=[]),v.groupIds.push(s.bytes());break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.id!=null&&s.hasOwnProperty("id")){var l=x.license_protocol.LicenseIdentification.verify(s.id);if(l)return"id."+l}if(s.policy!=null&&s.hasOwnProperty("policy")){var l=x.license_protocol.License.Policy.verify(s.policy);if(l)return"policy."+l}if(s.key!=null&&s.hasOwnProperty("key")){if(!Array.isArray(s.key))return"key: array expected";for(var d=0;d<s.key.length;d+=1){var l=x.license_protocol.License.KeyContainer.verify(s.key[d]);if(l)return"key."+l}}if(s.licenseStartTime!=null&&s.hasOwnProperty("licenseStartTime")&&!I.isInteger(s.licenseStartTime)&&!(s.licenseStartTime&&I.isInteger(s.licenseStartTime.low)&&I.isInteger(s.licenseStartTime.high)))return"licenseStartTime: integer|Long expected";if(s.remoteAttestationVerified!=null&&s.hasOwnProperty("remoteAttestationVerified")&&typeof s.remoteAttestationVerified!="boolean")return"remoteAttestationVerified: boolean expected";if(s.providerClientToken!=null&&s.hasOwnProperty("providerClientToken")&&!(s.providerClientToken&&typeof s.providerClientToken.length=="number"||I.isString(s.providerClientToken)))return"providerClientToken: buffer expected";if(s.protectionScheme!=null&&s.hasOwnProperty("protectionScheme")&&!I.isInteger(s.protectionScheme))return"protectionScheme: integer expected";if(s.srmRequirement!=null&&s.hasOwnProperty("srmRequirement")&&!(s.srmRequirement&&typeof s.srmRequirement.length=="number"||I.isString(s.srmRequirement)))return"srmRequirement: buffer expected";if(s.srmUpdate!=null&&s.hasOwnProperty("srmUpdate")&&!(s.srmUpdate&&typeof s.srmUpdate.length=="number"||I.isString(s.srmUpdate)))return"srmUpdate: buffer expected";if(s.platformVerificationStatus!=null&&s.hasOwnProperty("platformVerificationStatus"))switch(s.platformVerificationStatus){default:return"platformVerificationStatus: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(s.groupIds!=null&&s.hasOwnProperty("groupIds")){if(!Array.isArray(s.groupIds))return"groupIds: array expected";for(var d=0;d<s.groupIds.length;d+=1)if(!(s.groupIds[d]&&typeof s.groupIds[d].length=="number"||I.isString(s.groupIds[d])))return"groupIds: buffer[] expected"}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.License)return s;var l=new x.license_protocol.License;if(s.id!=null){if(typeof s.id!="object")throw TypeError(".license_protocol.License.id: object expected");l.id=x.license_protocol.LicenseIdentification.fromObject(s.id)}if(s.policy!=null){if(typeof s.policy!="object")throw TypeError(".license_protocol.License.policy: object expected");l.policy=x.license_protocol.License.Policy.fromObject(s.policy)}if(s.key){if(!Array.isArray(s.key))throw TypeError(".license_protocol.License.key: array expected");l.key=[];for(var d=0;d<s.key.length;d+=1){if(typeof s.key[d]!="object")throw TypeError(".license_protocol.License.key: object expected");l.key[d]=x.license_protocol.License.KeyContainer.fromObject(s.key[d])}}switch(s.licenseStartTime!=null&&(I.Long?(l.licenseStartTime=I.Long.fromValue(s.licenseStartTime)).unsigned=!1:typeof s.licenseStartTime=="string"?l.licenseStartTime=parseInt(s.licenseStartTime,10):typeof s.licenseStartTime=="number"?l.licenseStartTime=s.licenseStartTime:typeof s.licenseStartTime=="object"&&(l.licenseStartTime=new I.LongBits(s.licenseStartTime.low>>>0,s.licenseStartTime.high>>>0).toNumber())),s.remoteAttestationVerified!=null&&(l.remoteAttestationVerified=!!s.remoteAttestationVerified),s.providerClientToken!=null&&(typeof s.providerClientToken=="string"?I.base64.decode(s.providerClientToken,l.providerClientToken=I.newBuffer(I.base64.length(s.providerClientToken)),0):s.providerClientToken.length>=0&&(l.providerClientToken=s.providerClientToken)),s.protectionScheme!=null&&(l.protectionScheme=s.protectionScheme>>>0),s.srmRequirement!=null&&(typeof s.srmRequirement=="string"?I.base64.decode(s.srmRequirement,l.srmRequirement=I.newBuffer(I.base64.length(s.srmRequirement)),0):s.srmRequirement.length>=0&&(l.srmRequirement=s.srmRequirement)),s.srmUpdate!=null&&(typeof s.srmUpdate=="string"?I.base64.decode(s.srmUpdate,l.srmUpdate=I.newBuffer(I.base64.length(s.srmUpdate)),0):s.srmUpdate.length>=0&&(l.srmUpdate=s.srmUpdate)),s.platformVerificationStatus){case"PLATFORM_UNVERIFIED":case 0:l.platformVerificationStatus=0;break;case"PLATFORM_TAMPERED":case 1:l.platformVerificationStatus=1;break;case"PLATFORM_SOFTWARE_VERIFIED":case 2:l.platformVerificationStatus=2;break;case"PLATFORM_HARDWARE_VERIFIED":case 3:l.platformVerificationStatus=3;break;default:if(typeof s.platformVerificationStatus=="number"){l.platformVerificationStatus=s.platformVerificationStatus;break}break;case"PLATFORM_NO_VERIFICATION":case 4:l.platformVerificationStatus=4;break;case"PLATFORM_SECURE_STORAGE_SOFTWARE_VERIFIED":case 5:l.platformVerificationStatus=5;break}if(s.groupIds){if(!Array.isArray(s.groupIds))throw TypeError(".license_protocol.License.groupIds: array expected");l.groupIds=[];for(var d=0;d<s.groupIds.length;d+=1)typeof s.groupIds[d]=="string"?I.base64.decode(s.groupIds[d],l.groupIds[d]=I.newBuffer(I.base64.length(s.groupIds[d])),0):s.groupIds[d].length>=0&&(l.groupIds[d]=s.groupIds[d])}return l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.key=[],d.groupIds=[]),l.defaults){if(d.id=null,d.policy=null,I.Long){var v=new I.Long(0,0,!1);d.licenseStartTime=l.longs===String?v.toString():l.longs===Number?v.toNumber():v}else d.licenseStartTime=l.longs===String?"0":0;d.remoteAttestationVerified=!1,l.bytes===String?d.providerClientToken="":(d.providerClientToken=[],l.bytes!==Array&&(d.providerClientToken=I.newBuffer(d.providerClientToken))),d.protectionScheme=0,l.bytes===String?d.srmRequirement="":(d.srmRequirement=[],l.bytes!==Array&&(d.srmRequirement=I.newBuffer(d.srmRequirement))),l.bytes===String?d.srmUpdate="":(d.srmUpdate=[],l.bytes!==Array&&(d.srmUpdate=I.newBuffer(d.srmUpdate))),d.platformVerificationStatus=l.enums===String?"PLATFORM_NO_VERIFICATION":4}if(s.id!=null&&s.hasOwnProperty("id")&&(d.id=x.license_protocol.LicenseIdentification.toObject(s.id,l)),s.policy!=null&&s.hasOwnProperty("policy")&&(d.policy=x.license_protocol.License.Policy.toObject(s.policy,l)),s.key&&s.key.length){d.key=[];for(var A=0;A<s.key.length;A+=1)d.key[A]=x.license_protocol.License.KeyContainer.toObject(s.key[A],l)}if(s.licenseStartTime!=null&&s.hasOwnProperty("licenseStartTime")&&(typeof s.licenseStartTime=="number"?d.licenseStartTime=l.longs===String?String(s.licenseStartTime):s.licenseStartTime:d.licenseStartTime=l.longs===String?I.Long.prototype.toString.call(s.licenseStartTime):l.longs===Number?new I.LongBits(s.licenseStartTime.low>>>0,s.licenseStartTime.high>>>0).toNumber():s.licenseStartTime),s.remoteAttestationVerified!=null&&s.hasOwnProperty("remoteAttestationVerified")&&(d.remoteAttestationVerified=s.remoteAttestationVerified),s.providerClientToken!=null&&s.hasOwnProperty("providerClientToken")&&(d.providerClientToken=l.bytes===String?I.base64.encode(s.providerClientToken,0,s.providerClientToken.length):l.bytes===Array?Array.prototype.slice.call(s.providerClientToken):s.providerClientToken),s.protectionScheme!=null&&s.hasOwnProperty("protectionScheme")&&(d.protectionScheme=s.protectionScheme),s.srmRequirement!=null&&s.hasOwnProperty("srmRequirement")&&(d.srmRequirement=l.bytes===String?I.base64.encode(s.srmRequirement,0,s.srmRequirement.length):l.bytes===Array?Array.prototype.slice.call(s.srmRequirement):s.srmRequirement),s.srmUpdate!=null&&s.hasOwnProperty("srmUpdate")&&(d.srmUpdate=l.bytes===String?I.base64.encode(s.srmUpdate,0,s.srmUpdate.length):l.bytes===Array?Array.prototype.slice.call(s.srmUpdate):s.srmUpdate),s.platformVerificationStatus!=null&&s.hasOwnProperty("platformVerificationStatus")&&(d.platformVerificationStatus=l.enums===String?x.license_protocol.PlatformVerificationStatus[s.platformVerificationStatus]===void 0?s.platformVerificationStatus:x.license_protocol.PlatformVerificationStatus[s.platformVerificationStatus]:s.platformVerificationStatus),s.groupIds&&s.groupIds.length){d.groupIds=[];for(var A=0;A<s.groupIds.length;A+=1)d.groupIds[A]=l.bytes===String?I.base64.encode(s.groupIds[A],0,s.groupIds[A].length):l.bytes===Array?Array.prototype.slice.call(s.groupIds[A]):s.groupIds[A]}return d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.License"},M.Policy=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.canPlay=!1,h.prototype.canPersist=!1,h.prototype.canRenew=!1,h.prototype.rentalDurationSeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.playbackDurationSeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.licenseDurationSeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.renewalRecoveryDurationSeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.renewalServerUrl="",h.prototype.renewalDelaySeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.renewalRetryIntervalSeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.renewWithUsage=!1,h.prototype.alwaysIncludeClientId=!1,h.prototype.playStartGracePeriodSeconds=I.Long?I.Long.fromBits(0,0,!1):0,h.prototype.softEnforcePlaybackDuration=!1,h.prototype.softEnforceRentalDuration=!0,h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.canPlay!=null&&Object.hasOwnProperty.call(l,"canPlay")&&d.uint32(8).bool(l.canPlay),l.canPersist!=null&&Object.hasOwnProperty.call(l,"canPersist")&&d.uint32(16).bool(l.canPersist),l.canRenew!=null&&Object.hasOwnProperty.call(l,"canRenew")&&d.uint32(24).bool(l.canRenew),l.rentalDurationSeconds!=null&&Object.hasOwnProperty.call(l,"rentalDurationSeconds")&&d.uint32(32).int64(l.rentalDurationSeconds),l.playbackDurationSeconds!=null&&Object.hasOwnProperty.call(l,"playbackDurationSeconds")&&d.uint32(40).int64(l.playbackDurationSeconds),l.licenseDurationSeconds!=null&&Object.hasOwnProperty.call(l,"licenseDurationSeconds")&&d.uint32(48).int64(l.licenseDurationSeconds),l.renewalRecoveryDurationSeconds!=null&&Object.hasOwnProperty.call(l,"renewalRecoveryDurationSeconds")&&d.uint32(56).int64(l.renewalRecoveryDurationSeconds),l.renewalServerUrl!=null&&Object.hasOwnProperty.call(l,"renewalServerUrl")&&d.uint32(66).string(l.renewalServerUrl),l.renewalDelaySeconds!=null&&Object.hasOwnProperty.call(l,"renewalDelaySeconds")&&d.uint32(72).int64(l.renewalDelaySeconds),l.renewalRetryIntervalSeconds!=null&&Object.hasOwnProperty.call(l,"renewalRetryIntervalSeconds")&&d.uint32(80).int64(l.renewalRetryIntervalSeconds),l.renewWithUsage!=null&&Object.hasOwnProperty.call(l,"renewWithUsage")&&d.uint32(88).bool(l.renewWithUsage),l.alwaysIncludeClientId!=null&&Object.hasOwnProperty.call(l,"alwaysIncludeClientId")&&d.uint32(96).bool(l.alwaysIncludeClientId),l.playStartGracePeriodSeconds!=null&&Object.hasOwnProperty.call(l,"playStartGracePeriodSeconds")&&d.uint32(104).int64(l.playStartGracePeriodSeconds),l.softEnforcePlaybackDuration!=null&&Object.hasOwnProperty.call(l,"softEnforcePlaybackDuration")&&d.uint32(112).bool(l.softEnforcePlaybackDuration),l.softEnforceRentalDuration!=null&&Object.hasOwnProperty.call(l,"softEnforceRentalDuration")&&d.uint32(120).bool(l.softEnforceRentalDuration),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.License.Policy;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.canPlay=l.bool();break}case 2:{A.canPersist=l.bool();break}case 3:{A.canRenew=l.bool();break}case 4:{A.rentalDurationSeconds=l.int64();break}case 5:{A.playbackDurationSeconds=l.int64();break}case 6:{A.licenseDurationSeconds=l.int64();break}case 7:{A.renewalRecoveryDurationSeconds=l.int64();break}case 8:{A.renewalServerUrl=l.string();break}case 9:{A.renewalDelaySeconds=l.int64();break}case 10:{A.renewalRetryIntervalSeconds=l.int64();break}case 11:{A.renewWithUsage=l.bool();break}case 12:{A.alwaysIncludeClientId=l.bool();break}case 13:{A.playStartGracePeriodSeconds=l.int64();break}case 14:{A.softEnforcePlaybackDuration=l.bool();break}case 15:{A.softEnforceRentalDuration=l.bool();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){return typeof l!="object"||l===null?"object expected":l.canPlay!=null&&l.hasOwnProperty("canPlay")&&typeof l.canPlay!="boolean"?"canPlay: boolean expected":l.canPersist!=null&&l.hasOwnProperty("canPersist")&&typeof l.canPersist!="boolean"?"canPersist: boolean expected":l.canRenew!=null&&l.hasOwnProperty("canRenew")&&typeof l.canRenew!="boolean"?"canRenew: boolean expected":l.rentalDurationSeconds!=null&&l.hasOwnProperty("rentalDurationSeconds")&&!I.isInteger(l.rentalDurationSeconds)&&!(l.rentalDurationSeconds&&I.isInteger(l.rentalDurationSeconds.low)&&I.isInteger(l.rentalDurationSeconds.high))?"rentalDurationSeconds: integer|Long expected":l.playbackDurationSeconds!=null&&l.hasOwnProperty("playbackDurationSeconds")&&!I.isInteger(l.playbackDurationSeconds)&&!(l.playbackDurationSeconds&&I.isInteger(l.playbackDurationSeconds.low)&&I.isInteger(l.playbackDurationSeconds.high))?"playbackDurationSeconds: integer|Long expected":l.licenseDurationSeconds!=null&&l.hasOwnProperty("licenseDurationSeconds")&&!I.isInteger(l.licenseDurationSeconds)&&!(l.licenseDurationSeconds&&I.isInteger(l.licenseDurationSeconds.low)&&I.isInteger(l.licenseDurationSeconds.high))?"licenseDurationSeconds: integer|Long expected":l.renewalRecoveryDurationSeconds!=null&&l.hasOwnProperty("renewalRecoveryDurationSeconds")&&!I.isInteger(l.renewalRecoveryDurationSeconds)&&!(l.renewalRecoveryDurationSeconds&&I.isInteger(l.renewalRecoveryDurationSeconds.low)&&I.isInteger(l.renewalRecoveryDurationSeconds.high))?"renewalRecoveryDurationSeconds: integer|Long expected":l.renewalServerUrl!=null&&l.hasOwnProperty("renewalServerUrl")&&!I.isString(l.renewalServerUrl)?"renewalServerUrl: string expected":l.renewalDelaySeconds!=null&&l.hasOwnProperty("renewalDelaySeconds")&&!I.isInteger(l.renewalDelaySeconds)&&!(l.renewalDelaySeconds&&I.isInteger(l.renewalDelaySeconds.low)&&I.isInteger(l.renewalDelaySeconds.high))?"renewalDelaySeconds: integer|Long expected":l.renewalRetryIntervalSeconds!=null&&l.hasOwnProperty("renewalRetryIntervalSeconds")&&!I.isInteger(l.renewalRetryIntervalSeconds)&&!(l.renewalRetryIntervalSeconds&&I.isInteger(l.renewalRetryIntervalSeconds.low)&&I.isInteger(l.renewalRetryIntervalSeconds.high))?"renewalRetryIntervalSeconds: integer|Long expected":l.renewWithUsage!=null&&l.hasOwnProperty("renewWithUsage")&&typeof l.renewWithUsage!="boolean"?"renewWithUsage: boolean expected":l.alwaysIncludeClientId!=null&&l.hasOwnProperty("alwaysIncludeClientId")&&typeof l.alwaysIncludeClientId!="boolean"?"alwaysIncludeClientId: boolean expected":l.playStartGracePeriodSeconds!=null&&l.hasOwnProperty("playStartGracePeriodSeconds")&&!I.isInteger(l.playStartGracePeriodSeconds)&&!(l.playStartGracePeriodSeconds&&I.isInteger(l.playStartGracePeriodSeconds.low)&&I.isInteger(l.playStartGracePeriodSeconds.high))?"playStartGracePeriodSeconds: integer|Long expected":l.softEnforcePlaybackDuration!=null&&l.hasOwnProperty("softEnforcePlaybackDuration")&&typeof l.softEnforcePlaybackDuration!="boolean"?"softEnforcePlaybackDuration: boolean expected":l.softEnforceRentalDuration!=null&&l.hasOwnProperty("softEnforceRentalDuration")&&typeof l.softEnforceRentalDuration!="boolean"?"softEnforceRentalDuration: boolean expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.License.Policy)return l;var d=new x.license_protocol.License.Policy;return l.canPlay!=null&&(d.canPlay=!!l.canPlay),l.canPersist!=null&&(d.canPersist=!!l.canPersist),l.canRenew!=null&&(d.canRenew=!!l.canRenew),l.rentalDurationSeconds!=null&&(I.Long?(d.rentalDurationSeconds=I.Long.fromValue(l.rentalDurationSeconds)).unsigned=!1:typeof l.rentalDurationSeconds=="string"?d.rentalDurationSeconds=parseInt(l.rentalDurationSeconds,10):typeof l.rentalDurationSeconds=="number"?d.rentalDurationSeconds=l.rentalDurationSeconds:typeof l.rentalDurationSeconds=="object"&&(d.rentalDurationSeconds=new I.LongBits(l.rentalDurationSeconds.low>>>0,l.rentalDurationSeconds.high>>>0).toNumber())),l.playbackDurationSeconds!=null&&(I.Long?(d.playbackDurationSeconds=I.Long.fromValue(l.playbackDurationSeconds)).unsigned=!1:typeof l.playbackDurationSeconds=="string"?d.playbackDurationSeconds=parseInt(l.playbackDurationSeconds,10):typeof l.playbackDurationSeconds=="number"?d.playbackDurationSeconds=l.playbackDurationSeconds:typeof l.playbackDurationSeconds=="object"&&(d.playbackDurationSeconds=new I.LongBits(l.playbackDurationSeconds.low>>>0,l.playbackDurationSeconds.high>>>0).toNumber())),l.licenseDurationSeconds!=null&&(I.Long?(d.licenseDurationSeconds=I.Long.fromValue(l.licenseDurationSeconds)).unsigned=!1:typeof l.licenseDurationSeconds=="string"?d.licenseDurationSeconds=parseInt(l.licenseDurationSeconds,10):typeof l.licenseDurationSeconds=="number"?d.licenseDurationSeconds=l.licenseDurationSeconds:typeof l.licenseDurationSeconds=="object"&&(d.licenseDurationSeconds=new I.LongBits(l.licenseDurationSeconds.low>>>0,l.licenseDurationSeconds.high>>>0).toNumber())),l.renewalRecoveryDurationSeconds!=null&&(I.Long?(d.renewalRecoveryDurationSeconds=I.Long.fromValue(l.renewalRecoveryDurationSeconds)).unsigned=!1:typeof l.renewalRecoveryDurationSeconds=="string"?d.renewalRecoveryDurationSeconds=parseInt(l.renewalRecoveryDurationSeconds,10):typeof l.renewalRecoveryDurationSeconds=="number"?d.renewalRecoveryDurationSeconds=l.renewalRecoveryDurationSeconds:typeof l.renewalRecoveryDurationSeconds=="object"&&(d.renewalRecoveryDurationSeconds=new I.LongBits(l.renewalRecoveryDurationSeconds.low>>>0,l.renewalRecoveryDurationSeconds.high>>>0).toNumber())),l.renewalServerUrl!=null&&(d.renewalServerUrl=String(l.renewalServerUrl)),l.renewalDelaySeconds!=null&&(I.Long?(d.renewalDelaySeconds=I.Long.fromValue(l.renewalDelaySeconds)).unsigned=!1:typeof l.renewalDelaySeconds=="string"?d.renewalDelaySeconds=parseInt(l.renewalDelaySeconds,10):typeof l.renewalDelaySeconds=="number"?d.renewalDelaySeconds=l.renewalDelaySeconds:typeof l.renewalDelaySeconds=="object"&&(d.renewalDelaySeconds=new I.LongBits(l.renewalDelaySeconds.low>>>0,l.renewalDelaySeconds.high>>>0).toNumber())),l.renewalRetryIntervalSeconds!=null&&(I.Long?(d.renewalRetryIntervalSeconds=I.Long.fromValue(l.renewalRetryIntervalSeconds)).unsigned=!1:typeof l.renewalRetryIntervalSeconds=="string"?d.renewalRetryIntervalSeconds=parseInt(l.renewalRetryIntervalSeconds,10):typeof l.renewalRetryIntervalSeconds=="number"?d.renewalRetryIntervalSeconds=l.renewalRetryIntervalSeconds:typeof l.renewalRetryIntervalSeconds=="object"&&(d.renewalRetryIntervalSeconds=new I.LongBits(l.renewalRetryIntervalSeconds.low>>>0,l.renewalRetryIntervalSeconds.high>>>0).toNumber())),l.renewWithUsage!=null&&(d.renewWithUsage=!!l.renewWithUsage),l.alwaysIncludeClientId!=null&&(d.alwaysIncludeClientId=!!l.alwaysIncludeClientId),l.playStartGracePeriodSeconds!=null&&(I.Long?(d.playStartGracePeriodSeconds=I.Long.fromValue(l.playStartGracePeriodSeconds)).unsigned=!1:typeof l.playStartGracePeriodSeconds=="string"?d.playStartGracePeriodSeconds=parseInt(l.playStartGracePeriodSeconds,10):typeof l.playStartGracePeriodSeconds=="number"?d.playStartGracePeriodSeconds=l.playStartGracePeriodSeconds:typeof l.playStartGracePeriodSeconds=="object"&&(d.playStartGracePeriodSeconds=new I.LongBits(l.playStartGracePeriodSeconds.low>>>0,l.playStartGracePeriodSeconds.high>>>0).toNumber())),l.softEnforcePlaybackDuration!=null&&(d.softEnforcePlaybackDuration=!!l.softEnforcePlaybackDuration),l.softEnforceRentalDuration!=null&&(d.softEnforceRentalDuration=!!l.softEnforceRentalDuration),d},h.toObject=function(l,d){d||(d={});var v={};if(d.defaults){if(v.canPlay=!1,v.canPersist=!1,v.canRenew=!1,I.Long){var A=new I.Long(0,0,!1);v.rentalDurationSeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.rentalDurationSeconds=d.longs===String?"0":0;if(I.Long){var A=new I.Long(0,0,!1);v.playbackDurationSeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.playbackDurationSeconds=d.longs===String?"0":0;if(I.Long){var A=new I.Long(0,0,!1);v.licenseDurationSeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.licenseDurationSeconds=d.longs===String?"0":0;if(I.Long){var A=new I.Long(0,0,!1);v.renewalRecoveryDurationSeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.renewalRecoveryDurationSeconds=d.longs===String?"0":0;if(v.renewalServerUrl="",I.Long){var A=new I.Long(0,0,!1);v.renewalDelaySeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.renewalDelaySeconds=d.longs===String?"0":0;if(I.Long){var A=new I.Long(0,0,!1);v.renewalRetryIntervalSeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.renewalRetryIntervalSeconds=d.longs===String?"0":0;if(v.renewWithUsage=!1,v.alwaysIncludeClientId=!1,I.Long){var A=new I.Long(0,0,!1);v.playStartGracePeriodSeconds=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.playStartGracePeriodSeconds=d.longs===String?"0":0;v.softEnforcePlaybackDuration=!1,v.softEnforceRentalDuration=!0}return l.canPlay!=null&&l.hasOwnProperty("canPlay")&&(v.canPlay=l.canPlay),l.canPersist!=null&&l.hasOwnProperty("canPersist")&&(v.canPersist=l.canPersist),l.canRenew!=null&&l.hasOwnProperty("canRenew")&&(v.canRenew=l.canRenew),l.rentalDurationSeconds!=null&&l.hasOwnProperty("rentalDurationSeconds")&&(typeof l.rentalDurationSeconds=="number"?v.rentalDurationSeconds=d.longs===String?String(l.rentalDurationSeconds):l.rentalDurationSeconds:v.rentalDurationSeconds=d.longs===String?I.Long.prototype.toString.call(l.rentalDurationSeconds):d.longs===Number?new I.LongBits(l.rentalDurationSeconds.low>>>0,l.rentalDurationSeconds.high>>>0).toNumber():l.rentalDurationSeconds),l.playbackDurationSeconds!=null&&l.hasOwnProperty("playbackDurationSeconds")&&(typeof l.playbackDurationSeconds=="number"?v.playbackDurationSeconds=d.longs===String?String(l.playbackDurationSeconds):l.playbackDurationSeconds:v.playbackDurationSeconds=d.longs===String?I.Long.prototype.toString.call(l.playbackDurationSeconds):d.longs===Number?new I.LongBits(l.playbackDurationSeconds.low>>>0,l.playbackDurationSeconds.high>>>0).toNumber():l.playbackDurationSeconds),l.licenseDurationSeconds!=null&&l.hasOwnProperty("licenseDurationSeconds")&&(typeof l.licenseDurationSeconds=="number"?v.licenseDurationSeconds=d.longs===String?String(l.licenseDurationSeconds):l.licenseDurationSeconds:v.licenseDurationSeconds=d.longs===String?I.Long.prototype.toString.call(l.licenseDurationSeconds):d.longs===Number?new I.LongBits(l.licenseDurationSeconds.low>>>0,l.licenseDurationSeconds.high>>>0).toNumber():l.licenseDurationSeconds),l.renewalRecoveryDurationSeconds!=null&&l.hasOwnProperty("renewalRecoveryDurationSeconds")&&(typeof l.renewalRecoveryDurationSeconds=="number"?v.renewalRecoveryDurationSeconds=d.longs===String?String(l.renewalRecoveryDurationSeconds):l.renewalRecoveryDurationSeconds:v.renewalRecoveryDurationSeconds=d.longs===String?I.Long.prototype.toString.call(l.renewalRecoveryDurationSeconds):d.longs===Number?new I.LongBits(l.renewalRecoveryDurationSeconds.low>>>0,l.renewalRecoveryDurationSeconds.high>>>0).toNumber():l.renewalRecoveryDurationSeconds),l.renewalServerUrl!=null&&l.hasOwnProperty("renewalServerUrl")&&(v.renewalServerUrl=l.renewalServerUrl),l.renewalDelaySeconds!=null&&l.hasOwnProperty("renewalDelaySeconds")&&(typeof l.renewalDelaySeconds=="number"?v.renewalDelaySeconds=d.longs===String?String(l.renewalDelaySeconds):l.renewalDelaySeconds:v.renewalDelaySeconds=d.longs===String?I.Long.prototype.toString.call(l.renewalDelaySeconds):d.longs===Number?new I.LongBits(l.renewalDelaySeconds.low>>>0,l.renewalDelaySeconds.high>>>0).toNumber():l.renewalDelaySeconds),l.renewalRetryIntervalSeconds!=null&&l.hasOwnProperty("renewalRetryIntervalSeconds")&&(typeof l.renewalRetryIntervalSeconds=="number"?v.renewalRetryIntervalSeconds=d.longs===String?String(l.renewalRetryIntervalSeconds):l.renewalRetryIntervalSeconds:v.renewalRetryIntervalSeconds=d.longs===String?I.Long.prototype.toString.call(l.renewalRetryIntervalSeconds):d.longs===Number?new I.LongBits(l.renewalRetryIntervalSeconds.low>>>0,l.renewalRetryIntervalSeconds.high>>>0).toNumber():l.renewalRetryIntervalSeconds),l.renewWithUsage!=null&&l.hasOwnProperty("renewWithUsage")&&(v.renewWithUsage=l.renewWithUsage),l.alwaysIncludeClientId!=null&&l.hasOwnProperty("alwaysIncludeClientId")&&(v.alwaysIncludeClientId=l.alwaysIncludeClientId),l.playStartGracePeriodSeconds!=null&&l.hasOwnProperty("playStartGracePeriodSeconds")&&(typeof l.playStartGracePeriodSeconds=="number"?v.playStartGracePeriodSeconds=d.longs===String?String(l.playStartGracePeriodSeconds):l.playStartGracePeriodSeconds:v.playStartGracePeriodSeconds=d.longs===String?I.Long.prototype.toString.call(l.playStartGracePeriodSeconds):d.longs===Number?new I.LongBits(l.playStartGracePeriodSeconds.low>>>0,l.playStartGracePeriodSeconds.high>>>0).toNumber():l.playStartGracePeriodSeconds),l.softEnforcePlaybackDuration!=null&&l.hasOwnProperty("softEnforcePlaybackDuration")&&(v.softEnforcePlaybackDuration=l.softEnforcePlaybackDuration),l.softEnforceRentalDuration!=null&&l.hasOwnProperty("softEnforceRentalDuration")&&(v.softEnforceRentalDuration=l.softEnforceRentalDuration),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.License.Policy"},h}(),M.KeyContainer=function(){function h(s){if(this.videoResolutionConstraints=[],s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.id=I.newBuffer([]),h.prototype.iv=I.newBuffer([]),h.prototype.key=I.newBuffer([]),h.prototype.type=1,h.prototype.level=1,h.prototype.requiredProtection=null,h.prototype.requestedProtection=null,h.prototype.keyControl=null,h.prototype.operatorSessionKeyPermissions=null,h.prototype.videoResolutionConstraints=I.emptyArray,h.prototype.antiRollbackUsageTable=!1,h.prototype.trackLabel="",h.create=function(l){return new h(l)},h.encode=function(l,d){if(d||(d=U.create()),l.id!=null&&Object.hasOwnProperty.call(l,"id")&&d.uint32(10).bytes(l.id),l.iv!=null&&Object.hasOwnProperty.call(l,"iv")&&d.uint32(18).bytes(l.iv),l.key!=null&&Object.hasOwnProperty.call(l,"key")&&d.uint32(26).bytes(l.key),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&d.uint32(32).int32(l.type),l.level!=null&&Object.hasOwnProperty.call(l,"level")&&d.uint32(40).int32(l.level),l.requiredProtection!=null&&Object.hasOwnProperty.call(l,"requiredProtection")&&x.license_protocol.License.KeyContainer.OutputProtection.encode(l.requiredProtection,d.uint32(50).fork()).ldelim(),l.requestedProtection!=null&&Object.hasOwnProperty.call(l,"requestedProtection")&&x.license_protocol.License.KeyContainer.OutputProtection.encode(l.requestedProtection,d.uint32(58).fork()).ldelim(),l.keyControl!=null&&Object.hasOwnProperty.call(l,"keyControl")&&x.license_protocol.License.KeyContainer.KeyControl.encode(l.keyControl,d.uint32(66).fork()).ldelim(),l.operatorSessionKeyPermissions!=null&&Object.hasOwnProperty.call(l,"operatorSessionKeyPermissions")&&x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions.encode(l.operatorSessionKeyPermissions,d.uint32(74).fork()).ldelim(),l.videoResolutionConstraints!=null&&l.videoResolutionConstraints.length)for(var v=0;v<l.videoResolutionConstraints.length;v+=1)x.license_protocol.License.KeyContainer.VideoResolutionConstraint.encode(l.videoResolutionConstraints[v],d.uint32(82).fork()).ldelim();return l.antiRollbackUsageTable!=null&&Object.hasOwnProperty.call(l,"antiRollbackUsageTable")&&d.uint32(88).bool(l.antiRollbackUsageTable),l.trackLabel!=null&&Object.hasOwnProperty.call(l,"trackLabel")&&d.uint32(98).string(l.trackLabel),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.License.KeyContainer;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.id=l.bytes();break}case 2:{A.iv=l.bytes();break}case 3:{A.key=l.bytes();break}case 4:{A.type=l.int32();break}case 5:{A.level=l.int32();break}case 6:{A.requiredProtection=x.license_protocol.License.KeyContainer.OutputProtection.decode(l,l.uint32());break}case 7:{A.requestedProtection=x.license_protocol.License.KeyContainer.OutputProtection.decode(l,l.uint32());break}case 8:{A.keyControl=x.license_protocol.License.KeyContainer.KeyControl.decode(l,l.uint32());break}case 9:{A.operatorSessionKeyPermissions=x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions.decode(l,l.uint32());break}case 10:{A.videoResolutionConstraints&&A.videoResolutionConstraints.length||(A.videoResolutionConstraints=[]),A.videoResolutionConstraints.push(x.license_protocol.License.KeyContainer.VideoResolutionConstraint.decode(l,l.uint32()));break}case 11:{A.antiRollbackUsageTable=l.bool();break}case 12:{A.trackLabel=l.string();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.id!=null&&l.hasOwnProperty("id")&&!(l.id&&typeof l.id.length=="number"||I.isString(l.id)))return"id: buffer expected";if(l.iv!=null&&l.hasOwnProperty("iv")&&!(l.iv&&typeof l.iv.length=="number"||I.isString(l.iv)))return"iv: buffer expected";if(l.key!=null&&l.hasOwnProperty("key")&&!(l.key&&typeof l.key.length=="number"||I.isString(l.key)))return"key: buffer expected";if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:break}if(l.level!=null&&l.hasOwnProperty("level"))switch(l.level){default:return"level: enum value expected";case 1:case 2:case 3:case 4:case 5:break}if(l.requiredProtection!=null&&l.hasOwnProperty("requiredProtection")){var d=x.license_protocol.License.KeyContainer.OutputProtection.verify(l.requiredProtection);if(d)return"requiredProtection."+d}if(l.requestedProtection!=null&&l.hasOwnProperty("requestedProtection")){var d=x.license_protocol.License.KeyContainer.OutputProtection.verify(l.requestedProtection);if(d)return"requestedProtection."+d}if(l.keyControl!=null&&l.hasOwnProperty("keyControl")){var d=x.license_protocol.License.KeyContainer.KeyControl.verify(l.keyControl);if(d)return"keyControl."+d}if(l.operatorSessionKeyPermissions!=null&&l.hasOwnProperty("operatorSessionKeyPermissions")){var d=x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions.verify(l.operatorSessionKeyPermissions);if(d)return"operatorSessionKeyPermissions."+d}if(l.videoResolutionConstraints!=null&&l.hasOwnProperty("videoResolutionConstraints")){if(!Array.isArray(l.videoResolutionConstraints))return"videoResolutionConstraints: array expected";for(var v=0;v<l.videoResolutionConstraints.length;v+=1){var d=x.license_protocol.License.KeyContainer.VideoResolutionConstraint.verify(l.videoResolutionConstraints[v]);if(d)return"videoResolutionConstraints."+d}}return l.antiRollbackUsageTable!=null&&l.hasOwnProperty("antiRollbackUsageTable")&&typeof l.antiRollbackUsageTable!="boolean"?"antiRollbackUsageTable: boolean expected":l.trackLabel!=null&&l.hasOwnProperty("trackLabel")&&!I.isString(l.trackLabel)?"trackLabel: string expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.License.KeyContainer)return l;var d=new x.license_protocol.License.KeyContainer;switch(l.id!=null&&(typeof l.id=="string"?I.base64.decode(l.id,d.id=I.newBuffer(I.base64.length(l.id)),0):l.id.length>=0&&(d.id=l.id)),l.iv!=null&&(typeof l.iv=="string"?I.base64.decode(l.iv,d.iv=I.newBuffer(I.base64.length(l.iv)),0):l.iv.length>=0&&(d.iv=l.iv)),l.key!=null&&(typeof l.key=="string"?I.base64.decode(l.key,d.key=I.newBuffer(I.base64.length(l.key)),0):l.key.length>=0&&(d.key=l.key)),l.type){default:if(typeof l.type=="number"){d.type=l.type;break}break;case"SIGNING":case 1:d.type=1;break;case"CONTENT":case 2:d.type=2;break;case"KEY_CONTROL":case 3:d.type=3;break;case"OPERATOR_SESSION":case 4:d.type=4;break;case"ENTITLEMENT":case 5:d.type=5;break;case"OEM_CONTENT":case 6:d.type=6;break}switch(l.level){default:if(typeof l.level=="number"){d.level=l.level;break}break;case"SW_SECURE_CRYPTO":case 1:d.level=1;break;case"SW_SECURE_DECODE":case 2:d.level=2;break;case"HW_SECURE_CRYPTO":case 3:d.level=3;break;case"HW_SECURE_DECODE":case 4:d.level=4;break;case"HW_SECURE_ALL":case 5:d.level=5;break}if(l.requiredProtection!=null){if(typeof l.requiredProtection!="object")throw TypeError(".license_protocol.License.KeyContainer.requiredProtection: object expected");d.requiredProtection=x.license_protocol.License.KeyContainer.OutputProtection.fromObject(l.requiredProtection)}if(l.requestedProtection!=null){if(typeof l.requestedProtection!="object")throw TypeError(".license_protocol.License.KeyContainer.requestedProtection: object expected");d.requestedProtection=x.license_protocol.License.KeyContainer.OutputProtection.fromObject(l.requestedProtection)}if(l.keyControl!=null){if(typeof l.keyControl!="object")throw TypeError(".license_protocol.License.KeyContainer.keyControl: object expected");d.keyControl=x.license_protocol.License.KeyContainer.KeyControl.fromObject(l.keyControl)}if(l.operatorSessionKeyPermissions!=null){if(typeof l.operatorSessionKeyPermissions!="object")throw TypeError(".license_protocol.License.KeyContainer.operatorSessionKeyPermissions: object expected");d.operatorSessionKeyPermissions=x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions.fromObject(l.operatorSessionKeyPermissions)}if(l.videoResolutionConstraints){if(!Array.isArray(l.videoResolutionConstraints))throw TypeError(".license_protocol.License.KeyContainer.videoResolutionConstraints: array expected");d.videoResolutionConstraints=[];for(var v=0;v<l.videoResolutionConstraints.length;v+=1){if(typeof l.videoResolutionConstraints[v]!="object")throw TypeError(".license_protocol.License.KeyContainer.videoResolutionConstraints: object expected");d.videoResolutionConstraints[v]=x.license_protocol.License.KeyContainer.VideoResolutionConstraint.fromObject(l.videoResolutionConstraints[v])}}return l.antiRollbackUsageTable!=null&&(d.antiRollbackUsageTable=!!l.antiRollbackUsageTable),l.trackLabel!=null&&(d.trackLabel=String(l.trackLabel)),d},h.toObject=function(l,d){d||(d={});var v={};if((d.arrays||d.defaults)&&(v.videoResolutionConstraints=[]),d.defaults&&(d.bytes===String?v.id="":(v.id=[],d.bytes!==Array&&(v.id=I.newBuffer(v.id))),d.bytes===String?v.iv="":(v.iv=[],d.bytes!==Array&&(v.iv=I.newBuffer(v.iv))),d.bytes===String?v.key="":(v.key=[],d.bytes!==Array&&(v.key=I.newBuffer(v.key))),v.type=d.enums===String?"SIGNING":1,v.level=d.enums===String?"SW_SECURE_CRYPTO":1,v.requiredProtection=null,v.requestedProtection=null,v.keyControl=null,v.operatorSessionKeyPermissions=null,v.antiRollbackUsageTable=!1,v.trackLabel=""),l.id!=null&&l.hasOwnProperty("id")&&(v.id=d.bytes===String?I.base64.encode(l.id,0,l.id.length):d.bytes===Array?Array.prototype.slice.call(l.id):l.id),l.iv!=null&&l.hasOwnProperty("iv")&&(v.iv=d.bytes===String?I.base64.encode(l.iv,0,l.iv.length):d.bytes===Array?Array.prototype.slice.call(l.iv):l.iv),l.key!=null&&l.hasOwnProperty("key")&&(v.key=d.bytes===String?I.base64.encode(l.key,0,l.key.length):d.bytes===Array?Array.prototype.slice.call(l.key):l.key),l.type!=null&&l.hasOwnProperty("type")&&(v.type=d.enums===String?x.license_protocol.License.KeyContainer.KeyType[l.type]===void 0?l.type:x.license_protocol.License.KeyContainer.KeyType[l.type]:l.type),l.level!=null&&l.hasOwnProperty("level")&&(v.level=d.enums===String?x.license_protocol.License.KeyContainer.SecurityLevel[l.level]===void 0?l.level:x.license_protocol.License.KeyContainer.SecurityLevel[l.level]:l.level),l.requiredProtection!=null&&l.hasOwnProperty("requiredProtection")&&(v.requiredProtection=x.license_protocol.License.KeyContainer.OutputProtection.toObject(l.requiredProtection,d)),l.requestedProtection!=null&&l.hasOwnProperty("requestedProtection")&&(v.requestedProtection=x.license_protocol.License.KeyContainer.OutputProtection.toObject(l.requestedProtection,d)),l.keyControl!=null&&l.hasOwnProperty("keyControl")&&(v.keyControl=x.license_protocol.License.KeyContainer.KeyControl.toObject(l.keyControl,d)),l.operatorSessionKeyPermissions!=null&&l.hasOwnProperty("operatorSessionKeyPermissions")&&(v.operatorSessionKeyPermissions=x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions.toObject(l.operatorSessionKeyPermissions,d)),l.videoResolutionConstraints&&l.videoResolutionConstraints.length){v.videoResolutionConstraints=[];for(var A=0;A<l.videoResolutionConstraints.length;A+=1)v.videoResolutionConstraints[A]=x.license_protocol.License.KeyContainer.VideoResolutionConstraint.toObject(l.videoResolutionConstraints[A],d)}return l.antiRollbackUsageTable!=null&&l.hasOwnProperty("antiRollbackUsageTable")&&(v.antiRollbackUsageTable=l.antiRollbackUsageTable),l.trackLabel!=null&&l.hasOwnProperty("trackLabel")&&(v.trackLabel=l.trackLabel),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.License.KeyContainer"},h.KeyType=function(){var s={},l=Object.create(s);return l[s[1]="SIGNING"]=1,l[s[2]="CONTENT"]=2,l[s[3]="KEY_CONTROL"]=3,l[s[4]="OPERATOR_SESSION"]=4,l[s[5]="ENTITLEMENT"]=5,l[s[6]="OEM_CONTENT"]=6,l}(),h.SecurityLevel=function(){var s={},l=Object.create(s);return l[s[1]="SW_SECURE_CRYPTO"]=1,l[s[2]="SW_SECURE_DECODE"]=2,l[s[3]="HW_SECURE_CRYPTO"]=3,l[s[4]="HW_SECURE_DECODE"]=4,l[s[5]="HW_SECURE_ALL"]=5,l}(),h.KeyControl=function(){function s(l){if(l)for(var d=Object.keys(l),v=0;v<d.length;v+=1)l[d[v]]!=null&&(this[d[v]]=l[d[v]])}return s.prototype.keyControlBlock=I.newBuffer([]),s.prototype.iv=I.newBuffer([]),s.create=function(d){return new s(d)},s.encode=function(d,v){return v||(v=U.create()),d.keyControlBlock!=null&&Object.hasOwnProperty.call(d,"keyControlBlock")&&v.uint32(10).bytes(d.keyControlBlock),d.iv!=null&&Object.hasOwnProperty.call(d,"iv")&&v.uint32(18).bytes(d.iv),v},s.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},s.decode=function(d,v){d instanceof N||(d=N.create(d));for(var A=v===void 0?d.len:d.pos+v,Y=new x.license_protocol.License.KeyContainer.KeyControl;d.pos<A;){var T=d.uint32();switch(T>>>3){case 1:{Y.keyControlBlock=d.bytes();break}case 2:{Y.iv=d.bytes();break}default:d.skipType(T&7);break}}return Y},s.decodeDelimited=function(d){return d instanceof N||(d=new N(d)),this.decode(d,d.uint32())},s.verify=function(d){return typeof d!="object"||d===null?"object expected":d.keyControlBlock!=null&&d.hasOwnProperty("keyControlBlock")&&!(d.keyControlBlock&&typeof d.keyControlBlock.length=="number"||I.isString(d.keyControlBlock))?"keyControlBlock: buffer expected":d.iv!=null&&d.hasOwnProperty("iv")&&!(d.iv&&typeof d.iv.length=="number"||I.isString(d.iv))?"iv: buffer expected":null},s.fromObject=function(d){if(d instanceof x.license_protocol.License.KeyContainer.KeyControl)return d;var v=new x.license_protocol.License.KeyContainer.KeyControl;return d.keyControlBlock!=null&&(typeof d.keyControlBlock=="string"?I.base64.decode(d.keyControlBlock,v.keyControlBlock=I.newBuffer(I.base64.length(d.keyControlBlock)),0):d.keyControlBlock.length>=0&&(v.keyControlBlock=d.keyControlBlock)),d.iv!=null&&(typeof d.iv=="string"?I.base64.decode(d.iv,v.iv=I.newBuffer(I.base64.length(d.iv)),0):d.iv.length>=0&&(v.iv=d.iv)),v},s.toObject=function(d,v){v||(v={});var A={};return v.defaults&&(v.bytes===String?A.keyControlBlock="":(A.keyControlBlock=[],v.bytes!==Array&&(A.keyControlBlock=I.newBuffer(A.keyControlBlock))),v.bytes===String?A.iv="":(A.iv=[],v.bytes!==Array&&(A.iv=I.newBuffer(A.iv)))),d.keyControlBlock!=null&&d.hasOwnProperty("keyControlBlock")&&(A.keyControlBlock=v.bytes===String?I.base64.encode(d.keyControlBlock,0,d.keyControlBlock.length):v.bytes===Array?Array.prototype.slice.call(d.keyControlBlock):d.keyControlBlock),d.iv!=null&&d.hasOwnProperty("iv")&&(A.iv=v.bytes===String?I.base64.encode(d.iv,0,d.iv.length):v.bytes===Array?Array.prototype.slice.call(d.iv):d.iv),A},s.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},s.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/license_protocol.License.KeyContainer.KeyControl"},s}(),h.OutputProtection=function(){function s(l){if(l)for(var d=Object.keys(l),v=0;v<d.length;v+=1)l[d[v]]!=null&&(this[d[v]]=l[d[v]])}return s.prototype.hdcp=0,s.prototype.cgmsFlags=42,s.prototype.hdcpSrmRule=0,s.prototype.disableAnalogOutput=!1,s.prototype.disableDigitalOutput=!1,s.create=function(d){return new s(d)},s.encode=function(d,v){return v||(v=U.create()),d.hdcp!=null&&Object.hasOwnProperty.call(d,"hdcp")&&v.uint32(8).int32(d.hdcp),d.cgmsFlags!=null&&Object.hasOwnProperty.call(d,"cgmsFlags")&&v.uint32(16).int32(d.cgmsFlags),d.hdcpSrmRule!=null&&Object.hasOwnProperty.call(d,"hdcpSrmRule")&&v.uint32(24).int32(d.hdcpSrmRule),d.disableAnalogOutput!=null&&Object.hasOwnProperty.call(d,"disableAnalogOutput")&&v.uint32(32).bool(d.disableAnalogOutput),d.disableDigitalOutput!=null&&Object.hasOwnProperty.call(d,"disableDigitalOutput")&&v.uint32(40).bool(d.disableDigitalOutput),v},s.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},s.decode=function(d,v){d instanceof N||(d=N.create(d));for(var A=v===void 0?d.len:d.pos+v,Y=new x.license_protocol.License.KeyContainer.OutputProtection;d.pos<A;){var T=d.uint32();switch(T>>>3){case 1:{Y.hdcp=d.int32();break}case 2:{Y.cgmsFlags=d.int32();break}case 3:{Y.hdcpSrmRule=d.int32();break}case 4:{Y.disableAnalogOutput=d.bool();break}case 5:{Y.disableDigitalOutput=d.bool();break}default:d.skipType(T&7);break}}return Y},s.decodeDelimited=function(d){return d instanceof N||(d=new N(d)),this.decode(d,d.uint32())},s.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.hdcp!=null&&d.hasOwnProperty("hdcp"))switch(d.hdcp){default:return"hdcp: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 255:break}if(d.cgmsFlags!=null&&d.hasOwnProperty("cgmsFlags"))switch(d.cgmsFlags){default:return"cgmsFlags: enum value expected";case 42:case 0:case 2:case 3:break}if(d.hdcpSrmRule!=null&&d.hasOwnProperty("hdcpSrmRule"))switch(d.hdcpSrmRule){default:return"hdcpSrmRule: enum value expected";case 0:case 1:break}return d.disableAnalogOutput!=null&&d.hasOwnProperty("disableAnalogOutput")&&typeof d.disableAnalogOutput!="boolean"?"disableAnalogOutput: boolean expected":d.disableDigitalOutput!=null&&d.hasOwnProperty("disableDigitalOutput")&&typeof d.disableDigitalOutput!="boolean"?"disableDigitalOutput: boolean expected":null},s.fromObject=function(d){if(d instanceof x.license_protocol.License.KeyContainer.OutputProtection)return d;var v=new x.license_protocol.License.KeyContainer.OutputProtection;switch(d.hdcp){default:if(typeof d.hdcp=="number"){v.hdcp=d.hdcp;break}break;case"HDCP_NONE":case 0:v.hdcp=0;break;case"HDCP_V1":case 1:v.hdcp=1;break;case"HDCP_V2":case 2:v.hdcp=2;break;case"HDCP_V2_1":case 3:v.hdcp=3;break;case"HDCP_V2_2":case 4:v.hdcp=4;break;case"HDCP_V2_3":case 5:v.hdcp=5;break;case"HDCP_NO_DIGITAL_OUTPUT":case 255:v.hdcp=255;break}switch(d.cgmsFlags){default:if(typeof d.cgmsFlags=="number"){v.cgmsFlags=d.cgmsFlags;break}break;case"CGMS_NONE":case 42:v.cgmsFlags=42;break;case"COPY_FREE":case 0:v.cgmsFlags=0;break;case"COPY_ONCE":case 2:v.cgmsFlags=2;break;case"COPY_NEVER":case 3:v.cgmsFlags=3;break}switch(d.hdcpSrmRule){default:if(typeof d.hdcpSrmRule=="number"){v.hdcpSrmRule=d.hdcpSrmRule;break}break;case"HDCP_SRM_RULE_NONE":case 0:v.hdcpSrmRule=0;break;case"CURRENT_SRM":case 1:v.hdcpSrmRule=1;break}return d.disableAnalogOutput!=null&&(v.disableAnalogOutput=!!d.disableAnalogOutput),d.disableDigitalOutput!=null&&(v.disableDigitalOutput=!!d.disableDigitalOutput),v},s.toObject=function(d,v){v||(v={});var A={};return v.defaults&&(A.hdcp=v.enums===String?"HDCP_NONE":0,A.cgmsFlags=v.enums===String?"CGMS_NONE":42,A.hdcpSrmRule=v.enums===String?"HDCP_SRM_RULE_NONE":0,A.disableAnalogOutput=!1,A.disableDigitalOutput=!1),d.hdcp!=null&&d.hasOwnProperty("hdcp")&&(A.hdcp=v.enums===String?x.license_protocol.License.KeyContainer.OutputProtection.HDCP[d.hdcp]===void 0?d.hdcp:x.license_protocol.License.KeyContainer.OutputProtection.HDCP[d.hdcp]:d.hdcp),d.cgmsFlags!=null&&d.hasOwnProperty("cgmsFlags")&&(A.cgmsFlags=v.enums===String?x.license_protocol.License.KeyContainer.OutputProtection.CGMS[d.cgmsFlags]===void 0?d.cgmsFlags:x.license_protocol.License.KeyContainer.OutputProtection.CGMS[d.cgmsFlags]:d.cgmsFlags),d.hdcpSrmRule!=null&&d.hasOwnProperty("hdcpSrmRule")&&(A.hdcpSrmRule=v.enums===String?x.license_protocol.License.KeyContainer.OutputProtection.HdcpSrmRule[d.hdcpSrmRule]===void 0?d.hdcpSrmRule:x.license_protocol.License.KeyContainer.OutputProtection.HdcpSrmRule[d.hdcpSrmRule]:d.hdcpSrmRule),d.disableAnalogOutput!=null&&d.hasOwnProperty("disableAnalogOutput")&&(A.disableAnalogOutput=d.disableAnalogOutput),d.disableDigitalOutput!=null&&d.hasOwnProperty("disableDigitalOutput")&&(A.disableDigitalOutput=d.disableDigitalOutput),A},s.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},s.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/license_protocol.License.KeyContainer.OutputProtection"},s.HDCP=function(){var l={},d=Object.create(l);return d[l[0]="HDCP_NONE"]=0,d[l[1]="HDCP_V1"]=1,d[l[2]="HDCP_V2"]=2,d[l[3]="HDCP_V2_1"]=3,d[l[4]="HDCP_V2_2"]=4,d[l[5]="HDCP_V2_3"]=5,d[l[255]="HDCP_NO_DIGITAL_OUTPUT"]=255,d}(),s.CGMS=function(){var l={},d=Object.create(l);return d[l[42]="CGMS_NONE"]=42,d[l[0]="COPY_FREE"]=0,d[l[2]="COPY_ONCE"]=2,d[l[3]="COPY_NEVER"]=3,d}(),s.HdcpSrmRule=function(){var l={},d=Object.create(l);return d[l[0]="HDCP_SRM_RULE_NONE"]=0,d[l[1]="CURRENT_SRM"]=1,d}(),s}(),h.VideoResolutionConstraint=function(){function s(l){if(l)for(var d=Object.keys(l),v=0;v<d.length;v+=1)l[d[v]]!=null&&(this[d[v]]=l[d[v]])}return s.prototype.minResolutionPixels=0,s.prototype.maxResolutionPixels=0,s.prototype.requiredProtection=null,s.create=function(d){return new s(d)},s.encode=function(d,v){return v||(v=U.create()),d.minResolutionPixels!=null&&Object.hasOwnProperty.call(d,"minResolutionPixels")&&v.uint32(8).uint32(d.minResolutionPixels),d.maxResolutionPixels!=null&&Object.hasOwnProperty.call(d,"maxResolutionPixels")&&v.uint32(16).uint32(d.maxResolutionPixels),d.requiredProtection!=null&&Object.hasOwnProperty.call(d,"requiredProtection")&&x.license_protocol.License.KeyContainer.OutputProtection.encode(d.requiredProtection,v.uint32(26).fork()).ldelim(),v},s.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},s.decode=function(d,v){d instanceof N||(d=N.create(d));for(var A=v===void 0?d.len:d.pos+v,Y=new x.license_protocol.License.KeyContainer.VideoResolutionConstraint;d.pos<A;){var T=d.uint32();switch(T>>>3){case 1:{Y.minResolutionPixels=d.uint32();break}case 2:{Y.maxResolutionPixels=d.uint32();break}case 3:{Y.requiredProtection=x.license_protocol.License.KeyContainer.OutputProtection.decode(d,d.uint32());break}default:d.skipType(T&7);break}}return Y},s.decodeDelimited=function(d){return d instanceof N||(d=new N(d)),this.decode(d,d.uint32())},s.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.minResolutionPixels!=null&&d.hasOwnProperty("minResolutionPixels")&&!I.isInteger(d.minResolutionPixels))return"minResolutionPixels: integer expected";if(d.maxResolutionPixels!=null&&d.hasOwnProperty("maxResolutionPixels")&&!I.isInteger(d.maxResolutionPixels))return"maxResolutionPixels: integer expected";if(d.requiredProtection!=null&&d.hasOwnProperty("requiredProtection")){var v=x.license_protocol.License.KeyContainer.OutputProtection.verify(d.requiredProtection);if(v)return"requiredProtection."+v}return null},s.fromObject=function(d){if(d instanceof x.license_protocol.License.KeyContainer.VideoResolutionConstraint)return d;var v=new x.license_protocol.License.KeyContainer.VideoResolutionConstraint;if(d.minResolutionPixels!=null&&(v.minResolutionPixels=d.minResolutionPixels>>>0),d.maxResolutionPixels!=null&&(v.maxResolutionPixels=d.maxResolutionPixels>>>0),d.requiredProtection!=null){if(typeof d.requiredProtection!="object")throw TypeError(".license_protocol.License.KeyContainer.VideoResolutionConstraint.requiredProtection: object expected");v.requiredProtection=x.license_protocol.License.KeyContainer.OutputProtection.fromObject(d.requiredProtection)}return v},s.toObject=function(d,v){v||(v={});var A={};return v.defaults&&(A.minResolutionPixels=0,A.maxResolutionPixels=0,A.requiredProtection=null),d.minResolutionPixels!=null&&d.hasOwnProperty("minResolutionPixels")&&(A.minResolutionPixels=d.minResolutionPixels),d.maxResolutionPixels!=null&&d.hasOwnProperty("maxResolutionPixels")&&(A.maxResolutionPixels=d.maxResolutionPixels),d.requiredProtection!=null&&d.hasOwnProperty("requiredProtection")&&(A.requiredProtection=x.license_protocol.License.KeyContainer.OutputProtection.toObject(d.requiredProtection,v)),A},s.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},s.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/license_protocol.License.KeyContainer.VideoResolutionConstraint"},s}(),h.OperatorSessionKeyPermissions=function(){function s(l){if(l)for(var d=Object.keys(l),v=0;v<d.length;v+=1)l[d[v]]!=null&&(this[d[v]]=l[d[v]])}return s.prototype.allowEncrypt=!1,s.prototype.allowDecrypt=!1,s.prototype.allowSign=!1,s.prototype.allowSignatureVerify=!1,s.create=function(d){return new s(d)},s.encode=function(d,v){return v||(v=U.create()),d.allowEncrypt!=null&&Object.hasOwnProperty.call(d,"allowEncrypt")&&v.uint32(8).bool(d.allowEncrypt),d.allowDecrypt!=null&&Object.hasOwnProperty.call(d,"allowDecrypt")&&v.uint32(16).bool(d.allowDecrypt),d.allowSign!=null&&Object.hasOwnProperty.call(d,"allowSign")&&v.uint32(24).bool(d.allowSign),d.allowSignatureVerify!=null&&Object.hasOwnProperty.call(d,"allowSignatureVerify")&&v.uint32(32).bool(d.allowSignatureVerify),v},s.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},s.decode=function(d,v){d instanceof N||(d=N.create(d));for(var A=v===void 0?d.len:d.pos+v,Y=new x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions;d.pos<A;){var T=d.uint32();switch(T>>>3){case 1:{Y.allowEncrypt=d.bool();break}case 2:{Y.allowDecrypt=d.bool();break}case 3:{Y.allowSign=d.bool();break}case 4:{Y.allowSignatureVerify=d.bool();break}default:d.skipType(T&7);break}}return Y},s.decodeDelimited=function(d){return d instanceof N||(d=new N(d)),this.decode(d,d.uint32())},s.verify=function(d){return typeof d!="object"||d===null?"object expected":d.allowEncrypt!=null&&d.hasOwnProperty("allowEncrypt")&&typeof d.allowEncrypt!="boolean"?"allowEncrypt: boolean expected":d.allowDecrypt!=null&&d.hasOwnProperty("allowDecrypt")&&typeof d.allowDecrypt!="boolean"?"allowDecrypt: boolean expected":d.allowSign!=null&&d.hasOwnProperty("allowSign")&&typeof d.allowSign!="boolean"?"allowSign: boolean expected":d.allowSignatureVerify!=null&&d.hasOwnProperty("allowSignatureVerify")&&typeof d.allowSignatureVerify!="boolean"?"allowSignatureVerify: boolean expected":null},s.fromObject=function(d){if(d instanceof x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions)return d;var v=new x.license_protocol.License.KeyContainer.OperatorSessionKeyPermissions;return d.allowEncrypt!=null&&(v.allowEncrypt=!!d.allowEncrypt),d.allowDecrypt!=null&&(v.allowDecrypt=!!d.allowDecrypt),d.allowSign!=null&&(v.allowSign=!!d.allowSign),d.allowSignatureVerify!=null&&(v.allowSignatureVerify=!!d.allowSignatureVerify),v},s.toObject=function(d,v){v||(v={});var A={};return v.defaults&&(A.allowEncrypt=!1,A.allowDecrypt=!1,A.allowSign=!1,A.allowSignatureVerify=!1),d.allowEncrypt!=null&&d.hasOwnProperty("allowEncrypt")&&(A.allowEncrypt=d.allowEncrypt),d.allowDecrypt!=null&&d.hasOwnProperty("allowDecrypt")&&(A.allowDecrypt=d.allowDecrypt),d.allowSign!=null&&d.hasOwnProperty("allowSign")&&(A.allowSign=d.allowSign),d.allowSignatureVerify!=null&&d.hasOwnProperty("allowSignatureVerify")&&(A.allowSignatureVerify=d.allowSignatureVerify),A},s.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},s.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/license_protocol.License.KeyContainer.OperatorSessionKeyPermissions"},s}(),h}(),M}(),V.ProtocolVersion=function(){var M={},h=Object.create(M);return h[M[20]="VERSION_2_0"]=20,h[M[21]="VERSION_2_1"]=21,h[M[22]="VERSION_2_2"]=22,h}(),V.LicenseRequest=function(){function M(h){if(h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.clientId=null,M.prototype.contentId=null,M.prototype.type=1,M.prototype.requestTime=I.Long?I.Long.fromBits(0,0,!1):0,M.prototype.keyControlNonceDeprecated=I.newBuffer([]),M.prototype.protocolVersion=20,M.prototype.keyControlNonce=0,M.prototype.encryptedClientId=null,M.create=function(s){return new M(s)},M.encode=function(s,l){return l||(l=U.create()),s.clientId!=null&&Object.hasOwnProperty.call(s,"clientId")&&x.license_protocol.ClientIdentification.encode(s.clientId,l.uint32(10).fork()).ldelim(),s.contentId!=null&&Object.hasOwnProperty.call(s,"contentId")&&x.license_protocol.LicenseRequest.ContentIdentification.encode(s.contentId,l.uint32(18).fork()).ldelim(),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&l.uint32(24).int32(s.type),s.requestTime!=null&&Object.hasOwnProperty.call(s,"requestTime")&&l.uint32(32).int64(s.requestTime),s.keyControlNonceDeprecated!=null&&Object.hasOwnProperty.call(s,"keyControlNonceDeprecated")&&l.uint32(42).bytes(s.keyControlNonceDeprecated),s.protocolVersion!=null&&Object.hasOwnProperty.call(s,"protocolVersion")&&l.uint32(48).int32(s.protocolVersion),s.keyControlNonce!=null&&Object.hasOwnProperty.call(s,"keyControlNonce")&&l.uint32(56).uint32(s.keyControlNonce),s.encryptedClientId!=null&&Object.hasOwnProperty.call(s,"encryptedClientId")&&x.license_protocol.EncryptedClientIdentification.encode(s.encryptedClientId,l.uint32(66).fork()).ldelim(),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.LicenseRequest;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.clientId=x.license_protocol.ClientIdentification.decode(s,s.uint32());break}case 2:{v.contentId=x.license_protocol.LicenseRequest.ContentIdentification.decode(s,s.uint32());break}case 3:{v.type=s.int32();break}case 4:{v.requestTime=s.int64();break}case 5:{v.keyControlNonceDeprecated=s.bytes();break}case 6:{v.protocolVersion=s.int32();break}case 7:{v.keyControlNonce=s.uint32();break}case 8:{v.encryptedClientId=x.license_protocol.EncryptedClientIdentification.decode(s,s.uint32());break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.clientId!=null&&s.hasOwnProperty("clientId")){var l=x.license_protocol.ClientIdentification.verify(s.clientId);if(l)return"clientId."+l}if(s.contentId!=null&&s.hasOwnProperty("contentId")){var l=x.license_protocol.LicenseRequest.ContentIdentification.verify(s.contentId);if(l)return"contentId."+l}if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 1:case 2:case 3:break}if(s.requestTime!=null&&s.hasOwnProperty("requestTime")&&!I.isInteger(s.requestTime)&&!(s.requestTime&&I.isInteger(s.requestTime.low)&&I.isInteger(s.requestTime.high)))return"requestTime: integer|Long expected";if(s.keyControlNonceDeprecated!=null&&s.hasOwnProperty("keyControlNonceDeprecated")&&!(s.keyControlNonceDeprecated&&typeof s.keyControlNonceDeprecated.length=="number"||I.isString(s.keyControlNonceDeprecated)))return"keyControlNonceDeprecated: buffer expected";if(s.protocolVersion!=null&&s.hasOwnProperty("protocolVersion"))switch(s.protocolVersion){default:return"protocolVersion: enum value expected";case 20:case 21:case 22:break}if(s.keyControlNonce!=null&&s.hasOwnProperty("keyControlNonce")&&!I.isInteger(s.keyControlNonce))return"keyControlNonce: integer expected";if(s.encryptedClientId!=null&&s.hasOwnProperty("encryptedClientId")){var l=x.license_protocol.EncryptedClientIdentification.verify(s.encryptedClientId);if(l)return"encryptedClientId."+l}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.LicenseRequest)return s;var l=new x.license_protocol.LicenseRequest;if(s.clientId!=null){if(typeof s.clientId!="object")throw TypeError(".license_protocol.LicenseRequest.clientId: object expected");l.clientId=x.license_protocol.ClientIdentification.fromObject(s.clientId)}if(s.contentId!=null){if(typeof s.contentId!="object")throw TypeError(".license_protocol.LicenseRequest.contentId: object expected");l.contentId=x.license_protocol.LicenseRequest.ContentIdentification.fromObject(s.contentId)}switch(s.type){default:if(typeof s.type=="number"){l.type=s.type;break}break;case"NEW":case 1:l.type=1;break;case"RENEWAL":case 2:l.type=2;break;case"RELEASE":case 3:l.type=3;break}switch(s.requestTime!=null&&(I.Long?(l.requestTime=I.Long.fromValue(s.requestTime)).unsigned=!1:typeof s.requestTime=="string"?l.requestTime=parseInt(s.requestTime,10):typeof s.requestTime=="number"?l.requestTime=s.requestTime:typeof s.requestTime=="object"&&(l.requestTime=new I.LongBits(s.requestTime.low>>>0,s.requestTime.high>>>0).toNumber())),s.keyControlNonceDeprecated!=null&&(typeof s.keyControlNonceDeprecated=="string"?I.base64.decode(s.keyControlNonceDeprecated,l.keyControlNonceDeprecated=I.newBuffer(I.base64.length(s.keyControlNonceDeprecated)),0):s.keyControlNonceDeprecated.length>=0&&(l.keyControlNonceDeprecated=s.keyControlNonceDeprecated)),s.protocolVersion){default:if(typeof s.protocolVersion=="number"){l.protocolVersion=s.protocolVersion;break}break;case"VERSION_2_0":case 20:l.protocolVersion=20;break;case"VERSION_2_1":case 21:l.protocolVersion=21;break;case"VERSION_2_2":case 22:l.protocolVersion=22;break}if(s.keyControlNonce!=null&&(l.keyControlNonce=s.keyControlNonce>>>0),s.encryptedClientId!=null){if(typeof s.encryptedClientId!="object")throw TypeError(".license_protocol.LicenseRequest.encryptedClientId: object expected");l.encryptedClientId=x.license_protocol.EncryptedClientIdentification.fromObject(s.encryptedClientId)}return l},M.toObject=function(s,l){l||(l={});var d={};if(l.defaults){if(d.clientId=null,d.contentId=null,d.type=l.enums===String?"NEW":1,I.Long){var v=new I.Long(0,0,!1);d.requestTime=l.longs===String?v.toString():l.longs===Number?v.toNumber():v}else d.requestTime=l.longs===String?"0":0;l.bytes===String?d.keyControlNonceDeprecated="":(d.keyControlNonceDeprecated=[],l.bytes!==Array&&(d.keyControlNonceDeprecated=I.newBuffer(d.keyControlNonceDeprecated))),d.protocolVersion=l.enums===String?"VERSION_2_0":20,d.keyControlNonce=0,d.encryptedClientId=null}return s.clientId!=null&&s.hasOwnProperty("clientId")&&(d.clientId=x.license_protocol.ClientIdentification.toObject(s.clientId,l)),s.contentId!=null&&s.hasOwnProperty("contentId")&&(d.contentId=x.license_protocol.LicenseRequest.ContentIdentification.toObject(s.contentId,l)),s.type!=null&&s.hasOwnProperty("type")&&(d.type=l.enums===String?x.license_protocol.LicenseRequest.RequestType[s.type]===void 0?s.type:x.license_protocol.LicenseRequest.RequestType[s.type]:s.type),s.requestTime!=null&&s.hasOwnProperty("requestTime")&&(typeof s.requestTime=="number"?d.requestTime=l.longs===String?String(s.requestTime):s.requestTime:d.requestTime=l.longs===String?I.Long.prototype.toString.call(s.requestTime):l.longs===Number?new I.LongBits(s.requestTime.low>>>0,s.requestTime.high>>>0).toNumber():s.requestTime),s.keyControlNonceDeprecated!=null&&s.hasOwnProperty("keyControlNonceDeprecated")&&(d.keyControlNonceDeprecated=l.bytes===String?I.base64.encode(s.keyControlNonceDeprecated,0,s.keyControlNonceDeprecated.length):l.bytes===Array?Array.prototype.slice.call(s.keyControlNonceDeprecated):s.keyControlNonceDeprecated),s.protocolVersion!=null&&s.hasOwnProperty("protocolVersion")&&(d.protocolVersion=l.enums===String?x.license_protocol.ProtocolVersion[s.protocolVersion]===void 0?s.protocolVersion:x.license_protocol.ProtocolVersion[s.protocolVersion]:s.protocolVersion),s.keyControlNonce!=null&&s.hasOwnProperty("keyControlNonce")&&(d.keyControlNonce=s.keyControlNonce),s.encryptedClientId!=null&&s.hasOwnProperty("encryptedClientId")&&(d.encryptedClientId=x.license_protocol.EncryptedClientIdentification.toObject(s.encryptedClientId,l)),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.LicenseRequest"},M.ContentIdentification=function(){function h(l){if(l)for(var d=Object.keys(l),v=0;v<d.length;v+=1)l[d[v]]!=null&&(this[d[v]]=l[d[v]])}h.prototype.widevinePsshData=null,h.prototype.webmKeyId=null,h.prototype.existingLicense=null,h.prototype.initData=null;var s;return Object.defineProperty(h.prototype,"contentIdVariant",{get:I.oneOfGetter(s=["widevinePsshData","webmKeyId","existingLicense","initData"]),set:I.oneOfSetter(s)}),h.create=function(d){return new h(d)},h.encode=function(d,v){return v||(v=U.create()),d.widevinePsshData!=null&&Object.hasOwnProperty.call(d,"widevinePsshData")&&x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData.encode(d.widevinePsshData,v.uint32(10).fork()).ldelim(),d.webmKeyId!=null&&Object.hasOwnProperty.call(d,"webmKeyId")&&x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId.encode(d.webmKeyId,v.uint32(18).fork()).ldelim(),d.existingLicense!=null&&Object.hasOwnProperty.call(d,"existingLicense")&&x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense.encode(d.existingLicense,v.uint32(26).fork()).ldelim(),d.initData!=null&&Object.hasOwnProperty.call(d,"initData")&&x.license_protocol.LicenseRequest.ContentIdentification.InitData.encode(d.initData,v.uint32(34).fork()).ldelim(),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof N||(d=N.create(d));for(var A=v===void 0?d.len:d.pos+v,Y=new x.license_protocol.LicenseRequest.ContentIdentification;d.pos<A;){var T=d.uint32();switch(T>>>3){case 1:{Y.widevinePsshData=x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData.decode(d,d.uint32());break}case 2:{Y.webmKeyId=x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId.decode(d,d.uint32());break}case 3:{Y.existingLicense=x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense.decode(d,d.uint32());break}case 4:{Y.initData=x.license_protocol.LicenseRequest.ContentIdentification.InitData.decode(d,d.uint32());break}default:d.skipType(T&7);break}}return Y},h.decodeDelimited=function(d){return d instanceof N||(d=new N(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";var v={};if(d.widevinePsshData!=null&&d.hasOwnProperty("widevinePsshData")){v.contentIdVariant=1;{var A=x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData.verify(d.widevinePsshData);if(A)return"widevinePsshData."+A}}if(d.webmKeyId!=null&&d.hasOwnProperty("webmKeyId")){if(v.contentIdVariant===1)return"contentIdVariant: multiple values";v.contentIdVariant=1;{var A=x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId.verify(d.webmKeyId);if(A)return"webmKeyId."+A}}if(d.existingLicense!=null&&d.hasOwnProperty("existingLicense")){if(v.contentIdVariant===1)return"contentIdVariant: multiple values";v.contentIdVariant=1;{var A=x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense.verify(d.existingLicense);if(A)return"existingLicense."+A}}if(d.initData!=null&&d.hasOwnProperty("initData")){if(v.contentIdVariant===1)return"contentIdVariant: multiple values";v.contentIdVariant=1;{var A=x.license_protocol.LicenseRequest.ContentIdentification.InitData.verify(d.initData);if(A)return"initData."+A}}return null},h.fromObject=function(d){if(d instanceof x.license_protocol.LicenseRequest.ContentIdentification)return d;var v=new x.license_protocol.LicenseRequest.ContentIdentification;if(d.widevinePsshData!=null){if(typeof d.widevinePsshData!="object")throw TypeError(".license_protocol.LicenseRequest.ContentIdentification.widevinePsshData: object expected");v.widevinePsshData=x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData.fromObject(d.widevinePsshData)}if(d.webmKeyId!=null){if(typeof d.webmKeyId!="object")throw TypeError(".license_protocol.LicenseRequest.ContentIdentification.webmKeyId: object expected");v.webmKeyId=x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId.fromObject(d.webmKeyId)}if(d.existingLicense!=null){if(typeof d.existingLicense!="object")throw TypeError(".license_protocol.LicenseRequest.ContentIdentification.existingLicense: object expected");v.existingLicense=x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense.fromObject(d.existingLicense)}if(d.initData!=null){if(typeof d.initData!="object")throw TypeError(".license_protocol.LicenseRequest.ContentIdentification.initData: object expected");v.initData=x.license_protocol.LicenseRequest.ContentIdentification.InitData.fromObject(d.initData)}return v},h.toObject=function(d,v){v||(v={});var A={};return d.widevinePsshData!=null&&d.hasOwnProperty("widevinePsshData")&&(A.widevinePsshData=x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData.toObject(d.widevinePsshData,v),v.oneofs&&(A.contentIdVariant="widevinePsshData")),d.webmKeyId!=null&&d.hasOwnProperty("webmKeyId")&&(A.webmKeyId=x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId.toObject(d.webmKeyId,v),v.oneofs&&(A.contentIdVariant="webmKeyId")),d.existingLicense!=null&&d.hasOwnProperty("existingLicense")&&(A.existingLicense=x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense.toObject(d.existingLicense,v),v.oneofs&&(A.contentIdVariant="existingLicense")),d.initData!=null&&d.hasOwnProperty("initData")&&(A.initData=x.license_protocol.LicenseRequest.ContentIdentification.InitData.toObject(d.initData,v),v.oneofs&&(A.contentIdVariant="initData")),A},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/license_protocol.LicenseRequest.ContentIdentification"},h.WidevinePsshData=function(){function l(d){if(this.psshData=[],d)for(var v=Object.keys(d),A=0;A<v.length;A+=1)d[v[A]]!=null&&(this[v[A]]=d[v[A]])}return l.prototype.psshData=I.emptyArray,l.prototype.licenseType=1,l.prototype.requestId=I.newBuffer([]),l.create=function(v){return new l(v)},l.encode=function(v,A){if(A||(A=U.create()),v.psshData!=null&&v.psshData.length)for(var Y=0;Y<v.psshData.length;Y+=1)A.uint32(10).bytes(v.psshData[Y]);return v.licenseType!=null&&Object.hasOwnProperty.call(v,"licenseType")&&A.uint32(16).int32(v.licenseType),v.requestId!=null&&Object.hasOwnProperty.call(v,"requestId")&&A.uint32(26).bytes(v.requestId),A},l.encodeDelimited=function(v,A){return this.encode(v,A).ldelim()},l.decode=function(v,A){v instanceof N||(v=N.create(v));for(var Y=A===void 0?v.len:v.pos+A,T=new x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData;v.pos<Y;){var te=v.uint32();switch(te>>>3){case 1:{T.psshData&&T.psshData.length||(T.psshData=[]),T.psshData.push(v.bytes());break}case 2:{T.licenseType=v.int32();break}case 3:{T.requestId=v.bytes();break}default:v.skipType(te&7);break}}return T},l.decodeDelimited=function(v){return v instanceof N||(v=new N(v)),this.decode(v,v.uint32())},l.verify=function(v){if(typeof v!="object"||v===null)return"object expected";if(v.psshData!=null&&v.hasOwnProperty("psshData")){if(!Array.isArray(v.psshData))return"psshData: array expected";for(var A=0;A<v.psshData.length;A+=1)if(!(v.psshData[A]&&typeof v.psshData[A].length=="number"||I.isString(v.psshData[A])))return"psshData: buffer[] expected"}if(v.licenseType!=null&&v.hasOwnProperty("licenseType"))switch(v.licenseType){default:return"licenseType: enum value expected";case 1:case 2:case 3:break}return v.requestId!=null&&v.hasOwnProperty("requestId")&&!(v.requestId&&typeof v.requestId.length=="number"||I.isString(v.requestId))?"requestId: buffer expected":null},l.fromObject=function(v){if(v instanceof x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData)return v;var A=new x.license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData;if(v.psshData){if(!Array.isArray(v.psshData))throw TypeError(".license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData.psshData: array expected");A.psshData=[];for(var Y=0;Y<v.psshData.length;Y+=1)typeof v.psshData[Y]=="string"?I.base64.decode(v.psshData[Y],A.psshData[Y]=I.newBuffer(I.base64.length(v.psshData[Y])),0):v.psshData[Y].length>=0&&(A.psshData[Y]=v.psshData[Y])}switch(v.licenseType){default:if(typeof v.licenseType=="number"){A.licenseType=v.licenseType;break}break;case"STREAMING":case 1:A.licenseType=1;break;case"OFFLINE":case 2:A.licenseType=2;break;case"AUTOMATIC":case 3:A.licenseType=3;break}return v.requestId!=null&&(typeof v.requestId=="string"?I.base64.decode(v.requestId,A.requestId=I.newBuffer(I.base64.length(v.requestId)),0):v.requestId.length>=0&&(A.requestId=v.requestId)),A},l.toObject=function(v,A){A||(A={});var Y={};if((A.arrays||A.defaults)&&(Y.psshData=[]),A.defaults&&(Y.licenseType=A.enums===String?"STREAMING":1,A.bytes===String?Y.requestId="":(Y.requestId=[],A.bytes!==Array&&(Y.requestId=I.newBuffer(Y.requestId)))),v.psshData&&v.psshData.length){Y.psshData=[];for(var T=0;T<v.psshData.length;T+=1)Y.psshData[T]=A.bytes===String?I.base64.encode(v.psshData[T],0,v.psshData[T].length):A.bytes===Array?Array.prototype.slice.call(v.psshData[T]):v.psshData[T]}return v.licenseType!=null&&v.hasOwnProperty("licenseType")&&(Y.licenseType=A.enums===String?x.license_protocol.LicenseType[v.licenseType]===void 0?v.licenseType:x.license_protocol.LicenseType[v.licenseType]:v.licenseType),v.requestId!=null&&v.hasOwnProperty("requestId")&&(Y.requestId=A.bytes===String?I.base64.encode(v.requestId,0,v.requestId.length):A.bytes===Array?Array.prototype.slice.call(v.requestId):v.requestId),Y},l.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},l.getTypeUrl=function(v){return v===void 0&&(v="type.googleapis.com"),v+"/license_protocol.LicenseRequest.ContentIdentification.WidevinePsshData"},l}(),h.WebmKeyId=function(){function l(d){if(d)for(var v=Object.keys(d),A=0;A<v.length;A+=1)d[v[A]]!=null&&(this[v[A]]=d[v[A]])}return l.prototype.header=I.newBuffer([]),l.prototype.licenseType=1,l.prototype.requestId=I.newBuffer([]),l.create=function(v){return new l(v)},l.encode=function(v,A){return A||(A=U.create()),v.header!=null&&Object.hasOwnProperty.call(v,"header")&&A.uint32(10).bytes(v.header),v.licenseType!=null&&Object.hasOwnProperty.call(v,"licenseType")&&A.uint32(16).int32(v.licenseType),v.requestId!=null&&Object.hasOwnProperty.call(v,"requestId")&&A.uint32(26).bytes(v.requestId),A},l.encodeDelimited=function(v,A){return this.encode(v,A).ldelim()},l.decode=function(v,A){v instanceof N||(v=N.create(v));for(var Y=A===void 0?v.len:v.pos+A,T=new x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId;v.pos<Y;){var te=v.uint32();switch(te>>>3){case 1:{T.header=v.bytes();break}case 2:{T.licenseType=v.int32();break}case 3:{T.requestId=v.bytes();break}default:v.skipType(te&7);break}}return T},l.decodeDelimited=function(v){return v instanceof N||(v=new N(v)),this.decode(v,v.uint32())},l.verify=function(v){if(typeof v!="object"||v===null)return"object expected";if(v.header!=null&&v.hasOwnProperty("header")&&!(v.header&&typeof v.header.length=="number"||I.isString(v.header)))return"header: buffer expected";if(v.licenseType!=null&&v.hasOwnProperty("licenseType"))switch(v.licenseType){default:return"licenseType: enum value expected";case 1:case 2:case 3:break}return v.requestId!=null&&v.hasOwnProperty("requestId")&&!(v.requestId&&typeof v.requestId.length=="number"||I.isString(v.requestId))?"requestId: buffer expected":null},l.fromObject=function(v){if(v instanceof x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId)return v;var A=new x.license_protocol.LicenseRequest.ContentIdentification.WebmKeyId;switch(v.header!=null&&(typeof v.header=="string"?I.base64.decode(v.header,A.header=I.newBuffer(I.base64.length(v.header)),0):v.header.length>=0&&(A.header=v.header)),v.licenseType){default:if(typeof v.licenseType=="number"){A.licenseType=v.licenseType;break}break;case"STREAMING":case 1:A.licenseType=1;break;case"OFFLINE":case 2:A.licenseType=2;break;case"AUTOMATIC":case 3:A.licenseType=3;break}return v.requestId!=null&&(typeof v.requestId=="string"?I.base64.decode(v.requestId,A.requestId=I.newBuffer(I.base64.length(v.requestId)),0):v.requestId.length>=0&&(A.requestId=v.requestId)),A},l.toObject=function(v,A){A||(A={});var Y={};return A.defaults&&(A.bytes===String?Y.header="":(Y.header=[],A.bytes!==Array&&(Y.header=I.newBuffer(Y.header))),Y.licenseType=A.enums===String?"STREAMING":1,A.bytes===String?Y.requestId="":(Y.requestId=[],A.bytes!==Array&&(Y.requestId=I.newBuffer(Y.requestId)))),v.header!=null&&v.hasOwnProperty("header")&&(Y.header=A.bytes===String?I.base64.encode(v.header,0,v.header.length):A.bytes===Array?Array.prototype.slice.call(v.header):v.header),v.licenseType!=null&&v.hasOwnProperty("licenseType")&&(Y.licenseType=A.enums===String?x.license_protocol.LicenseType[v.licenseType]===void 0?v.licenseType:x.license_protocol.LicenseType[v.licenseType]:v.licenseType),v.requestId!=null&&v.hasOwnProperty("requestId")&&(Y.requestId=A.bytes===String?I.base64.encode(v.requestId,0,v.requestId.length):A.bytes===Array?Array.prototype.slice.call(v.requestId):v.requestId),Y},l.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},l.getTypeUrl=function(v){return v===void 0&&(v="type.googleapis.com"),v+"/license_protocol.LicenseRequest.ContentIdentification.WebmKeyId"},l}(),h.ExistingLicense=function(){function l(d){if(d)for(var v=Object.keys(d),A=0;A<v.length;A+=1)d[v[A]]!=null&&(this[v[A]]=d[v[A]])}return l.prototype.licenseId=null,l.prototype.secondsSinceStarted=I.Long?I.Long.fromBits(0,0,!1):0,l.prototype.secondsSinceLastPlayed=I.Long?I.Long.fromBits(0,0,!1):0,l.prototype.sessionUsageTableEntry=I.newBuffer([]),l.create=function(v){return new l(v)},l.encode=function(v,A){return A||(A=U.create()),v.licenseId!=null&&Object.hasOwnProperty.call(v,"licenseId")&&x.license_protocol.LicenseIdentification.encode(v.licenseId,A.uint32(10).fork()).ldelim(),v.secondsSinceStarted!=null&&Object.hasOwnProperty.call(v,"secondsSinceStarted")&&A.uint32(16).int64(v.secondsSinceStarted),v.secondsSinceLastPlayed!=null&&Object.hasOwnProperty.call(v,"secondsSinceLastPlayed")&&A.uint32(24).int64(v.secondsSinceLastPlayed),v.sessionUsageTableEntry!=null&&Object.hasOwnProperty.call(v,"sessionUsageTableEntry")&&A.uint32(34).bytes(v.sessionUsageTableEntry),A},l.encodeDelimited=function(v,A){return this.encode(v,A).ldelim()},l.decode=function(v,A){v instanceof N||(v=N.create(v));for(var Y=A===void 0?v.len:v.pos+A,T=new x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense;v.pos<Y;){var te=v.uint32();switch(te>>>3){case 1:{T.licenseId=x.license_protocol.LicenseIdentification.decode(v,v.uint32());break}case 2:{T.secondsSinceStarted=v.int64();break}case 3:{T.secondsSinceLastPlayed=v.int64();break}case 4:{T.sessionUsageTableEntry=v.bytes();break}default:v.skipType(te&7);break}}return T},l.decodeDelimited=function(v){return v instanceof N||(v=new N(v)),this.decode(v,v.uint32())},l.verify=function(v){if(typeof v!="object"||v===null)return"object expected";if(v.licenseId!=null&&v.hasOwnProperty("licenseId")){var A=x.license_protocol.LicenseIdentification.verify(v.licenseId);if(A)return"licenseId."+A}return v.secondsSinceStarted!=null&&v.hasOwnProperty("secondsSinceStarted")&&!I.isInteger(v.secondsSinceStarted)&&!(v.secondsSinceStarted&&I.isInteger(v.secondsSinceStarted.low)&&I.isInteger(v.secondsSinceStarted.high))?"secondsSinceStarted: integer|Long expected":v.secondsSinceLastPlayed!=null&&v.hasOwnProperty("secondsSinceLastPlayed")&&!I.isInteger(v.secondsSinceLastPlayed)&&!(v.secondsSinceLastPlayed&&I.isInteger(v.secondsSinceLastPlayed.low)&&I.isInteger(v.secondsSinceLastPlayed.high))?"secondsSinceLastPlayed: integer|Long expected":v.sessionUsageTableEntry!=null&&v.hasOwnProperty("sessionUsageTableEntry")&&!(v.sessionUsageTableEntry&&typeof v.sessionUsageTableEntry.length=="number"||I.isString(v.sessionUsageTableEntry))?"sessionUsageTableEntry: buffer expected":null},l.fromObject=function(v){if(v instanceof x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense)return v;var A=new x.license_protocol.LicenseRequest.ContentIdentification.ExistingLicense;if(v.licenseId!=null){if(typeof v.licenseId!="object")throw TypeError(".license_protocol.LicenseRequest.ContentIdentification.ExistingLicense.licenseId: object expected");A.licenseId=x.license_protocol.LicenseIdentification.fromObject(v.licenseId)}return v.secondsSinceStarted!=null&&(I.Long?(A.secondsSinceStarted=I.Long.fromValue(v.secondsSinceStarted)).unsigned=!1:typeof v.secondsSinceStarted=="string"?A.secondsSinceStarted=parseInt(v.secondsSinceStarted,10):typeof v.secondsSinceStarted=="number"?A.secondsSinceStarted=v.secondsSinceStarted:typeof v.secondsSinceStarted=="object"&&(A.secondsSinceStarted=new I.LongBits(v.secondsSinceStarted.low>>>0,v.secondsSinceStarted.high>>>0).toNumber())),v.secondsSinceLastPlayed!=null&&(I.Long?(A.secondsSinceLastPlayed=I.Long.fromValue(v.secondsSinceLastPlayed)).unsigned=!1:typeof v.secondsSinceLastPlayed=="string"?A.secondsSinceLastPlayed=parseInt(v.secondsSinceLastPlayed,10):typeof v.secondsSinceLastPlayed=="number"?A.secondsSinceLastPlayed=v.secondsSinceLastPlayed:typeof v.secondsSinceLastPlayed=="object"&&(A.secondsSinceLastPlayed=new I.LongBits(v.secondsSinceLastPlayed.low>>>0,v.secondsSinceLastPlayed.high>>>0).toNumber())),v.sessionUsageTableEntry!=null&&(typeof v.sessionUsageTableEntry=="string"?I.base64.decode(v.sessionUsageTableEntry,A.sessionUsageTableEntry=I.newBuffer(I.base64.length(v.sessionUsageTableEntry)),0):v.sessionUsageTableEntry.length>=0&&(A.sessionUsageTableEntry=v.sessionUsageTableEntry)),A},l.toObject=function(v,A){A||(A={});var Y={};if(A.defaults){if(Y.licenseId=null,I.Long){var T=new I.Long(0,0,!1);Y.secondsSinceStarted=A.longs===String?T.toString():A.longs===Number?T.toNumber():T}else Y.secondsSinceStarted=A.longs===String?"0":0;if(I.Long){var T=new I.Long(0,0,!1);Y.secondsSinceLastPlayed=A.longs===String?T.toString():A.longs===Number?T.toNumber():T}else Y.secondsSinceLastPlayed=A.longs===String?"0":0;A.bytes===String?Y.sessionUsageTableEntry="":(Y.sessionUsageTableEntry=[],A.bytes!==Array&&(Y.sessionUsageTableEntry=I.newBuffer(Y.sessionUsageTableEntry)))}return v.licenseId!=null&&v.hasOwnProperty("licenseId")&&(Y.licenseId=x.license_protocol.LicenseIdentification.toObject(v.licenseId,A)),v.secondsSinceStarted!=null&&v.hasOwnProperty("secondsSinceStarted")&&(typeof v.secondsSinceStarted=="number"?Y.secondsSinceStarted=A.longs===String?String(v.secondsSinceStarted):v.secondsSinceStarted:Y.secondsSinceStarted=A.longs===String?I.Long.prototype.toString.call(v.secondsSinceStarted):A.longs===Number?new I.LongBits(v.secondsSinceStarted.low>>>0,v.secondsSinceStarted.high>>>0).toNumber():v.secondsSinceStarted),v.secondsSinceLastPlayed!=null&&v.hasOwnProperty("secondsSinceLastPlayed")&&(typeof v.secondsSinceLastPlayed=="number"?Y.secondsSinceLastPlayed=A.longs===String?String(v.secondsSinceLastPlayed):v.secondsSinceLastPlayed:Y.secondsSinceLastPlayed=A.longs===String?I.Long.prototype.toString.call(v.secondsSinceLastPlayed):A.longs===Number?new I.LongBits(v.secondsSinceLastPlayed.low>>>0,v.secondsSinceLastPlayed.high>>>0).toNumber():v.secondsSinceLastPlayed),v.sessionUsageTableEntry!=null&&v.hasOwnProperty("sessionUsageTableEntry")&&(Y.sessionUsageTableEntry=A.bytes===String?I.base64.encode(v.sessionUsageTableEntry,0,v.sessionUsageTableEntry.length):A.bytes===Array?Array.prototype.slice.call(v.sessionUsageTableEntry):v.sessionUsageTableEntry),Y},l.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},l.getTypeUrl=function(v){return v===void 0&&(v="type.googleapis.com"),v+"/license_protocol.LicenseRequest.ContentIdentification.ExistingLicense"},l}(),h.InitData=function(){function l(d){if(d)for(var v=Object.keys(d),A=0;A<v.length;A+=1)d[v[A]]!=null&&(this[v[A]]=d[v[A]])}return l.prototype.initDataType=1,l.prototype.initData=I.newBuffer([]),l.prototype.licenseType=1,l.prototype.requestId=I.newBuffer([]),l.create=function(v){return new l(v)},l.encode=function(v,A){return A||(A=U.create()),v.initDataType!=null&&Object.hasOwnProperty.call(v,"initDataType")&&A.uint32(8).int32(v.initDataType),v.initData!=null&&Object.hasOwnProperty.call(v,"initData")&&A.uint32(18).bytes(v.initData),v.licenseType!=null&&Object.hasOwnProperty.call(v,"licenseType")&&A.uint32(24).int32(v.licenseType),v.requestId!=null&&Object.hasOwnProperty.call(v,"requestId")&&A.uint32(34).bytes(v.requestId),A},l.encodeDelimited=function(v,A){return this.encode(v,A).ldelim()},l.decode=function(v,A){v instanceof N||(v=N.create(v));for(var Y=A===void 0?v.len:v.pos+A,T=new x.license_protocol.LicenseRequest.ContentIdentification.InitData;v.pos<Y;){var te=v.uint32();switch(te>>>3){case 1:{T.initDataType=v.int32();break}case 2:{T.initData=v.bytes();break}case 3:{T.licenseType=v.int32();break}case 4:{T.requestId=v.bytes();break}default:v.skipType(te&7);break}}return T},l.decodeDelimited=function(v){return v instanceof N||(v=new N(v)),this.decode(v,v.uint32())},l.verify=function(v){if(typeof v!="object"||v===null)return"object expected";if(v.initDataType!=null&&v.hasOwnProperty("initDataType"))switch(v.initDataType){default:return"initDataType: enum value expected";case 1:case 2:break}if(v.initData!=null&&v.hasOwnProperty("initData")&&!(v.initData&&typeof v.initData.length=="number"||I.isString(v.initData)))return"initData: buffer expected";if(v.licenseType!=null&&v.hasOwnProperty("licenseType"))switch(v.licenseType){default:return"licenseType: enum value expected";case 1:case 2:case 3:break}return v.requestId!=null&&v.hasOwnProperty("requestId")&&!(v.requestId&&typeof v.requestId.length=="number"||I.isString(v.requestId))?"requestId: buffer expected":null},l.fromObject=function(v){if(v instanceof x.license_protocol.LicenseRequest.ContentIdentification.InitData)return v;var A=new x.license_protocol.LicenseRequest.ContentIdentification.InitData;switch(v.initDataType){default:if(typeof v.initDataType=="number"){A.initDataType=v.initDataType;break}break;case"CENC":case 1:A.initDataType=1;break;case"WEBM":case 2:A.initDataType=2;break}switch(v.initData!=null&&(typeof v.initData=="string"?I.base64.decode(v.initData,A.initData=I.newBuffer(I.base64.length(v.initData)),0):v.initData.length>=0&&(A.initData=v.initData)),v.licenseType){default:if(typeof v.licenseType=="number"){A.licenseType=v.licenseType;break}break;case"STREAMING":case 1:A.licenseType=1;break;case"OFFLINE":case 2:A.licenseType=2;break;case"AUTOMATIC":case 3:A.licenseType=3;break}return v.requestId!=null&&(typeof v.requestId=="string"?I.base64.decode(v.requestId,A.requestId=I.newBuffer(I.base64.length(v.requestId)),0):v.requestId.length>=0&&(A.requestId=v.requestId)),A},l.toObject=function(v,A){A||(A={});var Y={};return A.defaults&&(Y.initDataType=A.enums===String?"CENC":1,A.bytes===String?Y.initData="":(Y.initData=[],A.bytes!==Array&&(Y.initData=I.newBuffer(Y.initData))),Y.licenseType=A.enums===String?"STREAMING":1,A.bytes===String?Y.requestId="":(Y.requestId=[],A.bytes!==Array&&(Y.requestId=I.newBuffer(Y.requestId)))),v.initDataType!=null&&v.hasOwnProperty("initDataType")&&(Y.initDataType=A.enums===String?x.license_protocol.LicenseRequest.ContentIdentification.InitData.InitDataType[v.initDataType]===void 0?v.initDataType:x.license_protocol.LicenseRequest.ContentIdentification.InitData.InitDataType[v.initDataType]:v.initDataType),v.initData!=null&&v.hasOwnProperty("initData")&&(Y.initData=A.bytes===String?I.base64.encode(v.initData,0,v.initData.length):A.bytes===Array?Array.prototype.slice.call(v.initData):v.initData),v.licenseType!=null&&v.hasOwnProperty("licenseType")&&(Y.licenseType=A.enums===String?x.license_protocol.LicenseType[v.licenseType]===void 0?v.licenseType:x.license_protocol.LicenseType[v.licenseType]:v.licenseType),v.requestId!=null&&v.hasOwnProperty("requestId")&&(Y.requestId=A.bytes===String?I.base64.encode(v.requestId,0,v.requestId.length):A.bytes===Array?Array.prototype.slice.call(v.requestId):v.requestId),Y},l.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},l.getTypeUrl=function(v){return v===void 0&&(v="type.googleapis.com"),v+"/license_protocol.LicenseRequest.ContentIdentification.InitData"},l.InitDataType=function(){var d={},v=Object.create(d);return v[d[1]="CENC"]=1,v[d[2]="WEBM"]=2,v}(),l}(),h}(),M.RequestType=function(){var h={},s=Object.create(h);return s[h[1]="NEW"]=1,s[h[2]="RENEWAL"]=2,s[h[3]="RELEASE"]=3,s}(),M}(),V.MetricData=function(){function M(h){if(this.metricData=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.stageName="",M.prototype.metricData=I.emptyArray,M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.stageName!=null&&Object.hasOwnProperty.call(s,"stageName")&&l.uint32(10).string(s.stageName),s.metricData!=null&&s.metricData.length)for(var d=0;d<s.metricData.length;d+=1)x.license_protocol.MetricData.TypeValue.encode(s.metricData[d],l.uint32(18).fork()).ldelim();return l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.MetricData;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.stageName=s.string();break}case 2:{v.metricData&&v.metricData.length||(v.metricData=[]),v.metricData.push(x.license_protocol.MetricData.TypeValue.decode(s,s.uint32()));break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.stageName!=null&&s.hasOwnProperty("stageName")&&!I.isString(s.stageName))return"stageName: string expected";if(s.metricData!=null&&s.hasOwnProperty("metricData")){if(!Array.isArray(s.metricData))return"metricData: array expected";for(var l=0;l<s.metricData.length;l+=1){var d=x.license_protocol.MetricData.TypeValue.verify(s.metricData[l]);if(d)return"metricData."+d}}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.MetricData)return s;var l=new x.license_protocol.MetricData;if(s.stageName!=null&&(l.stageName=String(s.stageName)),s.metricData){if(!Array.isArray(s.metricData))throw TypeError(".license_protocol.MetricData.metricData: array expected");l.metricData=[];for(var d=0;d<s.metricData.length;d+=1){if(typeof s.metricData[d]!="object")throw TypeError(".license_protocol.MetricData.metricData: object expected");l.metricData[d]=x.license_protocol.MetricData.TypeValue.fromObject(s.metricData[d])}}return l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.metricData=[]),l.defaults&&(d.stageName=""),s.stageName!=null&&s.hasOwnProperty("stageName")&&(d.stageName=s.stageName),s.metricData&&s.metricData.length){d.metricData=[];for(var v=0;v<s.metricData.length;v+=1)d.metricData[v]=x.license_protocol.MetricData.TypeValue.toObject(s.metricData[v],l)}return d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.MetricData"},M.MetricType=function(){var h={},s=Object.create(h);return s[h[1]="LATENCY"]=1,s[h[2]="TIMESTAMP"]=2,s}(),M.TypeValue=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.type=1,h.prototype.value=I.Long?I.Long.fromBits(0,0,!1):0,h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&d.uint32(8).int32(l.type),l.value!=null&&Object.hasOwnProperty.call(l,"value")&&d.uint32(16).int64(l.value),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.MetricData.TypeValue;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.type=l.int32();break}case 2:{A.value=l.int64();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 1:case 2:break}return l.value!=null&&l.hasOwnProperty("value")&&!I.isInteger(l.value)&&!(l.value&&I.isInteger(l.value.low)&&I.isInteger(l.value.high))?"value: integer|Long expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.MetricData.TypeValue)return l;var d=new x.license_protocol.MetricData.TypeValue;switch(l.type){default:if(typeof l.type=="number"){d.type=l.type;break}break;case"LATENCY":case 1:d.type=1;break;case"TIMESTAMP":case 2:d.type=2;break}return l.value!=null&&(I.Long?(d.value=I.Long.fromValue(l.value)).unsigned=!1:typeof l.value=="string"?d.value=parseInt(l.value,10):typeof l.value=="number"?d.value=l.value:typeof l.value=="object"&&(d.value=new I.LongBits(l.value.low>>>0,l.value.high>>>0).toNumber())),d},h.toObject=function(l,d){d||(d={});var v={};if(d.defaults)if(v.type=d.enums===String?"LATENCY":1,I.Long){var A=new I.Long(0,0,!1);v.value=d.longs===String?A.toString():d.longs===Number?A.toNumber():A}else v.value=d.longs===String?"0":0;return l.type!=null&&l.hasOwnProperty("type")&&(v.type=d.enums===String?x.license_protocol.MetricData.MetricType[l.type]===void 0?l.type:x.license_protocol.MetricData.MetricType[l.type]:l.type),l.value!=null&&l.hasOwnProperty("value")&&(typeof l.value=="number"?v.value=d.longs===String?String(l.value):l.value:v.value=d.longs===String?I.Long.prototype.toString.call(l.value):d.longs===Number?new I.LongBits(l.value.low>>>0,l.value.high>>>0).toNumber():l.value),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.MetricData.TypeValue"},h}(),M}(),V.VersionInfo=function(){function M(h){if(h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.licenseSdkVersion="",M.prototype.licenseServiceVersion="",M.create=function(s){return new M(s)},M.encode=function(s,l){return l||(l=U.create()),s.licenseSdkVersion!=null&&Object.hasOwnProperty.call(s,"licenseSdkVersion")&&l.uint32(10).string(s.licenseSdkVersion),s.licenseServiceVersion!=null&&Object.hasOwnProperty.call(s,"licenseServiceVersion")&&l.uint32(18).string(s.licenseServiceVersion),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.VersionInfo;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.licenseSdkVersion=s.string();break}case 2:{v.licenseServiceVersion=s.string();break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){return typeof s!="object"||s===null?"object expected":s.licenseSdkVersion!=null&&s.hasOwnProperty("licenseSdkVersion")&&!I.isString(s.licenseSdkVersion)?"licenseSdkVersion: string expected":s.licenseServiceVersion!=null&&s.hasOwnProperty("licenseServiceVersion")&&!I.isString(s.licenseServiceVersion)?"licenseServiceVersion: string expected":null},M.fromObject=function(s){if(s instanceof x.license_protocol.VersionInfo)return s;var l=new x.license_protocol.VersionInfo;return s.licenseSdkVersion!=null&&(l.licenseSdkVersion=String(s.licenseSdkVersion)),s.licenseServiceVersion!=null&&(l.licenseServiceVersion=String(s.licenseServiceVersion)),l},M.toObject=function(s,l){l||(l={});var d={};return l.defaults&&(d.licenseSdkVersion="",d.licenseServiceVersion=""),s.licenseSdkVersion!=null&&s.hasOwnProperty("licenseSdkVersion")&&(d.licenseSdkVersion=s.licenseSdkVersion),s.licenseServiceVersion!=null&&s.hasOwnProperty("licenseServiceVersion")&&(d.licenseServiceVersion=s.licenseServiceVersion),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.VersionInfo"},M}(),V.SignedMessage=function(){function M(h){if(this.metricData=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.type=1,M.prototype.msg=I.newBuffer([]),M.prototype.signature=I.newBuffer([]),M.prototype.sessionKey=I.newBuffer([]),M.prototype.remoteAttestation=I.newBuffer([]),M.prototype.metricData=I.emptyArray,M.prototype.serviceVersionInfo=null,M.prototype.sessionKeyType=1,M.prototype.oemcryptoCoreMessage=I.newBuffer([]),M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&l.uint32(8).int32(s.type),s.msg!=null&&Object.hasOwnProperty.call(s,"msg")&&l.uint32(18).bytes(s.msg),s.signature!=null&&Object.hasOwnProperty.call(s,"signature")&&l.uint32(26).bytes(s.signature),s.sessionKey!=null&&Object.hasOwnProperty.call(s,"sessionKey")&&l.uint32(34).bytes(s.sessionKey),s.remoteAttestation!=null&&Object.hasOwnProperty.call(s,"remoteAttestation")&&l.uint32(42).bytes(s.remoteAttestation),s.metricData!=null&&s.metricData.length)for(var d=0;d<s.metricData.length;d+=1)x.license_protocol.MetricData.encode(s.metricData[d],l.uint32(50).fork()).ldelim();return s.serviceVersionInfo!=null&&Object.hasOwnProperty.call(s,"serviceVersionInfo")&&x.license_protocol.VersionInfo.encode(s.serviceVersionInfo,l.uint32(58).fork()).ldelim(),s.sessionKeyType!=null&&Object.hasOwnProperty.call(s,"sessionKeyType")&&l.uint32(64).int32(s.sessionKeyType),s.oemcryptoCoreMessage!=null&&Object.hasOwnProperty.call(s,"oemcryptoCoreMessage")&&l.uint32(74).bytes(s.oemcryptoCoreMessage),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.SignedMessage;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.type=s.int32();break}case 2:{v.msg=s.bytes();break}case 3:{v.signature=s.bytes();break}case 4:{v.sessionKey=s.bytes();break}case 5:{v.remoteAttestation=s.bytes();break}case 6:{v.metricData&&v.metricData.length||(v.metricData=[]),v.metricData.push(x.license_protocol.MetricData.decode(s,s.uint32()));break}case 7:{v.serviceVersionInfo=x.license_protocol.VersionInfo.decode(s,s.uint32());break}case 8:{v.sessionKeyType=s.int32();break}case 9:{v.oemcryptoCoreMessage=s.bytes();break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:break}if(s.msg!=null&&s.hasOwnProperty("msg")&&!(s.msg&&typeof s.msg.length=="number"||I.isString(s.msg)))return"msg: buffer expected";if(s.signature!=null&&s.hasOwnProperty("signature")&&!(s.signature&&typeof s.signature.length=="number"||I.isString(s.signature)))return"signature: buffer expected";if(s.sessionKey!=null&&s.hasOwnProperty("sessionKey")&&!(s.sessionKey&&typeof s.sessionKey.length=="number"||I.isString(s.sessionKey)))return"sessionKey: buffer expected";if(s.remoteAttestation!=null&&s.hasOwnProperty("remoteAttestation")&&!(s.remoteAttestation&&typeof s.remoteAttestation.length=="number"||I.isString(s.remoteAttestation)))return"remoteAttestation: buffer expected";if(s.metricData!=null&&s.hasOwnProperty("metricData")){if(!Array.isArray(s.metricData))return"metricData: array expected";for(var l=0;l<s.metricData.length;l+=1){var d=x.license_protocol.MetricData.verify(s.metricData[l]);if(d)return"metricData."+d}}if(s.serviceVersionInfo!=null&&s.hasOwnProperty("serviceVersionInfo")){var d=x.license_protocol.VersionInfo.verify(s.serviceVersionInfo);if(d)return"serviceVersionInfo."+d}if(s.sessionKeyType!=null&&s.hasOwnProperty("sessionKeyType"))switch(s.sessionKeyType){default:return"sessionKeyType: enum value expected";case 0:case 1:case 2:break}return s.oemcryptoCoreMessage!=null&&s.hasOwnProperty("oemcryptoCoreMessage")&&!(s.oemcryptoCoreMessage&&typeof s.oemcryptoCoreMessage.length=="number"||I.isString(s.oemcryptoCoreMessage))?"oemcryptoCoreMessage: buffer expected":null},M.fromObject=function(s){if(s instanceof x.license_protocol.SignedMessage)return s;var l=new x.license_protocol.SignedMessage;switch(s.type){default:if(typeof s.type=="number"){l.type=s.type;break}break;case"LICENSE_REQUEST":case 1:l.type=1;break;case"LICENSE":case 2:l.type=2;break;case"ERROR_RESPONSE":case 3:l.type=3;break;case"SERVICE_CERTIFICATE_REQUEST":case 4:l.type=4;break;case"SERVICE_CERTIFICATE":case 5:l.type=5;break;case"SUB_LICENSE":case 6:l.type=6;break;case"CAS_LICENSE_REQUEST":case 7:l.type=7;break;case"CAS_LICENSE":case 8:l.type=8;break;case"EXTERNAL_LICENSE_REQUEST":case 9:l.type=9;break;case"EXTERNAL_LICENSE":case 10:l.type=10;break}if(s.msg!=null&&(typeof s.msg=="string"?I.base64.decode(s.msg,l.msg=I.newBuffer(I.base64.length(s.msg)),0):s.msg.length>=0&&(l.msg=s.msg)),s.signature!=null&&(typeof s.signature=="string"?I.base64.decode(s.signature,l.signature=I.newBuffer(I.base64.length(s.signature)),0):s.signature.length>=0&&(l.signature=s.signature)),s.sessionKey!=null&&(typeof s.sessionKey=="string"?I.base64.decode(s.sessionKey,l.sessionKey=I.newBuffer(I.base64.length(s.sessionKey)),0):s.sessionKey.length>=0&&(l.sessionKey=s.sessionKey)),s.remoteAttestation!=null&&(typeof s.remoteAttestation=="string"?I.base64.decode(s.remoteAttestation,l.remoteAttestation=I.newBuffer(I.base64.length(s.remoteAttestation)),0):s.remoteAttestation.length>=0&&(l.remoteAttestation=s.remoteAttestation)),s.metricData){if(!Array.isArray(s.metricData))throw TypeError(".license_protocol.SignedMessage.metricData: array expected");l.metricData=[];for(var d=0;d<s.metricData.length;d+=1){if(typeof s.metricData[d]!="object")throw TypeError(".license_protocol.SignedMessage.metricData: object expected");l.metricData[d]=x.license_protocol.MetricData.fromObject(s.metricData[d])}}if(s.serviceVersionInfo!=null){if(typeof s.serviceVersionInfo!="object")throw TypeError(".license_protocol.SignedMessage.serviceVersionInfo: object expected");l.serviceVersionInfo=x.license_protocol.VersionInfo.fromObject(s.serviceVersionInfo)}switch(s.sessionKeyType){case"UNDEFINED":case 0:l.sessionKeyType=0;break;default:if(typeof s.sessionKeyType=="number"){l.sessionKeyType=s.sessionKeyType;break}break;case"WRAPPED_AES_KEY":case 1:l.sessionKeyType=1;break;case"EPHERMERAL_ECC_PUBLIC_KEY":case 2:l.sessionKeyType=2;break}return s.oemcryptoCoreMessage!=null&&(typeof s.oemcryptoCoreMessage=="string"?I.base64.decode(s.oemcryptoCoreMessage,l.oemcryptoCoreMessage=I.newBuffer(I.base64.length(s.oemcryptoCoreMessage)),0):s.oemcryptoCoreMessage.length>=0&&(l.oemcryptoCoreMessage=s.oemcryptoCoreMessage)),l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.metricData=[]),l.defaults&&(d.type=l.enums===String?"LICENSE_REQUEST":1,l.bytes===String?d.msg="":(d.msg=[],l.bytes!==Array&&(d.msg=I.newBuffer(d.msg))),l.bytes===String?d.signature="":(d.signature=[],l.bytes!==Array&&(d.signature=I.newBuffer(d.signature))),l.bytes===String?d.sessionKey="":(d.sessionKey=[],l.bytes!==Array&&(d.sessionKey=I.newBuffer(d.sessionKey))),l.bytes===String?d.remoteAttestation="":(d.remoteAttestation=[],l.bytes!==Array&&(d.remoteAttestation=I.newBuffer(d.remoteAttestation))),d.serviceVersionInfo=null,d.sessionKeyType=l.enums===String?"WRAPPED_AES_KEY":1,l.bytes===String?d.oemcryptoCoreMessage="":(d.oemcryptoCoreMessage=[],l.bytes!==Array&&(d.oemcryptoCoreMessage=I.newBuffer(d.oemcryptoCoreMessage)))),s.type!=null&&s.hasOwnProperty("type")&&(d.type=l.enums===String?x.license_protocol.SignedMessage.MessageType[s.type]===void 0?s.type:x.license_protocol.SignedMessage.MessageType[s.type]:s.type),s.msg!=null&&s.hasOwnProperty("msg")&&(d.msg=l.bytes===String?I.base64.encode(s.msg,0,s.msg.length):l.bytes===Array?Array.prototype.slice.call(s.msg):s.msg),s.signature!=null&&s.hasOwnProperty("signature")&&(d.signature=l.bytes===String?I.base64.encode(s.signature,0,s.signature.length):l.bytes===Array?Array.prototype.slice.call(s.signature):s.signature),s.sessionKey!=null&&s.hasOwnProperty("sessionKey")&&(d.sessionKey=l.bytes===String?I.base64.encode(s.sessionKey,0,s.sessionKey.length):l.bytes===Array?Array.prototype.slice.call(s.sessionKey):s.sessionKey),s.remoteAttestation!=null&&s.hasOwnProperty("remoteAttestation")&&(d.remoteAttestation=l.bytes===String?I.base64.encode(s.remoteAttestation,0,s.remoteAttestation.length):l.bytes===Array?Array.prototype.slice.call(s.remoteAttestation):s.remoteAttestation),s.metricData&&s.metricData.length){d.metricData=[];for(var v=0;v<s.metricData.length;v+=1)d.metricData[v]=x.license_protocol.MetricData.toObject(s.metricData[v],l)}return s.serviceVersionInfo!=null&&s.hasOwnProperty("serviceVersionInfo")&&(d.serviceVersionInfo=x.license_protocol.VersionInfo.toObject(s.serviceVersionInfo,l)),s.sessionKeyType!=null&&s.hasOwnProperty("sessionKeyType")&&(d.sessionKeyType=l.enums===String?x.license_protocol.SignedMessage.SessionKeyType[s.sessionKeyType]===void 0?s.sessionKeyType:x.license_protocol.SignedMessage.SessionKeyType[s.sessionKeyType]:s.sessionKeyType),s.oemcryptoCoreMessage!=null&&s.hasOwnProperty("oemcryptoCoreMessage")&&(d.oemcryptoCoreMessage=l.bytes===String?I.base64.encode(s.oemcryptoCoreMessage,0,s.oemcryptoCoreMessage.length):l.bytes===Array?Array.prototype.slice.call(s.oemcryptoCoreMessage):s.oemcryptoCoreMessage),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.SignedMessage"},M.MessageType=function(){var h={},s=Object.create(h);return s[h[1]="LICENSE_REQUEST"]=1,s[h[2]="LICENSE"]=2,s[h[3]="ERROR_RESPONSE"]=3,s[h[4]="SERVICE_CERTIFICATE_REQUEST"]=4,s[h[5]="SERVICE_CERTIFICATE"]=5,s[h[6]="SUB_LICENSE"]=6,s[h[7]="CAS_LICENSE_REQUEST"]=7,s[h[8]="CAS_LICENSE"]=8,s[h[9]="EXTERNAL_LICENSE_REQUEST"]=9,s[h[10]="EXTERNAL_LICENSE"]=10,s}(),M.SessionKeyType=function(){var h={},s=Object.create(h);return s[h[0]="UNDEFINED"]=0,s[h[1]="WRAPPED_AES_KEY"]=1,s[h[2]="EPHERMERAL_ECC_PUBLIC_KEY"]=2,s}(),M}(),V.HashAlgorithmProto=function(){var M={},h=Object.create(M);return h[M[0]="HASH_ALGORITHM_UNSPECIFIED"]=0,h[M[1]="HASH_ALGORITHM_SHA_1"]=1,h[M[2]="HASH_ALGORITHM_SHA_256"]=2,h[M[3]="HASH_ALGORITHM_SHA_384"]=3,h}(),V.ClientIdentification=function(){function M(h){if(this.clientInfo=[],this.deviceCredentials=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.type=0,M.prototype.token=I.newBuffer([]),M.prototype.clientInfo=I.emptyArray,M.prototype.providerClientToken=I.newBuffer([]),M.prototype.licenseCounter=0,M.prototype.clientCapabilities=null,M.prototype.vmpData=I.newBuffer([]),M.prototype.deviceCredentials=I.emptyArray,M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&l.uint32(8).int32(s.type),s.token!=null&&Object.hasOwnProperty.call(s,"token")&&l.uint32(18).bytes(s.token),s.clientInfo!=null&&s.clientInfo.length)for(var d=0;d<s.clientInfo.length;d+=1)x.license_protocol.ClientIdentification.NameValue.encode(s.clientInfo[d],l.uint32(26).fork()).ldelim();if(s.providerClientToken!=null&&Object.hasOwnProperty.call(s,"providerClientToken")&&l.uint32(34).bytes(s.providerClientToken),s.licenseCounter!=null&&Object.hasOwnProperty.call(s,"licenseCounter")&&l.uint32(40).uint32(s.licenseCounter),s.clientCapabilities!=null&&Object.hasOwnProperty.call(s,"clientCapabilities")&&x.license_protocol.ClientIdentification.ClientCapabilities.encode(s.clientCapabilities,l.uint32(50).fork()).ldelim(),s.vmpData!=null&&Object.hasOwnProperty.call(s,"vmpData")&&l.uint32(58).bytes(s.vmpData),s.deviceCredentials!=null&&s.deviceCredentials.length)for(var d=0;d<s.deviceCredentials.length;d+=1)x.license_protocol.ClientIdentification.ClientCredentials.encode(s.deviceCredentials[d],l.uint32(66).fork()).ldelim();return l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.ClientIdentification;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.type=s.int32();break}case 2:{v.token=s.bytes();break}case 3:{v.clientInfo&&v.clientInfo.length||(v.clientInfo=[]),v.clientInfo.push(x.license_protocol.ClientIdentification.NameValue.decode(s,s.uint32()));break}case 4:{v.providerClientToken=s.bytes();break}case 5:{v.licenseCounter=s.uint32();break}case 6:{v.clientCapabilities=x.license_protocol.ClientIdentification.ClientCapabilities.decode(s,s.uint32());break}case 7:{v.vmpData=s.bytes();break}case 8:{v.deviceCredentials&&v.deviceCredentials.length||(v.deviceCredentials=[]),v.deviceCredentials.push(x.license_protocol.ClientIdentification.ClientCredentials.decode(s,s.uint32()));break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:break}if(s.token!=null&&s.hasOwnProperty("token")&&!(s.token&&typeof s.token.length=="number"||I.isString(s.token)))return"token: buffer expected";if(s.clientInfo!=null&&s.hasOwnProperty("clientInfo")){if(!Array.isArray(s.clientInfo))return"clientInfo: array expected";for(var l=0;l<s.clientInfo.length;l+=1){var d=x.license_protocol.ClientIdentification.NameValue.verify(s.clientInfo[l]);if(d)return"clientInfo."+d}}if(s.providerClientToken!=null&&s.hasOwnProperty("providerClientToken")&&!(s.providerClientToken&&typeof s.providerClientToken.length=="number"||I.isString(s.providerClientToken)))return"providerClientToken: buffer expected";if(s.licenseCounter!=null&&s.hasOwnProperty("licenseCounter")&&!I.isInteger(s.licenseCounter))return"licenseCounter: integer expected";if(s.clientCapabilities!=null&&s.hasOwnProperty("clientCapabilities")){var d=x.license_protocol.ClientIdentification.ClientCapabilities.verify(s.clientCapabilities);if(d)return"clientCapabilities."+d}if(s.vmpData!=null&&s.hasOwnProperty("vmpData")&&!(s.vmpData&&typeof s.vmpData.length=="number"||I.isString(s.vmpData)))return"vmpData: buffer expected";if(s.deviceCredentials!=null&&s.hasOwnProperty("deviceCredentials")){if(!Array.isArray(s.deviceCredentials))return"deviceCredentials: array expected";for(var l=0;l<s.deviceCredentials.length;l+=1){var d=x.license_protocol.ClientIdentification.ClientCredentials.verify(s.deviceCredentials[l]);if(d)return"deviceCredentials."+d}}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.ClientIdentification)return s;var l=new x.license_protocol.ClientIdentification;switch(s.type){default:if(typeof s.type=="number"){l.type=s.type;break}break;case"KEYBOX":case 0:l.type=0;break;case"DRM_DEVICE_CERTIFICATE":case 1:l.type=1;break;case"REMOTE_ATTESTATION_CERTIFICATE":case 2:l.type=2;break;case"OEM_DEVICE_CERTIFICATE":case 3:l.type=3;break}if(s.token!=null&&(typeof s.token=="string"?I.base64.decode(s.token,l.token=I.newBuffer(I.base64.length(s.token)),0):s.token.length>=0&&(l.token=s.token)),s.clientInfo){if(!Array.isArray(s.clientInfo))throw TypeError(".license_protocol.ClientIdentification.clientInfo: array expected");l.clientInfo=[];for(var d=0;d<s.clientInfo.length;d+=1){if(typeof s.clientInfo[d]!="object")throw TypeError(".license_protocol.ClientIdentification.clientInfo: object expected");l.clientInfo[d]=x.license_protocol.ClientIdentification.NameValue.fromObject(s.clientInfo[d])}}if(s.providerClientToken!=null&&(typeof s.providerClientToken=="string"?I.base64.decode(s.providerClientToken,l.providerClientToken=I.newBuffer(I.base64.length(s.providerClientToken)),0):s.providerClientToken.length>=0&&(l.providerClientToken=s.providerClientToken)),s.licenseCounter!=null&&(l.licenseCounter=s.licenseCounter>>>0),s.clientCapabilities!=null){if(typeof s.clientCapabilities!="object")throw TypeError(".license_protocol.ClientIdentification.clientCapabilities: object expected");l.clientCapabilities=x.license_protocol.ClientIdentification.ClientCapabilities.fromObject(s.clientCapabilities)}if(s.vmpData!=null&&(typeof s.vmpData=="string"?I.base64.decode(s.vmpData,l.vmpData=I.newBuffer(I.base64.length(s.vmpData)),0):s.vmpData.length>=0&&(l.vmpData=s.vmpData)),s.deviceCredentials){if(!Array.isArray(s.deviceCredentials))throw TypeError(".license_protocol.ClientIdentification.deviceCredentials: array expected");l.deviceCredentials=[];for(var d=0;d<s.deviceCredentials.length;d+=1){if(typeof s.deviceCredentials[d]!="object")throw TypeError(".license_protocol.ClientIdentification.deviceCredentials: object expected");l.deviceCredentials[d]=x.license_protocol.ClientIdentification.ClientCredentials.fromObject(s.deviceCredentials[d])}}return l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.clientInfo=[],d.deviceCredentials=[]),l.defaults&&(d.type=l.enums===String?"KEYBOX":0,l.bytes===String?d.token="":(d.token=[],l.bytes!==Array&&(d.token=I.newBuffer(d.token))),l.bytes===String?d.providerClientToken="":(d.providerClientToken=[],l.bytes!==Array&&(d.providerClientToken=I.newBuffer(d.providerClientToken))),d.licenseCounter=0,d.clientCapabilities=null,l.bytes===String?d.vmpData="":(d.vmpData=[],l.bytes!==Array&&(d.vmpData=I.newBuffer(d.vmpData)))),s.type!=null&&s.hasOwnProperty("type")&&(d.type=l.enums===String?x.license_protocol.ClientIdentification.TokenType[s.type]===void 0?s.type:x.license_protocol.ClientIdentification.TokenType[s.type]:s.type),s.token!=null&&s.hasOwnProperty("token")&&(d.token=l.bytes===String?I.base64.encode(s.token,0,s.token.length):l.bytes===Array?Array.prototype.slice.call(s.token):s.token),s.clientInfo&&s.clientInfo.length){d.clientInfo=[];for(var v=0;v<s.clientInfo.length;v+=1)d.clientInfo[v]=x.license_protocol.ClientIdentification.NameValue.toObject(s.clientInfo[v],l)}if(s.providerClientToken!=null&&s.hasOwnProperty("providerClientToken")&&(d.providerClientToken=l.bytes===String?I.base64.encode(s.providerClientToken,0,s.providerClientToken.length):l.bytes===Array?Array.prototype.slice.call(s.providerClientToken):s.providerClientToken),s.licenseCounter!=null&&s.hasOwnProperty("licenseCounter")&&(d.licenseCounter=s.licenseCounter),s.clientCapabilities!=null&&s.hasOwnProperty("clientCapabilities")&&(d.clientCapabilities=x.license_protocol.ClientIdentification.ClientCapabilities.toObject(s.clientCapabilities,l)),s.vmpData!=null&&s.hasOwnProperty("vmpData")&&(d.vmpData=l.bytes===String?I.base64.encode(s.vmpData,0,s.vmpData.length):l.bytes===Array?Array.prototype.slice.call(s.vmpData):s.vmpData),s.deviceCredentials&&s.deviceCredentials.length){d.deviceCredentials=[];for(var v=0;v<s.deviceCredentials.length;v+=1)d.deviceCredentials[v]=x.license_protocol.ClientIdentification.ClientCredentials.toObject(s.deviceCredentials[v],l)}return d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.ClientIdentification"},M.TokenType=function(){var h={},s=Object.create(h);return s[h[0]="KEYBOX"]=0,s[h[1]="DRM_DEVICE_CERTIFICATE"]=1,s[h[2]="REMOTE_ATTESTATION_CERTIFICATE"]=2,s[h[3]="OEM_DEVICE_CERTIFICATE"]=3,s}(),M.NameValue=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.name="",h.prototype.value="",h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&d.uint32(10).string(l.name),l.value!=null&&Object.hasOwnProperty.call(l,"value")&&d.uint32(18).string(l.value),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.ClientIdentification.NameValue;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.name=l.string();break}case 2:{A.value=l.string();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!I.isString(l.name)?"name: string expected":l.value!=null&&l.hasOwnProperty("value")&&!I.isString(l.value)?"value: string expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.ClientIdentification.NameValue)return l;var d=new x.license_protocol.ClientIdentification.NameValue;return l.name!=null&&(d.name=String(l.name)),l.value!=null&&(d.value=String(l.value)),d},h.toObject=function(l,d){d||(d={});var v={};return d.defaults&&(v.name="",v.value=""),l.name!=null&&l.hasOwnProperty("name")&&(v.name=l.name),l.value!=null&&l.hasOwnProperty("value")&&(v.value=l.value),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.ClientIdentification.NameValue"},h}(),M.ClientCapabilities=function(){function h(s){if(this.supportedCertificateKeyType=[],s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.clientToken=!1,h.prototype.sessionToken=!1,h.prototype.videoResolutionConstraints=!1,h.prototype.maxHdcpVersion=0,h.prototype.oemCryptoApiVersion=0,h.prototype.antiRollbackUsageTable=!1,h.prototype.srmVersion=0,h.prototype.canUpdateSrm=!1,h.prototype.supportedCertificateKeyType=I.emptyArray,h.prototype.analogOutputCapabilities=0,h.prototype.canDisableAnalogOutput=!1,h.prototype.resourceRatingTier=0,h.create=function(l){return new h(l)},h.encode=function(l,d){if(d||(d=U.create()),l.clientToken!=null&&Object.hasOwnProperty.call(l,"clientToken")&&d.uint32(8).bool(l.clientToken),l.sessionToken!=null&&Object.hasOwnProperty.call(l,"sessionToken")&&d.uint32(16).bool(l.sessionToken),l.videoResolutionConstraints!=null&&Object.hasOwnProperty.call(l,"videoResolutionConstraints")&&d.uint32(24).bool(l.videoResolutionConstraints),l.maxHdcpVersion!=null&&Object.hasOwnProperty.call(l,"maxHdcpVersion")&&d.uint32(32).int32(l.maxHdcpVersion),l.oemCryptoApiVersion!=null&&Object.hasOwnProperty.call(l,"oemCryptoApiVersion")&&d.uint32(40).uint32(l.oemCryptoApiVersion),l.antiRollbackUsageTable!=null&&Object.hasOwnProperty.call(l,"antiRollbackUsageTable")&&d.uint32(48).bool(l.antiRollbackUsageTable),l.srmVersion!=null&&Object.hasOwnProperty.call(l,"srmVersion")&&d.uint32(56).uint32(l.srmVersion),l.canUpdateSrm!=null&&Object.hasOwnProperty.call(l,"canUpdateSrm")&&d.uint32(64).bool(l.canUpdateSrm),l.supportedCertificateKeyType!=null&&l.supportedCertificateKeyType.length)for(var v=0;v<l.supportedCertificateKeyType.length;v+=1)d.uint32(72).int32(l.supportedCertificateKeyType[v]);return l.analogOutputCapabilities!=null&&Object.hasOwnProperty.call(l,"analogOutputCapabilities")&&d.uint32(80).int32(l.analogOutputCapabilities),l.canDisableAnalogOutput!=null&&Object.hasOwnProperty.call(l,"canDisableAnalogOutput")&&d.uint32(88).bool(l.canDisableAnalogOutput),l.resourceRatingTier!=null&&Object.hasOwnProperty.call(l,"resourceRatingTier")&&d.uint32(96).uint32(l.resourceRatingTier),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.ClientIdentification.ClientCapabilities;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.clientToken=l.bool();break}case 2:{A.sessionToken=l.bool();break}case 3:{A.videoResolutionConstraints=l.bool();break}case 4:{A.maxHdcpVersion=l.int32();break}case 5:{A.oemCryptoApiVersion=l.uint32();break}case 6:{A.antiRollbackUsageTable=l.bool();break}case 7:{A.srmVersion=l.uint32();break}case 8:{A.canUpdateSrm=l.bool();break}case 9:{if(A.supportedCertificateKeyType&&A.supportedCertificateKeyType.length||(A.supportedCertificateKeyType=[]),(Y&7)===2)for(var T=l.uint32()+l.pos;l.pos<T;)A.supportedCertificateKeyType.push(l.int32());else A.supportedCertificateKeyType.push(l.int32());break}case 10:{A.analogOutputCapabilities=l.int32();break}case 11:{A.canDisableAnalogOutput=l.bool();break}case 12:{A.resourceRatingTier=l.uint32();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.clientToken!=null&&l.hasOwnProperty("clientToken")&&typeof l.clientToken!="boolean")return"clientToken: boolean expected";if(l.sessionToken!=null&&l.hasOwnProperty("sessionToken")&&typeof l.sessionToken!="boolean")return"sessionToken: boolean expected";if(l.videoResolutionConstraints!=null&&l.hasOwnProperty("videoResolutionConstraints")&&typeof l.videoResolutionConstraints!="boolean")return"videoResolutionConstraints: boolean expected";if(l.maxHdcpVersion!=null&&l.hasOwnProperty("maxHdcpVersion"))switch(l.maxHdcpVersion){default:return"maxHdcpVersion: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 255:break}if(l.oemCryptoApiVersion!=null&&l.hasOwnProperty("oemCryptoApiVersion")&&!I.isInteger(l.oemCryptoApiVersion))return"oemCryptoApiVersion: integer expected";if(l.antiRollbackUsageTable!=null&&l.hasOwnProperty("antiRollbackUsageTable")&&typeof l.antiRollbackUsageTable!="boolean")return"antiRollbackUsageTable: boolean expected";if(l.srmVersion!=null&&l.hasOwnProperty("srmVersion")&&!I.isInteger(l.srmVersion))return"srmVersion: integer expected";if(l.canUpdateSrm!=null&&l.hasOwnProperty("canUpdateSrm")&&typeof l.canUpdateSrm!="boolean")return"canUpdateSrm: boolean expected";if(l.supportedCertificateKeyType!=null&&l.hasOwnProperty("supportedCertificateKeyType")){if(!Array.isArray(l.supportedCertificateKeyType))return"supportedCertificateKeyType: array expected";for(var d=0;d<l.supportedCertificateKeyType.length;d+=1)switch(l.supportedCertificateKeyType[d]){default:return"supportedCertificateKeyType: enum value[] expected";case 0:case 1:case 2:case 3:case 4:break}}if(l.analogOutputCapabilities!=null&&l.hasOwnProperty("analogOutputCapabilities"))switch(l.analogOutputCapabilities){default:return"analogOutputCapabilities: enum value expected";case 0:case 1:case 2:case 3:break}return l.canDisableAnalogOutput!=null&&l.hasOwnProperty("canDisableAnalogOutput")&&typeof l.canDisableAnalogOutput!="boolean"?"canDisableAnalogOutput: boolean expected":l.resourceRatingTier!=null&&l.hasOwnProperty("resourceRatingTier")&&!I.isInteger(l.resourceRatingTier)?"resourceRatingTier: integer expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.ClientIdentification.ClientCapabilities)return l;var d=new x.license_protocol.ClientIdentification.ClientCapabilities;switch(l.clientToken!=null&&(d.clientToken=!!l.clientToken),l.sessionToken!=null&&(d.sessionToken=!!l.sessionToken),l.videoResolutionConstraints!=null&&(d.videoResolutionConstraints=!!l.videoResolutionConstraints),l.maxHdcpVersion){default:if(typeof l.maxHdcpVersion=="number"){d.maxHdcpVersion=l.maxHdcpVersion;break}break;case"HDCP_NONE":case 0:d.maxHdcpVersion=0;break;case"HDCP_V1":case 1:d.maxHdcpVersion=1;break;case"HDCP_V2":case 2:d.maxHdcpVersion=2;break;case"HDCP_V2_1":case 3:d.maxHdcpVersion=3;break;case"HDCP_V2_2":case 4:d.maxHdcpVersion=4;break;case"HDCP_V2_3":case 5:d.maxHdcpVersion=5;break;case"HDCP_NO_DIGITAL_OUTPUT":case 255:d.maxHdcpVersion=255;break}if(l.oemCryptoApiVersion!=null&&(d.oemCryptoApiVersion=l.oemCryptoApiVersion>>>0),l.antiRollbackUsageTable!=null&&(d.antiRollbackUsageTable=!!l.antiRollbackUsageTable),l.srmVersion!=null&&(d.srmVersion=l.srmVersion>>>0),l.canUpdateSrm!=null&&(d.canUpdateSrm=!!l.canUpdateSrm),l.supportedCertificateKeyType){if(!Array.isArray(l.supportedCertificateKeyType))throw TypeError(".license_protocol.ClientIdentification.ClientCapabilities.supportedCertificateKeyType: array expected");d.supportedCertificateKeyType=[];for(var v=0;v<l.supportedCertificateKeyType.length;v+=1)switch(l.supportedCertificateKeyType[v]){default:if(typeof l.supportedCertificateKeyType[v]=="number"){d.supportedCertificateKeyType[v]=l.supportedCertificateKeyType[v];break}case"RSA_2048":case 0:d.supportedCertificateKeyType[v]=0;break;case"RSA_3072":case 1:d.supportedCertificateKeyType[v]=1;break;case"ECC_SECP256R1":case 2:d.supportedCertificateKeyType[v]=2;break;case"ECC_SECP384R1":case 3:d.supportedCertificateKeyType[v]=3;break;case"ECC_SECP521R1":case 4:d.supportedCertificateKeyType[v]=4;break}}switch(l.analogOutputCapabilities){default:if(typeof l.analogOutputCapabilities=="number"){d.analogOutputCapabilities=l.analogOutputCapabilities;break}break;case"ANALOG_OUTPUT_UNKNOWN":case 0:d.analogOutputCapabilities=0;break;case"ANALOG_OUTPUT_NONE":case 1:d.analogOutputCapabilities=1;break;case"ANALOG_OUTPUT_SUPPORTED":case 2:d.analogOutputCapabilities=2;break;case"ANALOG_OUTPUT_SUPPORTS_CGMS_A":case 3:d.analogOutputCapabilities=3;break}return l.canDisableAnalogOutput!=null&&(d.canDisableAnalogOutput=!!l.canDisableAnalogOutput),l.resourceRatingTier!=null&&(d.resourceRatingTier=l.resourceRatingTier>>>0),d},h.toObject=function(l,d){d||(d={});var v={};if((d.arrays||d.defaults)&&(v.supportedCertificateKeyType=[]),d.defaults&&(v.clientToken=!1,v.sessionToken=!1,v.videoResolutionConstraints=!1,v.maxHdcpVersion=d.enums===String?"HDCP_NONE":0,v.oemCryptoApiVersion=0,v.antiRollbackUsageTable=!1,v.srmVersion=0,v.canUpdateSrm=!1,v.analogOutputCapabilities=d.enums===String?"ANALOG_OUTPUT_UNKNOWN":0,v.canDisableAnalogOutput=!1,v.resourceRatingTier=0),l.clientToken!=null&&l.hasOwnProperty("clientToken")&&(v.clientToken=l.clientToken),l.sessionToken!=null&&l.hasOwnProperty("sessionToken")&&(v.sessionToken=l.sessionToken),l.videoResolutionConstraints!=null&&l.hasOwnProperty("videoResolutionConstraints")&&(v.videoResolutionConstraints=l.videoResolutionConstraints),l.maxHdcpVersion!=null&&l.hasOwnProperty("maxHdcpVersion")&&(v.maxHdcpVersion=d.enums===String?x.license_protocol.ClientIdentification.ClientCapabilities.HdcpVersion[l.maxHdcpVersion]===void 0?l.maxHdcpVersion:x.license_protocol.ClientIdentification.ClientCapabilities.HdcpVersion[l.maxHdcpVersion]:l.maxHdcpVersion),l.oemCryptoApiVersion!=null&&l.hasOwnProperty("oemCryptoApiVersion")&&(v.oemCryptoApiVersion=l.oemCryptoApiVersion),l.antiRollbackUsageTable!=null&&l.hasOwnProperty("antiRollbackUsageTable")&&(v.antiRollbackUsageTable=l.antiRollbackUsageTable),l.srmVersion!=null&&l.hasOwnProperty("srmVersion")&&(v.srmVersion=l.srmVersion),l.canUpdateSrm!=null&&l.hasOwnProperty("canUpdateSrm")&&(v.canUpdateSrm=l.canUpdateSrm),l.supportedCertificateKeyType&&l.supportedCertificateKeyType.length){v.supportedCertificateKeyType=[];for(var A=0;A<l.supportedCertificateKeyType.length;A+=1)v.supportedCertificateKeyType[A]=d.enums===String?x.license_protocol.ClientIdentification.ClientCapabilities.CertificateKeyType[l.supportedCertificateKeyType[A]]===void 0?l.supportedCertificateKeyType[A]:x.license_protocol.ClientIdentification.ClientCapabilities.CertificateKeyType[l.supportedCertificateKeyType[A]]:l.supportedCertificateKeyType[A]}return l.analogOutputCapabilities!=null&&l.hasOwnProperty("analogOutputCapabilities")&&(v.analogOutputCapabilities=d.enums===String?x.license_protocol.ClientIdentification.ClientCapabilities.AnalogOutputCapabilities[l.analogOutputCapabilities]===void 0?l.analogOutputCapabilities:x.license_protocol.ClientIdentification.ClientCapabilities.AnalogOutputCapabilities[l.analogOutputCapabilities]:l.analogOutputCapabilities),l.canDisableAnalogOutput!=null&&l.hasOwnProperty("canDisableAnalogOutput")&&(v.canDisableAnalogOutput=l.canDisableAnalogOutput),l.resourceRatingTier!=null&&l.hasOwnProperty("resourceRatingTier")&&(v.resourceRatingTier=l.resourceRatingTier),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.ClientIdentification.ClientCapabilities"},h.HdcpVersion=function(){var s={},l=Object.create(s);return l[s[0]="HDCP_NONE"]=0,l[s[1]="HDCP_V1"]=1,l[s[2]="HDCP_V2"]=2,l[s[3]="HDCP_V2_1"]=3,l[s[4]="HDCP_V2_2"]=4,l[s[5]="HDCP_V2_3"]=5,l[s[255]="HDCP_NO_DIGITAL_OUTPUT"]=255,l}(),h.CertificateKeyType=function(){var s={},l=Object.create(s);return l[s[0]="RSA_2048"]=0,l[s[1]="RSA_3072"]=1,l[s[2]="ECC_SECP256R1"]=2,l[s[3]="ECC_SECP384R1"]=3,l[s[4]="ECC_SECP521R1"]=4,l}(),h.AnalogOutputCapabilities=function(){var s={},l=Object.create(s);return l[s[0]="ANALOG_OUTPUT_UNKNOWN"]=0,l[s[1]="ANALOG_OUTPUT_NONE"]=1,l[s[2]="ANALOG_OUTPUT_SUPPORTED"]=2,l[s[3]="ANALOG_OUTPUT_SUPPORTS_CGMS_A"]=3,l}(),h}(),M.ClientCredentials=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.type=0,h.prototype.token=I.newBuffer([]),h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&d.uint32(8).int32(l.type),l.token!=null&&Object.hasOwnProperty.call(l,"token")&&d.uint32(18).bytes(l.token),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.ClientIdentification.ClientCredentials;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.type=l.int32();break}case 2:{A.token=l.bytes();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:break}return l.token!=null&&l.hasOwnProperty("token")&&!(l.token&&typeof l.token.length=="number"||I.isString(l.token))?"token: buffer expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.ClientIdentification.ClientCredentials)return l;var d=new x.license_protocol.ClientIdentification.ClientCredentials;switch(l.type){default:if(typeof l.type=="number"){d.type=l.type;break}break;case"KEYBOX":case 0:d.type=0;break;case"DRM_DEVICE_CERTIFICATE":case 1:d.type=1;break;case"REMOTE_ATTESTATION_CERTIFICATE":case 2:d.type=2;break;case"OEM_DEVICE_CERTIFICATE":case 3:d.type=3;break}return l.token!=null&&(typeof l.token=="string"?I.base64.decode(l.token,d.token=I.newBuffer(I.base64.length(l.token)),0):l.token.length>=0&&(d.token=l.token)),d},h.toObject=function(l,d){d||(d={});var v={};return d.defaults&&(v.type=d.enums===String?"KEYBOX":0,d.bytes===String?v.token="":(v.token=[],d.bytes!==Array&&(v.token=I.newBuffer(v.token)))),l.type!=null&&l.hasOwnProperty("type")&&(v.type=d.enums===String?x.license_protocol.ClientIdentification.TokenType[l.type]===void 0?l.type:x.license_protocol.ClientIdentification.TokenType[l.type]:l.type),l.token!=null&&l.hasOwnProperty("token")&&(v.token=d.bytes===String?I.base64.encode(l.token,0,l.token.length):d.bytes===Array?Array.prototype.slice.call(l.token):l.token),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.ClientIdentification.ClientCredentials"},h}(),M}(),V.EncryptedClientIdentification=function(){function M(h){if(h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.providerId="",M.prototype.serviceCertificateSerialNumber=I.newBuffer([]),M.prototype.encryptedClientId=I.newBuffer([]),M.prototype.encryptedClientIdIv=I.newBuffer([]),M.prototype.encryptedPrivacyKey=I.newBuffer([]),M.create=function(s){return new M(s)},M.encode=function(s,l){return l||(l=U.create()),s.providerId!=null&&Object.hasOwnProperty.call(s,"providerId")&&l.uint32(10).string(s.providerId),s.serviceCertificateSerialNumber!=null&&Object.hasOwnProperty.call(s,"serviceCertificateSerialNumber")&&l.uint32(18).bytes(s.serviceCertificateSerialNumber),s.encryptedClientId!=null&&Object.hasOwnProperty.call(s,"encryptedClientId")&&l.uint32(26).bytes(s.encryptedClientId),s.encryptedClientIdIv!=null&&Object.hasOwnProperty.call(s,"encryptedClientIdIv")&&l.uint32(34).bytes(s.encryptedClientIdIv),s.encryptedPrivacyKey!=null&&Object.hasOwnProperty.call(s,"encryptedPrivacyKey")&&l.uint32(42).bytes(s.encryptedPrivacyKey),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.EncryptedClientIdentification;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.providerId=s.string();break}case 2:{v.serviceCertificateSerialNumber=s.bytes();break}case 3:{v.encryptedClientId=s.bytes();break}case 4:{v.encryptedClientIdIv=s.bytes();break}case 5:{v.encryptedPrivacyKey=s.bytes();break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){return typeof s!="object"||s===null?"object expected":s.providerId!=null&&s.hasOwnProperty("providerId")&&!I.isString(s.providerId)?"providerId: string expected":s.serviceCertificateSerialNumber!=null&&s.hasOwnProperty("serviceCertificateSerialNumber")&&!(s.serviceCertificateSerialNumber&&typeof s.serviceCertificateSerialNumber.length=="number"||I.isString(s.serviceCertificateSerialNumber))?"serviceCertificateSerialNumber: buffer expected":s.encryptedClientId!=null&&s.hasOwnProperty("encryptedClientId")&&!(s.encryptedClientId&&typeof s.encryptedClientId.length=="number"||I.isString(s.encryptedClientId))?"encryptedClientId: buffer expected":s.encryptedClientIdIv!=null&&s.hasOwnProperty("encryptedClientIdIv")&&!(s.encryptedClientIdIv&&typeof s.encryptedClientIdIv.length=="number"||I.isString(s.encryptedClientIdIv))?"encryptedClientIdIv: buffer expected":s.encryptedPrivacyKey!=null&&s.hasOwnProperty("encryptedPrivacyKey")&&!(s.encryptedPrivacyKey&&typeof s.encryptedPrivacyKey.length=="number"||I.isString(s.encryptedPrivacyKey))?"encryptedPrivacyKey: buffer expected":null},M.fromObject=function(s){if(s instanceof x.license_protocol.EncryptedClientIdentification)return s;var l=new x.license_protocol.EncryptedClientIdentification;return s.providerId!=null&&(l.providerId=String(s.providerId)),s.serviceCertificateSerialNumber!=null&&(typeof s.serviceCertificateSerialNumber=="string"?I.base64.decode(s.serviceCertificateSerialNumber,l.serviceCertificateSerialNumber=I.newBuffer(I.base64.length(s.serviceCertificateSerialNumber)),0):s.serviceCertificateSerialNumber.length>=0&&(l.serviceCertificateSerialNumber=s.serviceCertificateSerialNumber)),s.encryptedClientId!=null&&(typeof s.encryptedClientId=="string"?I.base64.decode(s.encryptedClientId,l.encryptedClientId=I.newBuffer(I.base64.length(s.encryptedClientId)),0):s.encryptedClientId.length>=0&&(l.encryptedClientId=s.encryptedClientId)),s.encryptedClientIdIv!=null&&(typeof s.encryptedClientIdIv=="string"?I.base64.decode(s.encryptedClientIdIv,l.encryptedClientIdIv=I.newBuffer(I.base64.length(s.encryptedClientIdIv)),0):s.encryptedClientIdIv.length>=0&&(l.encryptedClientIdIv=s.encryptedClientIdIv)),s.encryptedPrivacyKey!=null&&(typeof s.encryptedPrivacyKey=="string"?I.base64.decode(s.encryptedPrivacyKey,l.encryptedPrivacyKey=I.newBuffer(I.base64.length(s.encryptedPrivacyKey)),0):s.encryptedPrivacyKey.length>=0&&(l.encryptedPrivacyKey=s.encryptedPrivacyKey)),l},M.toObject=function(s,l){l||(l={});var d={};return l.defaults&&(d.providerId="",l.bytes===String?d.serviceCertificateSerialNumber="":(d.serviceCertificateSerialNumber=[],l.bytes!==Array&&(d.serviceCertificateSerialNumber=I.newBuffer(d.serviceCertificateSerialNumber))),l.bytes===String?d.encryptedClientId="":(d.encryptedClientId=[],l.bytes!==Array&&(d.encryptedClientId=I.newBuffer(d.encryptedClientId))),l.bytes===String?d.encryptedClientIdIv="":(d.encryptedClientIdIv=[],l.bytes!==Array&&(d.encryptedClientIdIv=I.newBuffer(d.encryptedClientIdIv))),l.bytes===String?d.encryptedPrivacyKey="":(d.encryptedPrivacyKey=[],l.bytes!==Array&&(d.encryptedPrivacyKey=I.newBuffer(d.encryptedPrivacyKey)))),s.providerId!=null&&s.hasOwnProperty("providerId")&&(d.providerId=s.providerId),s.serviceCertificateSerialNumber!=null&&s.hasOwnProperty("serviceCertificateSerialNumber")&&(d.serviceCertificateSerialNumber=l.bytes===String?I.base64.encode(s.serviceCertificateSerialNumber,0,s.serviceCertificateSerialNumber.length):l.bytes===Array?Array.prototype.slice.call(s.serviceCertificateSerialNumber):s.serviceCertificateSerialNumber),s.encryptedClientId!=null&&s.hasOwnProperty("encryptedClientId")&&(d.encryptedClientId=l.bytes===String?I.base64.encode(s.encryptedClientId,0,s.encryptedClientId.length):l.bytes===Array?Array.prototype.slice.call(s.encryptedClientId):s.encryptedClientId),s.encryptedClientIdIv!=null&&s.hasOwnProperty("encryptedClientIdIv")&&(d.encryptedClientIdIv=l.bytes===String?I.base64.encode(s.encryptedClientIdIv,0,s.encryptedClientIdIv.length):l.bytes===Array?Array.prototype.slice.call(s.encryptedClientIdIv):s.encryptedClientIdIv),s.encryptedPrivacyKey!=null&&s.hasOwnProperty("encryptedPrivacyKey")&&(d.encryptedPrivacyKey=l.bytes===String?I.base64.encode(s.encryptedPrivacyKey,0,s.encryptedPrivacyKey.length):l.bytes===Array?Array.prototype.slice.call(s.encryptedPrivacyKey):s.encryptedPrivacyKey),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.EncryptedClientIdentification"},M}(),V.DrmCertificate=function(){function M(h){if(this.serviceTypes=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.type=0,M.prototype.serialNumber=I.newBuffer([]),M.prototype.creationTimeSeconds=0,M.prototype.expirationTimeSeconds=0,M.prototype.publicKey=I.newBuffer([]),M.prototype.systemId=0,M.prototype.testDeviceDeprecated=!1,M.prototype.providerId="",M.prototype.serviceTypes=I.emptyArray,M.prototype.algorithm=1,M.prototype.rotId=I.newBuffer([]),M.prototype.encryptionKey=null,M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&l.uint32(8).int32(s.type),s.serialNumber!=null&&Object.hasOwnProperty.call(s,"serialNumber")&&l.uint32(18).bytes(s.serialNumber),s.creationTimeSeconds!=null&&Object.hasOwnProperty.call(s,"creationTimeSeconds")&&l.uint32(24).uint32(s.creationTimeSeconds),s.publicKey!=null&&Object.hasOwnProperty.call(s,"publicKey")&&l.uint32(34).bytes(s.publicKey),s.systemId!=null&&Object.hasOwnProperty.call(s,"systemId")&&l.uint32(40).uint32(s.systemId),s.testDeviceDeprecated!=null&&Object.hasOwnProperty.call(s,"testDeviceDeprecated")&&l.uint32(48).bool(s.testDeviceDeprecated),s.providerId!=null&&Object.hasOwnProperty.call(s,"providerId")&&l.uint32(58).string(s.providerId),s.serviceTypes!=null&&s.serviceTypes.length)for(var d=0;d<s.serviceTypes.length;d+=1)l.uint32(64).int32(s.serviceTypes[d]);return s.algorithm!=null&&Object.hasOwnProperty.call(s,"algorithm")&&l.uint32(72).int32(s.algorithm),s.rotId!=null&&Object.hasOwnProperty.call(s,"rotId")&&l.uint32(82).bytes(s.rotId),s.encryptionKey!=null&&Object.hasOwnProperty.call(s,"encryptionKey")&&x.license_protocol.DrmCertificate.EncryptionKey.encode(s.encryptionKey,l.uint32(90).fork()).ldelim(),s.expirationTimeSeconds!=null&&Object.hasOwnProperty.call(s,"expirationTimeSeconds")&&l.uint32(96).uint32(s.expirationTimeSeconds),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.DrmCertificate;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.type=s.int32();break}case 2:{v.serialNumber=s.bytes();break}case 3:{v.creationTimeSeconds=s.uint32();break}case 12:{v.expirationTimeSeconds=s.uint32();break}case 4:{v.publicKey=s.bytes();break}case 5:{v.systemId=s.uint32();break}case 6:{v.testDeviceDeprecated=s.bool();break}case 7:{v.providerId=s.string();break}case 8:{if(v.serviceTypes&&v.serviceTypes.length||(v.serviceTypes=[]),(A&7)===2)for(var Y=s.uint32()+s.pos;s.pos<Y;)v.serviceTypes.push(s.int32());else v.serviceTypes.push(s.int32());break}case 9:{v.algorithm=s.int32();break}case 10:{v.rotId=s.bytes();break}case 11:{v.encryptionKey=x.license_protocol.DrmCertificate.EncryptionKey.decode(s,s.uint32());break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(s.serialNumber!=null&&s.hasOwnProperty("serialNumber")&&!(s.serialNumber&&typeof s.serialNumber.length=="number"||I.isString(s.serialNumber)))return"serialNumber: buffer expected";if(s.creationTimeSeconds!=null&&s.hasOwnProperty("creationTimeSeconds")&&!I.isInteger(s.creationTimeSeconds))return"creationTimeSeconds: integer expected";if(s.expirationTimeSeconds!=null&&s.hasOwnProperty("expirationTimeSeconds")&&!I.isInteger(s.expirationTimeSeconds))return"expirationTimeSeconds: integer expected";if(s.publicKey!=null&&s.hasOwnProperty("publicKey")&&!(s.publicKey&&typeof s.publicKey.length=="number"||I.isString(s.publicKey)))return"publicKey: buffer expected";if(s.systemId!=null&&s.hasOwnProperty("systemId")&&!I.isInteger(s.systemId))return"systemId: integer expected";if(s.testDeviceDeprecated!=null&&s.hasOwnProperty("testDeviceDeprecated")&&typeof s.testDeviceDeprecated!="boolean")return"testDeviceDeprecated: boolean expected";if(s.providerId!=null&&s.hasOwnProperty("providerId")&&!I.isString(s.providerId))return"providerId: string expected";if(s.serviceTypes!=null&&s.hasOwnProperty("serviceTypes")){if(!Array.isArray(s.serviceTypes))return"serviceTypes: array expected";for(var l=0;l<s.serviceTypes.length;l+=1)switch(s.serviceTypes[l]){default:return"serviceTypes: enum value[] expected";case 0:case 1:case 2:case 3:case 4:break}}if(s.algorithm!=null&&s.hasOwnProperty("algorithm"))switch(s.algorithm){default:return"algorithm: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(s.rotId!=null&&s.hasOwnProperty("rotId")&&!(s.rotId&&typeof s.rotId.length=="number"||I.isString(s.rotId)))return"rotId: buffer expected";if(s.encryptionKey!=null&&s.hasOwnProperty("encryptionKey")){var d=x.license_protocol.DrmCertificate.EncryptionKey.verify(s.encryptionKey);if(d)return"encryptionKey."+d}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.DrmCertificate)return s;var l=new x.license_protocol.DrmCertificate;switch(s.type){default:if(typeof s.type=="number"){l.type=s.type;break}break;case"ROOT":case 0:l.type=0;break;case"DEVICE_MODEL":case 1:l.type=1;break;case"DEVICE":case 2:l.type=2;break;case"SERVICE":case 3:l.type=3;break;case"PROVISIONER":case 4:l.type=4;break}if(s.serialNumber!=null&&(typeof s.serialNumber=="string"?I.base64.decode(s.serialNumber,l.serialNumber=I.newBuffer(I.base64.length(s.serialNumber)),0):s.serialNumber.length>=0&&(l.serialNumber=s.serialNumber)),s.creationTimeSeconds!=null&&(l.creationTimeSeconds=s.creationTimeSeconds>>>0),s.expirationTimeSeconds!=null&&(l.expirationTimeSeconds=s.expirationTimeSeconds>>>0),s.publicKey!=null&&(typeof s.publicKey=="string"?I.base64.decode(s.publicKey,l.publicKey=I.newBuffer(I.base64.length(s.publicKey)),0):s.publicKey.length>=0&&(l.publicKey=s.publicKey)),s.systemId!=null&&(l.systemId=s.systemId>>>0),s.testDeviceDeprecated!=null&&(l.testDeviceDeprecated=!!s.testDeviceDeprecated),s.providerId!=null&&(l.providerId=String(s.providerId)),s.serviceTypes){if(!Array.isArray(s.serviceTypes))throw TypeError(".license_protocol.DrmCertificate.serviceTypes: array expected");l.serviceTypes=[];for(var d=0;d<s.serviceTypes.length;d+=1)switch(s.serviceTypes[d]){default:if(typeof s.serviceTypes[d]=="number"){l.serviceTypes[d]=s.serviceTypes[d];break}case"UNKNOWN_SERVICE_TYPE":case 0:l.serviceTypes[d]=0;break;case"LICENSE_SERVER_SDK":case 1:l.serviceTypes[d]=1;break;case"LICENSE_SERVER_PROXY_SDK":case 2:l.serviceTypes[d]=2;break;case"PROVISIONING_SDK":case 3:l.serviceTypes[d]=3;break;case"CAS_PROXY_SDK":case 4:l.serviceTypes[d]=4;break}}switch(s.algorithm){case"UNKNOWN_ALGORITHM":case 0:l.algorithm=0;break;default:if(typeof s.algorithm=="number"){l.algorithm=s.algorithm;break}break;case"RSA":case 1:l.algorithm=1;break;case"ECC_SECP256R1":case 2:l.algorithm=2;break;case"ECC_SECP384R1":case 3:l.algorithm=3;break;case"ECC_SECP521R1":case 4:l.algorithm=4;break}if(s.rotId!=null&&(typeof s.rotId=="string"?I.base64.decode(s.rotId,l.rotId=I.newBuffer(I.base64.length(s.rotId)),0):s.rotId.length>=0&&(l.rotId=s.rotId)),s.encryptionKey!=null){if(typeof s.encryptionKey!="object")throw TypeError(".license_protocol.DrmCertificate.encryptionKey: object expected");l.encryptionKey=x.license_protocol.DrmCertificate.EncryptionKey.fromObject(s.encryptionKey)}return l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.serviceTypes=[]),l.defaults&&(d.type=l.enums===String?"ROOT":0,l.bytes===String?d.serialNumber="":(d.serialNumber=[],l.bytes!==Array&&(d.serialNumber=I.newBuffer(d.serialNumber))),d.creationTimeSeconds=0,l.bytes===String?d.publicKey="":(d.publicKey=[],l.bytes!==Array&&(d.publicKey=I.newBuffer(d.publicKey))),d.systemId=0,d.testDeviceDeprecated=!1,d.providerId="",d.algorithm=l.enums===String?"RSA":1,l.bytes===String?d.rotId="":(d.rotId=[],l.bytes!==Array&&(d.rotId=I.newBuffer(d.rotId))),d.encryptionKey=null,d.expirationTimeSeconds=0),s.type!=null&&s.hasOwnProperty("type")&&(d.type=l.enums===String?x.license_protocol.DrmCertificate.Type[s.type]===void 0?s.type:x.license_protocol.DrmCertificate.Type[s.type]:s.type),s.serialNumber!=null&&s.hasOwnProperty("serialNumber")&&(d.serialNumber=l.bytes===String?I.base64.encode(s.serialNumber,0,s.serialNumber.length):l.bytes===Array?Array.prototype.slice.call(s.serialNumber):s.serialNumber),s.creationTimeSeconds!=null&&s.hasOwnProperty("creationTimeSeconds")&&(d.creationTimeSeconds=s.creationTimeSeconds),s.publicKey!=null&&s.hasOwnProperty("publicKey")&&(d.publicKey=l.bytes===String?I.base64.encode(s.publicKey,0,s.publicKey.length):l.bytes===Array?Array.prototype.slice.call(s.publicKey):s.publicKey),s.systemId!=null&&s.hasOwnProperty("systemId")&&(d.systemId=s.systemId),s.testDeviceDeprecated!=null&&s.hasOwnProperty("testDeviceDeprecated")&&(d.testDeviceDeprecated=s.testDeviceDeprecated),s.providerId!=null&&s.hasOwnProperty("providerId")&&(d.providerId=s.providerId),s.serviceTypes&&s.serviceTypes.length){d.serviceTypes=[];for(var v=0;v<s.serviceTypes.length;v+=1)d.serviceTypes[v]=l.enums===String?x.license_protocol.DrmCertificate.ServiceType[s.serviceTypes[v]]===void 0?s.serviceTypes[v]:x.license_protocol.DrmCertificate.ServiceType[s.serviceTypes[v]]:s.serviceTypes[v]}return s.algorithm!=null&&s.hasOwnProperty("algorithm")&&(d.algorithm=l.enums===String?x.license_protocol.DrmCertificate.Algorithm[s.algorithm]===void 0?s.algorithm:x.license_protocol.DrmCertificate.Algorithm[s.algorithm]:s.algorithm),s.rotId!=null&&s.hasOwnProperty("rotId")&&(d.rotId=l.bytes===String?I.base64.encode(s.rotId,0,s.rotId.length):l.bytes===Array?Array.prototype.slice.call(s.rotId):s.rotId),s.encryptionKey!=null&&s.hasOwnProperty("encryptionKey")&&(d.encryptionKey=x.license_protocol.DrmCertificate.EncryptionKey.toObject(s.encryptionKey,l)),s.expirationTimeSeconds!=null&&s.hasOwnProperty("expirationTimeSeconds")&&(d.expirationTimeSeconds=s.expirationTimeSeconds),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.DrmCertificate"},M.Type=function(){var h={},s=Object.create(h);return s[h[0]="ROOT"]=0,s[h[1]="DEVICE_MODEL"]=1,s[h[2]="DEVICE"]=2,s[h[3]="SERVICE"]=3,s[h[4]="PROVISIONER"]=4,s}(),M.ServiceType=function(){var h={},s=Object.create(h);return s[h[0]="UNKNOWN_SERVICE_TYPE"]=0,s[h[1]="LICENSE_SERVER_SDK"]=1,s[h[2]="LICENSE_SERVER_PROXY_SDK"]=2,s[h[3]="PROVISIONING_SDK"]=3,s[h[4]="CAS_PROXY_SDK"]=4,s}(),M.Algorithm=function(){var h={},s=Object.create(h);return s[h[0]="UNKNOWN_ALGORITHM"]=0,s[h[1]="RSA"]=1,s[h[2]="ECC_SECP256R1"]=2,s[h[3]="ECC_SECP384R1"]=3,s[h[4]="ECC_SECP521R1"]=4,s}(),M.EncryptionKey=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.publicKey=I.newBuffer([]),h.prototype.algorithm=1,h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.publicKey!=null&&Object.hasOwnProperty.call(l,"publicKey")&&d.uint32(10).bytes(l.publicKey),l.algorithm!=null&&Object.hasOwnProperty.call(l,"algorithm")&&d.uint32(16).int32(l.algorithm),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.DrmCertificate.EncryptionKey;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.publicKey=l.bytes();break}case 2:{A.algorithm=l.int32();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.publicKey!=null&&l.hasOwnProperty("publicKey")&&!(l.publicKey&&typeof l.publicKey.length=="number"||I.isString(l.publicKey)))return"publicKey: buffer expected";if(l.algorithm!=null&&l.hasOwnProperty("algorithm"))switch(l.algorithm){default:return"algorithm: enum value expected";case 0:case 1:case 2:case 3:case 4:break}return null},h.fromObject=function(l){if(l instanceof x.license_protocol.DrmCertificate.EncryptionKey)return l;var d=new x.license_protocol.DrmCertificate.EncryptionKey;switch(l.publicKey!=null&&(typeof l.publicKey=="string"?I.base64.decode(l.publicKey,d.publicKey=I.newBuffer(I.base64.length(l.publicKey)),0):l.publicKey.length>=0&&(d.publicKey=l.publicKey)),l.algorithm){case"UNKNOWN_ALGORITHM":case 0:d.algorithm=0;break;default:if(typeof l.algorithm=="number"){d.algorithm=l.algorithm;break}break;case"RSA":case 1:d.algorithm=1;break;case"ECC_SECP256R1":case 2:d.algorithm=2;break;case"ECC_SECP384R1":case 3:d.algorithm=3;break;case"ECC_SECP521R1":case 4:d.algorithm=4;break}return d},h.toObject=function(l,d){d||(d={});var v={};return d.defaults&&(d.bytes===String?v.publicKey="":(v.publicKey=[],d.bytes!==Array&&(v.publicKey=I.newBuffer(v.publicKey))),v.algorithm=d.enums===String?"RSA":1),l.publicKey!=null&&l.hasOwnProperty("publicKey")&&(v.publicKey=d.bytes===String?I.base64.encode(l.publicKey,0,l.publicKey.length):d.bytes===Array?Array.prototype.slice.call(l.publicKey):l.publicKey),l.algorithm!=null&&l.hasOwnProperty("algorithm")&&(v.algorithm=d.enums===String?x.license_protocol.DrmCertificate.Algorithm[l.algorithm]===void 0?l.algorithm:x.license_protocol.DrmCertificate.Algorithm[l.algorithm]:l.algorithm),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.DrmCertificate.EncryptionKey"},h}(),M}(),V.SignedDrmCertificate=function(){function M(h){if(h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.drmCertificate=I.newBuffer([]),M.prototype.signature=I.newBuffer([]),M.prototype.signer=null,M.prototype.hashAlgorithm=0,M.create=function(s){return new M(s)},M.encode=function(s,l){return l||(l=U.create()),s.drmCertificate!=null&&Object.hasOwnProperty.call(s,"drmCertificate")&&l.uint32(10).bytes(s.drmCertificate),s.signature!=null&&Object.hasOwnProperty.call(s,"signature")&&l.uint32(18).bytes(s.signature),s.signer!=null&&Object.hasOwnProperty.call(s,"signer")&&x.license_protocol.SignedDrmCertificate.encode(s.signer,l.uint32(26).fork()).ldelim(),s.hashAlgorithm!=null&&Object.hasOwnProperty.call(s,"hashAlgorithm")&&l.uint32(32).int32(s.hashAlgorithm),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.SignedDrmCertificate;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.drmCertificate=s.bytes();break}case 2:{v.signature=s.bytes();break}case 3:{v.signer=x.license_protocol.SignedDrmCertificate.decode(s,s.uint32());break}case 4:{v.hashAlgorithm=s.int32();break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.drmCertificate!=null&&s.hasOwnProperty("drmCertificate")&&!(s.drmCertificate&&typeof s.drmCertificate.length=="number"||I.isString(s.drmCertificate)))return"drmCertificate: buffer expected";if(s.signature!=null&&s.hasOwnProperty("signature")&&!(s.signature&&typeof s.signature.length=="number"||I.isString(s.signature)))return"signature: buffer expected";if(s.signer!=null&&s.hasOwnProperty("signer")){var l=x.license_protocol.SignedDrmCertificate.verify(s.signer);if(l)return"signer."+l}if(s.hashAlgorithm!=null&&s.hasOwnProperty("hashAlgorithm"))switch(s.hashAlgorithm){default:return"hashAlgorithm: enum value expected";case 0:case 1:case 2:case 3:break}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.SignedDrmCertificate)return s;var l=new x.license_protocol.SignedDrmCertificate;if(s.drmCertificate!=null&&(typeof s.drmCertificate=="string"?I.base64.decode(s.drmCertificate,l.drmCertificate=I.newBuffer(I.base64.length(s.drmCertificate)),0):s.drmCertificate.length>=0&&(l.drmCertificate=s.drmCertificate)),s.signature!=null&&(typeof s.signature=="string"?I.base64.decode(s.signature,l.signature=I.newBuffer(I.base64.length(s.signature)),0):s.signature.length>=0&&(l.signature=s.signature)),s.signer!=null){if(typeof s.signer!="object")throw TypeError(".license_protocol.SignedDrmCertificate.signer: object expected");l.signer=x.license_protocol.SignedDrmCertificate.fromObject(s.signer)}switch(s.hashAlgorithm){default:if(typeof s.hashAlgorithm=="number"){l.hashAlgorithm=s.hashAlgorithm;break}break;case"HASH_ALGORITHM_UNSPECIFIED":case 0:l.hashAlgorithm=0;break;case"HASH_ALGORITHM_SHA_1":case 1:l.hashAlgorithm=1;break;case"HASH_ALGORITHM_SHA_256":case 2:l.hashAlgorithm=2;break;case"HASH_ALGORITHM_SHA_384":case 3:l.hashAlgorithm=3;break}return l},M.toObject=function(s,l){l||(l={});var d={};return l.defaults&&(l.bytes===String?d.drmCertificate="":(d.drmCertificate=[],l.bytes!==Array&&(d.drmCertificate=I.newBuffer(d.drmCertificate))),l.bytes===String?d.signature="":(d.signature=[],l.bytes!==Array&&(d.signature=I.newBuffer(d.signature))),d.signer=null,d.hashAlgorithm=l.enums===String?"HASH_ALGORITHM_UNSPECIFIED":0),s.drmCertificate!=null&&s.hasOwnProperty("drmCertificate")&&(d.drmCertificate=l.bytes===String?I.base64.encode(s.drmCertificate,0,s.drmCertificate.length):l.bytes===Array?Array.prototype.slice.call(s.drmCertificate):s.drmCertificate),s.signature!=null&&s.hasOwnProperty("signature")&&(d.signature=l.bytes===String?I.base64.encode(s.signature,0,s.signature.length):l.bytes===Array?Array.prototype.slice.call(s.signature):s.signature),s.signer!=null&&s.hasOwnProperty("signer")&&(d.signer=x.license_protocol.SignedDrmCertificate.toObject(s.signer,l)),s.hashAlgorithm!=null&&s.hasOwnProperty("hashAlgorithm")&&(d.hashAlgorithm=l.enums===String?x.license_protocol.HashAlgorithmProto[s.hashAlgorithm]===void 0?s.hashAlgorithm:x.license_protocol.HashAlgorithmProto[s.hashAlgorithm]:s.hashAlgorithm),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.SignedDrmCertificate"},M}(),V.WidevinePsshData=function(){function M(h){if(this.keyIds=[],this.groupIds=[],this.entitledKeys=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.keyIds=I.emptyArray,M.prototype.contentId=I.newBuffer([]),M.prototype.cryptoPeriodIndex=0,M.prototype.protectionScheme=0,M.prototype.cryptoPeriodSeconds=0,M.prototype.type=0,M.prototype.keySequence=0,M.prototype.groupIds=I.emptyArray,M.prototype.entitledKeys=I.emptyArray,M.prototype.videoFeature="",M.prototype.algorithm=0,M.prototype.provider="",M.prototype.trackType="",M.prototype.policy="",M.prototype.groupedLicense=I.newBuffer([]),M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.algorithm!=null&&Object.hasOwnProperty.call(s,"algorithm")&&l.uint32(8).int32(s.algorithm),s.keyIds!=null&&s.keyIds.length)for(var d=0;d<s.keyIds.length;d+=1)l.uint32(18).bytes(s.keyIds[d]);if(s.provider!=null&&Object.hasOwnProperty.call(s,"provider")&&l.uint32(26).string(s.provider),s.contentId!=null&&Object.hasOwnProperty.call(s,"contentId")&&l.uint32(34).bytes(s.contentId),s.trackType!=null&&Object.hasOwnProperty.call(s,"trackType")&&l.uint32(42).string(s.trackType),s.policy!=null&&Object.hasOwnProperty.call(s,"policy")&&l.uint32(50).string(s.policy),s.cryptoPeriodIndex!=null&&Object.hasOwnProperty.call(s,"cryptoPeriodIndex")&&l.uint32(56).uint32(s.cryptoPeriodIndex),s.groupedLicense!=null&&Object.hasOwnProperty.call(s,"groupedLicense")&&l.uint32(66).bytes(s.groupedLicense),s.protectionScheme!=null&&Object.hasOwnProperty.call(s,"protectionScheme")&&l.uint32(72).uint32(s.protectionScheme),s.cryptoPeriodSeconds!=null&&Object.hasOwnProperty.call(s,"cryptoPeriodSeconds")&&l.uint32(80).uint32(s.cryptoPeriodSeconds),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&l.uint32(88).int32(s.type),s.keySequence!=null&&Object.hasOwnProperty.call(s,"keySequence")&&l.uint32(96).uint32(s.keySequence),s.groupIds!=null&&s.groupIds.length)for(var d=0;d<s.groupIds.length;d+=1)l.uint32(106).bytes(s.groupIds[d]);if(s.entitledKeys!=null&&s.entitledKeys.length)for(var d=0;d<s.entitledKeys.length;d+=1)x.license_protocol.WidevinePsshData.EntitledKey.encode(s.entitledKeys[d],l.uint32(114).fork()).ldelim();return s.videoFeature!=null&&Object.hasOwnProperty.call(s,"videoFeature")&&l.uint32(122).string(s.videoFeature),l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.WidevinePsshData;s.pos<d;){var A=s.uint32();switch(A>>>3){case 2:{v.keyIds&&v.keyIds.length||(v.keyIds=[]),v.keyIds.push(s.bytes());break}case 4:{v.contentId=s.bytes();break}case 7:{v.cryptoPeriodIndex=s.uint32();break}case 9:{v.protectionScheme=s.uint32();break}case 10:{v.cryptoPeriodSeconds=s.uint32();break}case 11:{v.type=s.int32();break}case 12:{v.keySequence=s.uint32();break}case 13:{v.groupIds&&v.groupIds.length||(v.groupIds=[]),v.groupIds.push(s.bytes());break}case 14:{v.entitledKeys&&v.entitledKeys.length||(v.entitledKeys=[]),v.entitledKeys.push(x.license_protocol.WidevinePsshData.EntitledKey.decode(s,s.uint32()));break}case 15:{v.videoFeature=s.string();break}case 1:{v.algorithm=s.int32();break}case 3:{v.provider=s.string();break}case 5:{v.trackType=s.string();break}case 6:{v.policy=s.string();break}case 8:{v.groupedLicense=s.bytes();break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.keyIds!=null&&s.hasOwnProperty("keyIds")){if(!Array.isArray(s.keyIds))return"keyIds: array expected";for(var l=0;l<s.keyIds.length;l+=1)if(!(s.keyIds[l]&&typeof s.keyIds[l].length=="number"||I.isString(s.keyIds[l])))return"keyIds: buffer[] expected"}if(s.contentId!=null&&s.hasOwnProperty("contentId")&&!(s.contentId&&typeof s.contentId.length=="number"||I.isString(s.contentId)))return"contentId: buffer expected";if(s.cryptoPeriodIndex!=null&&s.hasOwnProperty("cryptoPeriodIndex")&&!I.isInteger(s.cryptoPeriodIndex))return"cryptoPeriodIndex: integer expected";if(s.protectionScheme!=null&&s.hasOwnProperty("protectionScheme")&&!I.isInteger(s.protectionScheme))return"protectionScheme: integer expected";if(s.cryptoPeriodSeconds!=null&&s.hasOwnProperty("cryptoPeriodSeconds")&&!I.isInteger(s.cryptoPeriodSeconds))return"cryptoPeriodSeconds: integer expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 0:case 1:case 2:break}if(s.keySequence!=null&&s.hasOwnProperty("keySequence")&&!I.isInteger(s.keySequence))return"keySequence: integer expected";if(s.groupIds!=null&&s.hasOwnProperty("groupIds")){if(!Array.isArray(s.groupIds))return"groupIds: array expected";for(var l=0;l<s.groupIds.length;l+=1)if(!(s.groupIds[l]&&typeof s.groupIds[l].length=="number"||I.isString(s.groupIds[l])))return"groupIds: buffer[] expected"}if(s.entitledKeys!=null&&s.hasOwnProperty("entitledKeys")){if(!Array.isArray(s.entitledKeys))return"entitledKeys: array expected";for(var l=0;l<s.entitledKeys.length;l+=1){var d=x.license_protocol.WidevinePsshData.EntitledKey.verify(s.entitledKeys[l]);if(d)return"entitledKeys."+d}}if(s.videoFeature!=null&&s.hasOwnProperty("videoFeature")&&!I.isString(s.videoFeature))return"videoFeature: string expected";if(s.algorithm!=null&&s.hasOwnProperty("algorithm"))switch(s.algorithm){default:return"algorithm: enum value expected";case 0:case 1:break}return s.provider!=null&&s.hasOwnProperty("provider")&&!I.isString(s.provider)?"provider: string expected":s.trackType!=null&&s.hasOwnProperty("trackType")&&!I.isString(s.trackType)?"trackType: string expected":s.policy!=null&&s.hasOwnProperty("policy")&&!I.isString(s.policy)?"policy: string expected":s.groupedLicense!=null&&s.hasOwnProperty("groupedLicense")&&!(s.groupedLicense&&typeof s.groupedLicense.length=="number"||I.isString(s.groupedLicense))?"groupedLicense: buffer expected":null},M.fromObject=function(s){if(s instanceof x.license_protocol.WidevinePsshData)return s;var l=new x.license_protocol.WidevinePsshData;if(s.keyIds){if(!Array.isArray(s.keyIds))throw TypeError(".license_protocol.WidevinePsshData.keyIds: array expected");l.keyIds=[];for(var d=0;d<s.keyIds.length;d+=1)typeof s.keyIds[d]=="string"?I.base64.decode(s.keyIds[d],l.keyIds[d]=I.newBuffer(I.base64.length(s.keyIds[d])),0):s.keyIds[d].length>=0&&(l.keyIds[d]=s.keyIds[d])}switch(s.contentId!=null&&(typeof s.contentId=="string"?I.base64.decode(s.contentId,l.contentId=I.newBuffer(I.base64.length(s.contentId)),0):s.contentId.length>=0&&(l.contentId=s.contentId)),s.cryptoPeriodIndex!=null&&(l.cryptoPeriodIndex=s.cryptoPeriodIndex>>>0),s.protectionScheme!=null&&(l.protectionScheme=s.protectionScheme>>>0),s.cryptoPeriodSeconds!=null&&(l.cryptoPeriodSeconds=s.cryptoPeriodSeconds>>>0),s.type){default:if(typeof s.type=="number"){l.type=s.type;break}break;case"SINGLE":case 0:l.type=0;break;case"ENTITLEMENT":case 1:l.type=1;break;case"ENTITLED_KEY":case 2:l.type=2;break}if(s.keySequence!=null&&(l.keySequence=s.keySequence>>>0),s.groupIds){if(!Array.isArray(s.groupIds))throw TypeError(".license_protocol.WidevinePsshData.groupIds: array expected");l.groupIds=[];for(var d=0;d<s.groupIds.length;d+=1)typeof s.groupIds[d]=="string"?I.base64.decode(s.groupIds[d],l.groupIds[d]=I.newBuffer(I.base64.length(s.groupIds[d])),0):s.groupIds[d].length>=0&&(l.groupIds[d]=s.groupIds[d])}if(s.entitledKeys){if(!Array.isArray(s.entitledKeys))throw TypeError(".license_protocol.WidevinePsshData.entitledKeys: array expected");l.entitledKeys=[];for(var d=0;d<s.entitledKeys.length;d+=1){if(typeof s.entitledKeys[d]!="object")throw TypeError(".license_protocol.WidevinePsshData.entitledKeys: object expected");l.entitledKeys[d]=x.license_protocol.WidevinePsshData.EntitledKey.fromObject(s.entitledKeys[d])}}switch(s.videoFeature!=null&&(l.videoFeature=String(s.videoFeature)),s.algorithm){default:if(typeof s.algorithm=="number"){l.algorithm=s.algorithm;break}break;case"UNENCRYPTED":case 0:l.algorithm=0;break;case"AESCTR":case 1:l.algorithm=1;break}return s.provider!=null&&(l.provider=String(s.provider)),s.trackType!=null&&(l.trackType=String(s.trackType)),s.policy!=null&&(l.policy=String(s.policy)),s.groupedLicense!=null&&(typeof s.groupedLicense=="string"?I.base64.decode(s.groupedLicense,l.groupedLicense=I.newBuffer(I.base64.length(s.groupedLicense)),0):s.groupedLicense.length>=0&&(l.groupedLicense=s.groupedLicense)),l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.keyIds=[],d.groupIds=[],d.entitledKeys=[]),l.defaults&&(d.algorithm=l.enums===String?"UNENCRYPTED":0,d.provider="",l.bytes===String?d.contentId="":(d.contentId=[],l.bytes!==Array&&(d.contentId=I.newBuffer(d.contentId))),d.trackType="",d.policy="",d.cryptoPeriodIndex=0,l.bytes===String?d.groupedLicense="":(d.groupedLicense=[],l.bytes!==Array&&(d.groupedLicense=I.newBuffer(d.groupedLicense))),d.protectionScheme=0,d.cryptoPeriodSeconds=0,d.type=l.enums===String?"SINGLE":0,d.keySequence=0,d.videoFeature=""),s.algorithm!=null&&s.hasOwnProperty("algorithm")&&(d.algorithm=l.enums===String?x.license_protocol.WidevinePsshData.Algorithm[s.algorithm]===void 0?s.algorithm:x.license_protocol.WidevinePsshData.Algorithm[s.algorithm]:s.algorithm),s.keyIds&&s.keyIds.length){d.keyIds=[];for(var v=0;v<s.keyIds.length;v+=1)d.keyIds[v]=l.bytes===String?I.base64.encode(s.keyIds[v],0,s.keyIds[v].length):l.bytes===Array?Array.prototype.slice.call(s.keyIds[v]):s.keyIds[v]}if(s.provider!=null&&s.hasOwnProperty("provider")&&(d.provider=s.provider),s.contentId!=null&&s.hasOwnProperty("contentId")&&(d.contentId=l.bytes===String?I.base64.encode(s.contentId,0,s.contentId.length):l.bytes===Array?Array.prototype.slice.call(s.contentId):s.contentId),s.trackType!=null&&s.hasOwnProperty("trackType")&&(d.trackType=s.trackType),s.policy!=null&&s.hasOwnProperty("policy")&&(d.policy=s.policy),s.cryptoPeriodIndex!=null&&s.hasOwnProperty("cryptoPeriodIndex")&&(d.cryptoPeriodIndex=s.cryptoPeriodIndex),s.groupedLicense!=null&&s.hasOwnProperty("groupedLicense")&&(d.groupedLicense=l.bytes===String?I.base64.encode(s.groupedLicense,0,s.groupedLicense.length):l.bytes===Array?Array.prototype.slice.call(s.groupedLicense):s.groupedLicense),s.protectionScheme!=null&&s.hasOwnProperty("protectionScheme")&&(d.protectionScheme=s.protectionScheme),s.cryptoPeriodSeconds!=null&&s.hasOwnProperty("cryptoPeriodSeconds")&&(d.cryptoPeriodSeconds=s.cryptoPeriodSeconds),s.type!=null&&s.hasOwnProperty("type")&&(d.type=l.enums===String?x.license_protocol.WidevinePsshData.Type[s.type]===void 0?s.type:x.license_protocol.WidevinePsshData.Type[s.type]:s.type),s.keySequence!=null&&s.hasOwnProperty("keySequence")&&(d.keySequence=s.keySequence),s.groupIds&&s.groupIds.length){d.groupIds=[];for(var v=0;v<s.groupIds.length;v+=1)d.groupIds[v]=l.bytes===String?I.base64.encode(s.groupIds[v],0,s.groupIds[v].length):l.bytes===Array?Array.prototype.slice.call(s.groupIds[v]):s.groupIds[v]}if(s.entitledKeys&&s.entitledKeys.length){d.entitledKeys=[];for(var v=0;v<s.entitledKeys.length;v+=1)d.entitledKeys[v]=x.license_protocol.WidevinePsshData.EntitledKey.toObject(s.entitledKeys[v],l)}return s.videoFeature!=null&&s.hasOwnProperty("videoFeature")&&(d.videoFeature=s.videoFeature),d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.WidevinePsshData"},M.Type=function(){var h={},s=Object.create(h);return s[h[0]="SINGLE"]=0,s[h[1]="ENTITLEMENT"]=1,s[h[2]="ENTITLED_KEY"]=2,s}(),M.EntitledKey=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.entitlementKeyId=I.newBuffer([]),h.prototype.keyId=I.newBuffer([]),h.prototype.key=I.newBuffer([]),h.prototype.iv=I.newBuffer([]),h.prototype.entitlementKeySizeBytes=32,h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.entitlementKeyId!=null&&Object.hasOwnProperty.call(l,"entitlementKeyId")&&d.uint32(10).bytes(l.entitlementKeyId),l.keyId!=null&&Object.hasOwnProperty.call(l,"keyId")&&d.uint32(18).bytes(l.keyId),l.key!=null&&Object.hasOwnProperty.call(l,"key")&&d.uint32(26).bytes(l.key),l.iv!=null&&Object.hasOwnProperty.call(l,"iv")&&d.uint32(34).bytes(l.iv),l.entitlementKeySizeBytes!=null&&Object.hasOwnProperty.call(l,"entitlementKeySizeBytes")&&d.uint32(40).uint32(l.entitlementKeySizeBytes),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.WidevinePsshData.EntitledKey;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.entitlementKeyId=l.bytes();break}case 2:{A.keyId=l.bytes();break}case 3:{A.key=l.bytes();break}case 4:{A.iv=l.bytes();break}case 5:{A.entitlementKeySizeBytes=l.uint32();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){return typeof l!="object"||l===null?"object expected":l.entitlementKeyId!=null&&l.hasOwnProperty("entitlementKeyId")&&!(l.entitlementKeyId&&typeof l.entitlementKeyId.length=="number"||I.isString(l.entitlementKeyId))?"entitlementKeyId: buffer expected":l.keyId!=null&&l.hasOwnProperty("keyId")&&!(l.keyId&&typeof l.keyId.length=="number"||I.isString(l.keyId))?"keyId: buffer expected":l.key!=null&&l.hasOwnProperty("key")&&!(l.key&&typeof l.key.length=="number"||I.isString(l.key))?"key: buffer expected":l.iv!=null&&l.hasOwnProperty("iv")&&!(l.iv&&typeof l.iv.length=="number"||I.isString(l.iv))?"iv: buffer expected":l.entitlementKeySizeBytes!=null&&l.hasOwnProperty("entitlementKeySizeBytes")&&!I.isInteger(l.entitlementKeySizeBytes)?"entitlementKeySizeBytes: integer expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.WidevinePsshData.EntitledKey)return l;var d=new x.license_protocol.WidevinePsshData.EntitledKey;return l.entitlementKeyId!=null&&(typeof l.entitlementKeyId=="string"?I.base64.decode(l.entitlementKeyId,d.entitlementKeyId=I.newBuffer(I.base64.length(l.entitlementKeyId)),0):l.entitlementKeyId.length>=0&&(d.entitlementKeyId=l.entitlementKeyId)),l.keyId!=null&&(typeof l.keyId=="string"?I.base64.decode(l.keyId,d.keyId=I.newBuffer(I.base64.length(l.keyId)),0):l.keyId.length>=0&&(d.keyId=l.keyId)),l.key!=null&&(typeof l.key=="string"?I.base64.decode(l.key,d.key=I.newBuffer(I.base64.length(l.key)),0):l.key.length>=0&&(d.key=l.key)),l.iv!=null&&(typeof l.iv=="string"?I.base64.decode(l.iv,d.iv=I.newBuffer(I.base64.length(l.iv)),0):l.iv.length>=0&&(d.iv=l.iv)),l.entitlementKeySizeBytes!=null&&(d.entitlementKeySizeBytes=l.entitlementKeySizeBytes>>>0),d},h.toObject=function(l,d){d||(d={});var v={};return d.defaults&&(d.bytes===String?v.entitlementKeyId="":(v.entitlementKeyId=[],d.bytes!==Array&&(v.entitlementKeyId=I.newBuffer(v.entitlementKeyId))),d.bytes===String?v.keyId="":(v.keyId=[],d.bytes!==Array&&(v.keyId=I.newBuffer(v.keyId))),d.bytes===String?v.key="":(v.key=[],d.bytes!==Array&&(v.key=I.newBuffer(v.key))),d.bytes===String?v.iv="":(v.iv=[],d.bytes!==Array&&(v.iv=I.newBuffer(v.iv))),v.entitlementKeySizeBytes=32),l.entitlementKeyId!=null&&l.hasOwnProperty("entitlementKeyId")&&(v.entitlementKeyId=d.bytes===String?I.base64.encode(l.entitlementKeyId,0,l.entitlementKeyId.length):d.bytes===Array?Array.prototype.slice.call(l.entitlementKeyId):l.entitlementKeyId),l.keyId!=null&&l.hasOwnProperty("keyId")&&(v.keyId=d.bytes===String?I.base64.encode(l.keyId,0,l.keyId.length):d.bytes===Array?Array.prototype.slice.call(l.keyId):l.keyId),l.key!=null&&l.hasOwnProperty("key")&&(v.key=d.bytes===String?I.base64.encode(l.key,0,l.key.length):d.bytes===Array?Array.prototype.slice.call(l.key):l.key),l.iv!=null&&l.hasOwnProperty("iv")&&(v.iv=d.bytes===String?I.base64.encode(l.iv,0,l.iv.length):d.bytes===Array?Array.prototype.slice.call(l.iv):l.iv),l.entitlementKeySizeBytes!=null&&l.hasOwnProperty("entitlementKeySizeBytes")&&(v.entitlementKeySizeBytes=l.entitlementKeySizeBytes),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.WidevinePsshData.EntitledKey"},h}(),M.Algorithm=function(){var h={},s=Object.create(h);return s[h[0]="UNENCRYPTED"]=0,s[h[1]="AESCTR"]=1,s}(),M}(),V.FileHashes=function(){function M(h){if(this.signatures=[],h)for(var s=Object.keys(h),l=0;l<s.length;l+=1)h[s[l]]!=null&&(this[s[l]]=h[s[l]])}return M.prototype.signer=I.newBuffer([]),M.prototype.signatures=I.emptyArray,M.create=function(s){return new M(s)},M.encode=function(s,l){if(l||(l=U.create()),s.signer!=null&&Object.hasOwnProperty.call(s,"signer")&&l.uint32(10).bytes(s.signer),s.signatures!=null&&s.signatures.length)for(var d=0;d<s.signatures.length;d+=1)x.license_protocol.FileHashes.Signature.encode(s.signatures[d],l.uint32(18).fork()).ldelim();return l},M.encodeDelimited=function(s,l){return this.encode(s,l).ldelim()},M.decode=function(s,l){s instanceof N||(s=N.create(s));for(var d=l===void 0?s.len:s.pos+l,v=new x.license_protocol.FileHashes;s.pos<d;){var A=s.uint32();switch(A>>>3){case 1:{v.signer=s.bytes();break}case 2:{v.signatures&&v.signatures.length||(v.signatures=[]),v.signatures.push(x.license_protocol.FileHashes.Signature.decode(s,s.uint32()));break}default:s.skipType(A&7);break}}return v},M.decodeDelimited=function(s){return s instanceof N||(s=new N(s)),this.decode(s,s.uint32())},M.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.signer!=null&&s.hasOwnProperty("signer")&&!(s.signer&&typeof s.signer.length=="number"||I.isString(s.signer)))return"signer: buffer expected";if(s.signatures!=null&&s.hasOwnProperty("signatures")){if(!Array.isArray(s.signatures))return"signatures: array expected";for(var l=0;l<s.signatures.length;l+=1){var d=x.license_protocol.FileHashes.Signature.verify(s.signatures[l]);if(d)return"signatures."+d}}return null},M.fromObject=function(s){if(s instanceof x.license_protocol.FileHashes)return s;var l=new x.license_protocol.FileHashes;if(s.signer!=null&&(typeof s.signer=="string"?I.base64.decode(s.signer,l.signer=I.newBuffer(I.base64.length(s.signer)),0):s.signer.length>=0&&(l.signer=s.signer)),s.signatures){if(!Array.isArray(s.signatures))throw TypeError(".license_protocol.FileHashes.signatures: array expected");l.signatures=[];for(var d=0;d<s.signatures.length;d+=1){if(typeof s.signatures[d]!="object")throw TypeError(".license_protocol.FileHashes.signatures: object expected");l.signatures[d]=x.license_protocol.FileHashes.Signature.fromObject(s.signatures[d])}}return l},M.toObject=function(s,l){l||(l={});var d={};if((l.arrays||l.defaults)&&(d.signatures=[]),l.defaults&&(l.bytes===String?d.signer="":(d.signer=[],l.bytes!==Array&&(d.signer=I.newBuffer(d.signer))),s.signer!=null&&s.hasOwnProperty("signer")&&(d.signer=l.bytes===String?I.base64.encode(s.signer,0,s.signer.length):l.bytes===Array?Array.prototype.slice.call(s.signer):s.signer)),s.signatures&&s.signatures.length){d.signatures=[];for(var v=0;v<s.signatures.length;v+=1)d.signatures[v]=x.license_protocol.FileHashes.Signature.toObject(s.signatures[v],l)}return d},M.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},M.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/license_protocol.FileHashes"},M.Signature=function(){function h(s){if(s)for(var l=Object.keys(s),d=0;d<l.length;d+=1)s[l[d]]!=null&&(this[l[d]]=s[l[d]])}return h.prototype.filename="",h.prototype.testSigning=!1,h.prototype.SHA512Hash=I.newBuffer([]),h.prototype.mainExe=!1,h.prototype.signature=I.newBuffer([]),h.create=function(l){return new h(l)},h.encode=function(l,d){return d||(d=U.create()),l.filename!=null&&Object.hasOwnProperty.call(l,"filename")&&d.uint32(10).string(l.filename),l.testSigning!=null&&Object.hasOwnProperty.call(l,"testSigning")&&d.uint32(16).bool(l.testSigning),l.SHA512Hash!=null&&Object.hasOwnProperty.call(l,"SHA512Hash")&&d.uint32(26).bytes(l.SHA512Hash),l.mainExe!=null&&Object.hasOwnProperty.call(l,"mainExe")&&d.uint32(32).bool(l.mainExe),l.signature!=null&&Object.hasOwnProperty.call(l,"signature")&&d.uint32(42).bytes(l.signature),d},h.encodeDelimited=function(l,d){return this.encode(l,d).ldelim()},h.decode=function(l,d){l instanceof N||(l=N.create(l));for(var v=d===void 0?l.len:l.pos+d,A=new x.license_protocol.FileHashes.Signature;l.pos<v;){var Y=l.uint32();switch(Y>>>3){case 1:{A.filename=l.string();break}case 2:{A.testSigning=l.bool();break}case 3:{A.SHA512Hash=l.bytes();break}case 4:{A.mainExe=l.bool();break}case 5:{A.signature=l.bytes();break}default:l.skipType(Y&7);break}}return A},h.decodeDelimited=function(l){return l instanceof N||(l=new N(l)),this.decode(l,l.uint32())},h.verify=function(l){return typeof l!="object"||l===null?"object expected":l.filename!=null&&l.hasOwnProperty("filename")&&!I.isString(l.filename)?"filename: string expected":l.testSigning!=null&&l.hasOwnProperty("testSigning")&&typeof l.testSigning!="boolean"?"testSigning: boolean expected":l.SHA512Hash!=null&&l.hasOwnProperty("SHA512Hash")&&!(l.SHA512Hash&&typeof l.SHA512Hash.length=="number"||I.isString(l.SHA512Hash))?"SHA512Hash: buffer expected":l.mainExe!=null&&l.hasOwnProperty("mainExe")&&typeof l.mainExe!="boolean"?"mainExe: boolean expected":l.signature!=null&&l.hasOwnProperty("signature")&&!(l.signature&&typeof l.signature.length=="number"||I.isString(l.signature))?"signature: buffer expected":null},h.fromObject=function(l){if(l instanceof x.license_protocol.FileHashes.Signature)return l;var d=new x.license_protocol.FileHashes.Signature;return l.filename!=null&&(d.filename=String(l.filename)),l.testSigning!=null&&(d.testSigning=!!l.testSigning),l.SHA512Hash!=null&&(typeof l.SHA512Hash=="string"?I.base64.decode(l.SHA512Hash,d.SHA512Hash=I.newBuffer(I.base64.length(l.SHA512Hash)),0):l.SHA512Hash.length>=0&&(d.SHA512Hash=l.SHA512Hash)),l.mainExe!=null&&(d.mainExe=!!l.mainExe),l.signature!=null&&(typeof l.signature=="string"?I.base64.decode(l.signature,d.signature=I.newBuffer(I.base64.length(l.signature)),0):l.signature.length>=0&&(d.signature=l.signature)),d},h.toObject=function(l,d){d||(d={});var v={};return d.defaults&&(v.filename="",v.testSigning=!1,d.bytes===String?v.SHA512Hash="":(v.SHA512Hash=[],d.bytes!==Array&&(v.SHA512Hash=I.newBuffer(v.SHA512Hash))),v.mainExe=!1,d.bytes===String?v.signature="":(v.signature=[],d.bytes!==Array&&(v.signature=I.newBuffer(v.signature)))),l.filename!=null&&l.hasOwnProperty("filename")&&(v.filename=l.filename),l.testSigning!=null&&l.hasOwnProperty("testSigning")&&(v.testSigning=l.testSigning),l.SHA512Hash!=null&&l.hasOwnProperty("SHA512Hash")&&(v.SHA512Hash=d.bytes===String?I.base64.encode(l.SHA512Hash,0,l.SHA512Hash.length):d.bytes===Array?Array.prototype.slice.call(l.SHA512Hash):l.SHA512Hash),l.mainExe!=null&&l.hasOwnProperty("mainExe")&&(v.mainExe=l.mainExe),l.signature!=null&&l.hasOwnProperty("signature")&&(v.signature=d.bytes===String?I.base64.encode(l.signature,0,l.signature.length):d.bytes===Array?Array.prototype.slice.call(l.signature):l.signature),v},h.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},h.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/license_protocol.FileHashes.Signature"},h}(),M}(),V}(),x})(protobuf);const{SignedMessage:g3,LicenseRequest:v3}=protobuf.roots.default.license_protocol;function w2(b){const N=Array.from(b).map(U=>String.fromCharCode(U)).join("");return btoa(N)}function m3(b){b=b.replace(/^await\s+/,"");const N=/fetch\(['"](.+?)['"],\s*(\{.+?\})\)/s;b.split(`
`).map(M=>M.trim()).filter(Boolean);const U={method:"UNDEFINED",url:"",headers:{},body:null},I=b.match(N);if(!I)throw console.log(b),new Error("Invalid 'Copy as fetch' string.");U.url=I[1];const x=I[2],V=JSON.parse(x);return V.method&&(U.method=V.method),V.headers&&(U.headers=V.headers),V.body&&(U.body=V.body),U}const S3=new Uint8Array([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),w3=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),T3=new Uint8Array([112,115,115,104]);function O0(b,N){const U=new ArrayBuffer(4);return new DataView(U).setUint32(0,b,N),new Uint8Array(U)}function k0(b,N){const U=new ArrayBuffer(2);return new DataView(U).setUint16(0,b,N),new Uint8Array(U)}function r2(b,N){const U=b.length,I=U+32,x=new Uint8Array([...O0(I,!1),...T3,...new Uint8Array(4),...N,...O0(U,!1),...b]);return w2(x)}function x3(b){const N=new Uint8Array([...k0(1,!0),...k0(b.length,!0),...b]);return new Uint8Array([...O0(N.length+2+4,!0),...k0(1,!0),...N])}function I3(b){const N=new Uint8Array(b.length*2);for(let U=0;U<b.length;U++){const I=b.charCodeAt(U);N[U*2]=I&255,N[U*2+1]=I>>8}return N}function E3(b){return Uint8Array.from(b.split("").map(N=>N.charCodeAt()))}async function C3(){try{const b=await navigator.clipboard.readText(),N=m3(b);let U,I;if(N.body.startsWith("<")){I=N.body;const x=I.match(/.*(<WRMHEADER.*<\/WRMHEADER>).*/),V=x?x[1]:null,M=I3(V),h=x3(M);U=r2(h,w3)}else{const x=E3(N.body);let V,M;try{V=g3.decode(x),M=v3.decode(V.msg)}catch(h){console.error("Decoding failed, returning empty pssh",h),U=""}if(M&&M.contentId&&M.contentId.widevinePsshData){const h=M.contentId.widevinePsshData.psshData[0];U=r2(h,S3)}k3(x)?I=w2(x):I=N.body}document.getElementById("licurl").value=N.url,document.getElementById("headers").value=JSON.stringify(N.headers),document.getElementById("pssh").value=U,document.getElementById("data").value=I}catch(b){console.error("Failed to read clipboard contents:",b)}}function k3(b){return b.some(N=>N>127)}function A3(){const[b,N]=we.useState(""),[U,I]=we.useState(!1),x=()=>{let l=document.getElementById("main_content");l.scrollTop=0},V=l=>{let d=document.getElementById("messageresults").innerHTML;d=d.replace(/<br\s*\/?>/gi,`
`),navigator.clipboard.writeText(d),console.log(d)},M=l=>{l.preventDefault()},h=l=>{let d=document.getElementById("pssh").value,v=document.getElementById("licurl").value,A=document.getElementById("headers").value,Y=document.getElementById("cookies").value,T=document.getElementById("data").value;fetch("/api/decrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pssh:d,licurl:v,headers:A,cookies:Y,data:T})}).then(te=>te.json()).then(te=>{const se=te.message.replace(/\n/g,"<br />");N(se),I(!0)}).catch(te=>{console.error("Error during decryption request:",te),N("Error: Unable to process request."),I(!0)})},s=l=>{let d=document.getElementById("pssh"),v=document.getElementById("licurl"),A=document.getElementById("headers"),Y=document.getElementById("cookies"),T=document.getElementById("data");d.value="",v.value="",A.value="",Y.value="",T.value="",N(""),I(!1)};return we.useEffect(()=>{if(U){let l=document.getElementById("main_content");l.scrollTop=l.scrollHeight}},[b,U]),ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"w-full min-h-full bg-zinc-900 flex flex-col items-center justify-center",children:ge.jsxs("form",{className:"flex flex-col w-8/10 min-h-8/10 bg-[rgba(0,0,0,0.2)] p-10 border-black border-1 rounded-xl shadow-lg shadow-cyan-500/50 overflow-y-auto",onSubmit:M,children:[ge.jsx("label",{htmlFor:"pssh",className:"text-white mb-1",children:"PSSH:"}),ge.jsx("input",{type:"text",id:"pssh",name:"pssh",className:"text-white bg-[rgba(0,0,0,0.2)] focus:outline-none rounded focus:shadow-sm focus:shadow-cyan-500/50 transition-shadow duration-300 ease-in-out p-2"}),ge.jsx("label",{htmlFor:"licurl",className:"text-white mb-1 mt-1",children:"License URL:"}),ge.jsx("input",{type:"text",id:"licurl",name:"licurl",className:"text-white bg-[rgba(0,0,0,0.2)] focus:outline-none rounded focus:shadow-sm focus:shadow-cyan-500/50 transition-shadow duration-300 ease-in-out p-2"}),ge.jsx("label",{htmlFor:"headers",className:"text-white mb-1 mt-1",children:"Headers:"}),ge.jsx("textarea",{id:"headers",name:"headers",className:"text-white bg-[rgba(0,0,0,0.2)] h-24 focus:h-92 focus:outline-none rounded focus:shadow-sm focus:shadow-cyan-500/50 transition-all duration-300 ease-in-out p-2 resize-none"}),ge.jsx("label",{htmlFor:"cookies",className:"text-white mb-1 mt-1",children:"Cookies:"}),ge.jsx("textarea",{id:"cookies",name:"cookies",className:"text-white bg-[rgba(0,0,0,0.2)] h-24 focus:h-92 focus:outline-none rounded focus:shadow-sm focus:shadow-cyan-500/50 transition-all duration-300 ease-in-out p-2 resize-none"}),ge.jsx("label",{htmlFor:"data",className:"text-white mb-1 mt-1",children:"Data:"}),ge.jsx("textarea",{id:"data",name:"data",className:"text-white bg-[rgba(0,0,0,0.2)] h-24 focus:h-92 focus:outline-none rounded focus:shadow-sm focus:shadow-cyan-500/50 transition-all duration-300 ease-in-out p-2 resize-none"}),ge.jsxs("div",{className:"flex flex-row w-full justify-evenly mt-5 mb-5",children:[ge.jsx("button",{type:"button",onClick:h,className:"bg-cyan-500 text-white rounded p-2 hover:bg-cyan-600 transition-colors duration-300 ease-in-out w-1/6 cursor-pointer active:transform active:scale-95 overflow-x-hidden overflow-y-hidden",children:"Submit"}),ge.jsx("button",{type:"button",onClick:C3,className:"bg-yellow-500 text-white rounded p-2 hover:bg-yellow-600 transition-colors duration-300 ease-in-out w-1/6 cursor-pointer active:transform active:scale-95 overflow-x-hidden overflow-y-hidden",children:"Paste from fetch"}),ge.jsx("button",{type:"button",onClick:s,className:"bg-red-500 text-white rounded p-2 hover:bg-red-600 transition-colors duration-300 ease-in-out w-1/6 cursor-pointer active:transform active:scale-95 overflow-x-hidden overflow-y-hidden",children:"Reset"})]})]})}),U&&ge.jsx("div",{className:"w-full min-h-full h-full bg-zinc-900 flex flex-col items-center justify-center",children:ge.jsxs("div",{className:"w-8/10 min-h-8/10 flex flex-col bg-[rgba(0,0,0,0.2)] items-center p-10 border-black border-1 rounded-xl shadow-lg shadow-cyan-500/50 overflow-y-auto",children:[ge.jsx("p",{className:"w-full text-center text-white text-2xl overflow-hidden mb-10 pb-2 border-b",children:"Results:"}),ge.jsx("p",{id:"messageresults",className:"w-8/10 h-6/10 text-center text-white text-2xl overflow-hidden bg-[rgba(0,0,0,0.2)] rounded-xl p-5",dangerouslySetInnerHTML:{__html:b}}),ge.jsxs("div",{className:"w-full h-1/10 flex justify-evenly mt-5 , mb-5",children:[ge.jsx("button",{type:"button",onClick:V,className:"bg-green-500 text-white rounded p-2 hover:bg-green-600 transition-colors duration-300 ease-in-out min-w-1/6 w-1/6 min-h-4/6 h-4/6 cursor-pointer active:transform active:scale-95 overflow-x-hidden overflow-y-hidden",children:"Copy"}),ge.jsx("button",{type:"button",onClick:x,className:"bg-yellow-600 text-white rounded p-2 hover:bg-yellow-700 transition-colors duration-300 ease-in-out min-w-1/6 w-1/6 min-h-4/6 h-4/6 cursor-pointer active:transform active:scale-95 overflow-x-hidden overflow-y-hidden",children:"Back to top"})]})]})})]})}const{protocol:R0,hostname:P3,port:bg}=window.location;let lh=`${R0}//${P3}`;(R0==="http:"&&bg!=="80"||R0==="https:"&&bg!=="443"&&bg!=="")&&(lh+=`:${bg}`);function D3(){const[b,N]=we.useState({device_type:"",system_id:"",security_level:"",host:"",secret:"",device_name:""});return we.useEffect(()=>{fetch("/remotecdm/widevine/deviceinfo").then(U=>U.json()).then(U=>{N({device_type:U.device_type,system_id:U.system_id,security_level:U.security_level,host:U.host,secret:U.secret,device_name:U.device_name})}).catch(U=>console.error("Error fetching device info:",U))},[]),ge.jsx(ge.Fragment,{children:ge.jsxs("div",{className:"min-w-full w-full min-h-full overflow-x-auto bg-zinc-900 shadow-lg shadow-black flex flex-col flex-wrap p-10 justify-around",children:[ge.jsxs("details",{open:!0,className:"p-5 mb-5 border shadow-lg shadow-black overflow-y-auto",children:[ge.jsxs("summary",{className:"bg-[rgba(0,0,0,0.2)] p-2 rounded text-white flex shadow-purple-900 shadow-sm",children:["Sending a decryption request | ","(Python)"]}),ge.jsx("br",{}),ge.jsx("div",{className:"h-9/10 bg-[rgba(0,0,0,0.2)] p-2 rounded text-white shadow-sm shadow-purple-900 w-full overflow-x-auto overflow-y-auto",children:ge.jsx("pre",{className:"p-2",children:`import requests

print(requests.post(
    url='${lh}/api/decrypt',
    headers={
        'Content-Type': 'application/json',
    },
    json={
        'pssh': 'AAAAW3Bzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAADsIARIQ62dqu8s0Xpa7z2FmMPGj2hoNd2lkZXZpbmVfdGVzdCIQZmtqM2xqYVNkZmFsa3IzaioCSEQyAA==',
        'licurl': 'https://cwip-shaka-proxy.appspot.com/no_auth',
        'headers': str({
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:134.0) Gecko/20100101 Firefox/134.0',
            'Accept': '*/*',
            'Accept-Language': 'en-US,en;q=0.5',
        })
    }
).json()['message'])`})})]}),ge.jsxs("details",{open:!0,className:" p-5 mb-5 shadow-lg shadow-black border overflow-y-auto",children:[ge.jsxs("summary",{className:"bg-[rgba(0,0,0,0.2)] p-2 rounded text-white flex shadow-sm shadow-purple-900",children:["Sending a search request | ","(Python)"]}),ge.jsx("br",{}),ge.jsx("div",{className:"h-9/10 bg-[rgba(0,0,0,0.2)] p-2 rounded text-white shadow-sm shadow-purple-900",children:ge.jsx("pre",{className:"p-2",children:`import requests

print(requests.post(
    url='${lh}/api/cache/search',
    json={
        'input': 'AAAAW3Bzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAADsIARIQ62dqu8s0Xpa7z2FmMPGj2hoNd2lkZXZpbmVfdGVzdCIQZmtqM2xqYVNkZmFsa3IzaioCSEQyAA=='
    }
).json())`})})]}),ge.jsxs("details",{open:!0,className:" p-5 mb-5 shadow-lg shadow-black border overflow-y-auto",children:[ge.jsxs("summary",{className:"bg-[rgba(0,0,0,0.2)] p-2 rounded text-white flex shadow-sm shadow-purple-900",children:["Remote CDM configuration | ","(For Devine / VineTrimmeer / Extensions)"]}),ge.jsx("br",{}),ge.jsx("div",{className:"h-9/10 bg-[rgba(0,0,0,0.2)] p-2 rounded text-white shadow-sm shadow-purple-900",children:ge.jsxs("p",{className:"p-2",children:["device_type: ",ge.jsxs("span",{id:"wv_device_type",children:['"',b.device_type,'"']}),ge.jsx("br",{}),"system_id: ",ge.jsx("span",{id:"wv_system_id",children:b.system_id}),ge.jsx("br",{}),"security_level: ",ge.jsx("span",{id:"wv_security_level",children:b.security_level}),ge.jsx("br",{}),"host: ",ge.jsxs("span",{id:"wv_host",children:['"',lh,'/remotecdm/widevine"']}),ge.jsx("br",{}),"secret: ",ge.jsxs("span",{id:"wv_secret",children:['"',b.secret,'"']}),ge.jsx("br",{}),"device_name: ",ge.jsx("span",{id:"wv_device_name",children:b.device_name})]})})]}),ge.jsxs("details",{open:!0,className:"p-5 mb-5 shadow-lg shadow-black border overflow-y-auto",children:[ge.jsxs("summary",{className:"bg-[rgba(0,0,0,0.2)] p-2 rounded text-white flex shadow-sm shadow-purple-900 transition-all transition-300 ease-in",children:["Webvault configuration | ","(For Devine / VineTrimmer)"]}),ge.jsx("br",{}),ge.jsx("div",{className:"h-9/10 bg-[rgba(0,0,0,0.2)] p-2 rounded text-white shadow-sm shadow-purple-900",children:ge.jsx("pre",{className:"p-2",children:`key_vaults:
    - type: API
      name: "Online Vault"
      uri: "${lh}/api/cache"
      token: "${b.secret}"`})})]})]})})}function O3(){const[b,N]=we.useState(""),[U,I]=we.useState([]),[x,V]=we.useState(0),M=we.useRef(null),h=d=>{const v=d.target.value;N(v),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{v.trim()!==""?l(v):I([])},1e3)},s=()=>{fetch("/api/cache/keycount").then(d=>d.json()).then(d=>{V(d.count)}).catch(d=>{console.error("Error fetching key count:",d)})};we.useEffect(()=>{const d=setInterval(s,1e4);return s(),()=>clearInterval(d)},[]);const l=d=>{fetch("/api/cache/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:d})}).then(v=>v.json()).then(v=>I(v)).catch(v=>console.error("Error:",v))};return ge.jsx(ge.Fragment,{children:ge.jsxs("div",{className:"w-full h-full bg-zinc-900 flex flex-col p-0",children:[ge.jsxs("div",{className:"flex flex-row w-full",children:[ge.jsx("form",{className:"flex flex-row w-8/10 p-10 h-full rounded-xl self-start",children:ge.jsx("input",{type:"text",id:"search",name:"search",value:b,onChange:h,placeholder:"Search by PSSH/KID",className:"w-full text-white bg-[rgba(0,0,0,0.2)] focus:outline-none rounded focus:shadow-sm focus:shadow-green-700/50 transition-shadow duration-300 ease-in-out p-2"})}),ge.jsxs("p",{className:"text-white w-2/10 p-10 rounded-xl self-start flex flex-col h-full",children:[ge.jsxs("span",{className:"text-white w-1/1 text-center",children:["Cached Keys: ",x," "]}),ge.jsx("a",{href:"/api/cache/download",children:ge.jsx("button",{className:" self-start w-1/1 bg-green-700 rounded-md mt-1 active:transform active:scale-95 cursor-pointer hover:bg-green-600/50 pt-1 pb-1",children:"Download"})})]})]}),ge.jsx("div",{className:"h-full w-full p-10 overflow-y-auto",children:ge.jsx("div",{className:"overflow-x-auto border p-10 rounded-2xl bg-[rgba(0,0,0,0.2)] shadow-md shadow-green-700 min-h-full overflow-y-auto",children:ge.jsxs("table",{className:"min-w-full text-white",children:[ge.jsx("thead",{children:ge.jsxs("tr",{children:[ge.jsx("th",{className:"p-2 border border-black",children:"PSSH"}),ge.jsx("th",{className:"p-2 border border-black",children:"KID"}),ge.jsx("th",{className:"p-2 border border-black",children:"Key"})]})}),ge.jsx("tbody",{children:U.length>0?U.map((d,v)=>ge.jsxs("tr",{children:[ge.jsx("td",{className:"p-2 border border-black",children:d.PSSH}),ge.jsx("td",{className:"p-2 border border-black",children:d.KID}),ge.jsx("td",{className:"p-2 border border-black",children:d.Key})]},v)):ge.jsx("tr",{children:ge.jsx("td",{colSpan:"3",className:"p-2 border  border-black text-center",children:"No data found"})})})]})})})]})})}var A0={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var i2;function R3(){return i2||(i2=1,function(b){(function(){var N=typeof window<"u"?window:OP,U={};(function(x,V,M){var h;function s(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var l=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function d(e){e=[typeof globalThis=="object"&&globalThis,e,typeof x=="object"&&x,typeof self=="object"&&self,typeof V=="object"&&V];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var v=d(this);function A(e,t){if(t)e:{var n=v;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&l(n,e,{configurable:!0,writable:!0,value:t})}}A("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(r+(o||"")+"_"+i++,o)}function n(o,a){this.g=o,l(this,"description",{configurable:!0,writable:!0,value:a})}if(e)return e;n.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return t}),A("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=v[t[n]];typeof r=="function"&&typeof r.prototype[e]!="function"&&l(r.prototype,e,{configurable:!0,writable:!0,value:function(){return Y(s(this))}})}return e});function Y(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function T(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return{next:s(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function te(e){if(!(e instanceof Array)){e=T(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var se=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Se;if(typeof Object.setPrototypeOf=="function")Se=Object.setPrototypeOf;else{var Ne;e:{var ue={a:!0},be={};try{be.__proto__=ue,Ne=be.a;break e}catch{}Ne=!1}Se=Ne?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Qe=Se;function mt(e,t){if(e.prototype=se(t.prototype),e.prototype.constructor=e,Qe)Qe(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Fk=t.prototype}function un(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function Tn(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}un.prototype.s=function(e){this.h=e};function vn(e,t){e.i={Eg:t,Rg:!0},e.g=e.m||e.j}un.prototype.return=function(e){this.i={return:e},this.g=this.j};function L(e,t,n){return e.g=n,{value:t}}un.prototype.u=function(e){this.g=e};function oe(e){e.g=0}function de(e,t,n){e.m=t,n!=null&&(e.j=n)}function qe(e,t){e.m=0,e.j=t||0}function Oe(e,t,n){e.g=t,e.m=n||0}function ke(e,t){return e.m=t||0,t=e.i.Eg,e.i=null,t}function _t(e){e.A=[e.i],e.m=0,e.j=0}function Dt(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Rg?e.g=e.m||e.j:n.u!=null&&e.j<n.u?(e.g=n.u,e.i=null):e.g=e.j:e.g=t}function Ue(e){this.g=new un,this.h=e}function gt(e,t){Tn(e.g);var n=e.g.l;return n?We(e,"return"in n?n.return:function(r){return{value:r,done:!0}},t,e.g.return):(e.g.return(t),le(e))}function We(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var o=i.value}catch(a){return e.g.l=null,vn(e.g,a),le(e)}return e.g.l=null,r.call(e.g,o),le(e)}function le(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,vn(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Rg)throw t.Eg;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function Ie(e){this.next=function(t){return Tn(e.g),e.g.l?t=We(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=le(e)),t},this.throw=function(t){return Tn(e.g),e.g.l?t=We(e,e.g.l.throw,t,e.g.s):(vn(e.g,t),t=le(e)),t},this.return=function(t){return gt(e,t)},this[Symbol.iterator]=function(){return this}}function Lt(e){function t(r){return e.next(r)}function n(r){return e.throw(r)}return new Promise(function(r,i){function o(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(o,i)}o(e.next())})}function z(e){return Lt(new Ie(new Ue(e)))}function It(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}A("Promise",function(e){function t(a){this.h=0,this.i=void 0,this.g=[],this.o=!1;var f=this.j();try{a(f.resolve,f.reject)}catch(p){f.reject(p)}}function n(){this.g=null}function r(a){return a instanceof t?a:new t(function(f){f(a)})}if(e)return e;n.prototype.h=function(a){if(this.g==null){this.g=[];var f=this;this.i(function(){f.l()})}this.g.push(a)};var i=v.setTimeout;n.prototype.i=function(a){i(a,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var f=0;f<a.length;++f){var p=a[f];a[f]=null;try{p()}catch(g){this.j(g)}}}this.g=null},n.prototype.j=function(a){this.i(function(){throw a})},t.prototype.j=function(){function a(g){return function(m){p||(p=!0,g.call(f,m))}}var f=this,p=!1;return{resolve:a(this.F),reject:a(this.l)}},t.prototype.F=function(a){if(a===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof t)this.H(a);else{e:switch(typeof a){case"object":var f=a!=null;break e;case"function":f=!0;break e;default:f=!1}f?this.C(a):this.m(a)}},t.prototype.C=function(a){var f=void 0;try{f=a.then}catch(p){this.l(p);return}typeof f=="function"?this.I(f,a):this.m(a)},t.prototype.l=function(a){this.s(2,a)},t.prototype.m=function(a){this.s(1,a)},t.prototype.s=function(a,f){if(this.h!=0)throw Error("Cannot settle("+a+", "+f+"): Promise already settled in state"+this.h);this.h=a,this.i=f,this.h===2&&this.G(),this.A()},t.prototype.G=function(){var a=this;i(function(){if(a.B()){var f=v.console;typeof f<"u"&&f.error(a.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var a=v.CustomEvent,f=v.Event,p=v.dispatchEvent;return typeof p>"u"?!0:(typeof a=="function"?a=new a("unhandledrejection",{cancelable:!0}):typeof f=="function"?a=new f("unhandledrejection",{cancelable:!0}):(a=v.document.createEvent("CustomEvent"),a.initCustomEvent("unhandledrejection",!1,!0,a)),a.promise=this,a.reason=this.i,p(a))},t.prototype.A=function(){if(this.g!=null){for(var a=0;a<this.g.length;++a)o.h(this.g[a]);this.g=null}};var o=new n;return t.prototype.H=function(a){var f=this.j();a.Od(f.resolve,f.reject)},t.prototype.I=function(a,f){var p=this.j();try{a.call(f,p.resolve,p.reject)}catch(g){p.reject(g)}},t.prototype.then=function(a,f){function p(E,C){return typeof E=="function"?function(P){try{g(E(P))}catch(R){m(R)}}:C}var g,m,w=new t(function(E,C){g=E,m=C});return this.Od(p(a,g),p(f,m)),w},t.prototype.catch=function(a){return this.then(void 0,a)},t.prototype.Od=function(a,f){function p(){switch(g.h){case 1:a(g.i);break;case 2:f(g.i);break;default:throw Error("Unexpected state: "+g.h)}}var g=this;this.g==null?o.h(p):this.g.push(p),this.o=!0},t.resolve=r,t.reject=function(a){return new t(function(f,p){p(a)})},t.race=function(a){return new t(function(f,p){for(var g=T(a),m=g.next();!m.done;m=g.next())r(m.value).Od(f,p)})},t.all=function(a){var f=T(a),p=f.next();return p.done?r([]):new t(function(g,m){function w(P){return function(R){E[P]=R,C--,C==0&&g(E)}}var E=[],C=0;do E.push(void 0),C++,r(p.value).Od(w(E.length-1),m),p=f.next();while(!p.done)})},t});function kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}A("WeakMap",function(e){function t(p){if(this.g=(f+=Math.random()+1).toString(),p){p=T(p);for(var g;!(g=p.next()).done;)g=g.value,this.set(g[0],g[1])}}function n(){}function r(p){var g=typeof p;return g==="object"&&p!==null||g==="function"}function i(p){if(!kt(p,a)){var g=new n;l(p,a,{value:g})}}function o(p){var g=Object[p];g&&(Object[p]=function(m){return m instanceof n?m:(Object.isExtensible(m)&&i(m),g(m))})}if(function(){if(!e||!Object.seal)return!1;try{var p=Object.seal({}),g=Object.seal({}),m=new e([[p,2],[g,3]]);return m.get(p)!=2||m.get(g)!=3?!1:(m.delete(p),m.set(g,4),!m.has(p)&&m.get(g)==4)}catch{return!1}}())return e;var a="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var f=0;return t.prototype.set=function(p,g){if(!r(p))throw Error("Invalid WeakMap key");if(i(p),!kt(p,a))throw Error("WeakMap key fail: "+p);return p[a][this.g]=g,this},t.prototype.get=function(p){return r(p)&&kt(p,a)?p[a][this.g]:void 0},t.prototype.has=function(p){return r(p)&&kt(p,a)&&kt(p[a],this.g)},t.prototype.delete=function(p){return r(p)&&kt(p,a)&&kt(p[a],this.g)?delete p[a][this.g]:!1},t}),A("Map",function(e){function t(){var f={};return f.Ub=f.next=f.head=f}function n(f,p){var g=f[1];return Y(function(){if(g){for(;g.head!=f[1];)g=g.Ub;for(;g.next!=g.head;)return g=g.next,{done:!1,value:p(g)};g=null}return{done:!0,value:void 0}})}function r(f,p){var g=p&&typeof p;g=="object"||g=="function"?o.has(p)?g=o.get(p):(g=""+ ++a,o.set(p,g)):g="p_"+p;var m=f[0][g];if(m&&kt(f[0],g))for(f=0;f<m.length;f++){var w=m[f];if(p!==p&&w.key!==w.key||p===w.key)return{id:g,list:m,index:f,entry:w}}return{id:g,list:m,index:-1,entry:void 0}}function i(f){if(this[0]={},this[1]=t(),this.size=0,f){f=T(f);for(var p;!(p=f.next()).done;)p=p.value,this.set(p[0],p[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var f=Object.seal({x:4}),p=new e(T([[f,"s"]]));if(p.get(f)!="s"||p.size!=1||p.get({x:4})||p.set({x:4},"t")!=p||p.size!=2)return!1;var g=p.entries(),m=g.next();return m.done||m.value[0]!=f||m.value[1]!="s"?!1:(m=g.next(),!(m.done||m.value[0].x!=4||m.value[1]!="t"||!g.next().done))}catch{return!1}}())return e;var o=new WeakMap;i.prototype.set=function(f,p){f=f===0?0:f;var g=r(this,f);return g.list||(g.list=this[0][g.id]=[]),g.entry?g.entry.value=p:(g.entry={next:this[1],Ub:this[1].Ub,head:this[1],key:f,value:p},g.list.push(g.entry),this[1].Ub.next=g.entry,this[1].Ub=g.entry,this.size++),this},i.prototype.delete=function(f){return f=r(this,f),f.entry&&f.list?(f.list.splice(f.index,1),f.list.length||delete this[0][f.id],f.entry.Ub.next=f.entry.next,f.entry.next.Ub=f.entry.Ub,f.entry.head=null,this.size--,!0):!1},i.prototype.clear=function(){this[0]={},this[1]=this[1].Ub=t(),this.size=0},i.prototype.has=function(f){return!!r(this,f).entry},i.prototype.get=function(f){return(f=r(this,f).entry)&&f.value},i.prototype.entries=function(){return n(this,function(f){return[f.key,f.value]})},i.prototype.keys=function(){return n(this,function(f){return f.key})},i.prototype.values=function(){return n(this,function(f){return f.value})},i.prototype.forEach=function(f,p){for(var g=this.entries(),m;!(m=g.next()).done;)m=m.value,f.call(p,m[1],m[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var a=0;return i}),A("Set",function(e){function t(n){if(this.g=new Map,n){n=T(n);for(var r;!(r=n.next()).done;)this.add(r.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),r=new e(T([n]));if(!r.has(n)||r.size!=1||r.add(n)!=r||r.size!=1||r.add({x:4})!=r||r.size!=2)return!1;var i=r.entries(),o=i.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=i.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:i.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,r){var i=this;this.g.forEach(function(o){return n.call(r,o,o,i)})},t)});function fn(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}A("Array.prototype.keys",function(e){return e||function(){return fn(this,function(t){return t})}});function rn(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var o=e[i];if(t.call(n,o,i,e))return{Pg:i,v:o}}return{Pg:-1,v:void 0}}A("Array.prototype.findIndex",function(e){return e||function(t,n){return rn(this,t,n).Pg}}),A("Array.from",function(e){return e||function(t,n,r){n=n??function(f){return f};var i=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var a=0;!(o=t.next()).done;)i.push(n.call(r,o.value,a++))}else for(o=t.length,a=0;a<o;a++)i.push(n.call(r,t[a],a));return i}}),A("Array.prototype.values",function(e){return e||function(){return fn(this,function(t,n){return n})}}),A("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),A("Array.prototype.includes",function(e){return e||function(t,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var o=r[n];if(o===t||Object.is(o,t))return!0}return!1}});function mn(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}A("String.prototype.includes",function(e){return e||function(t,n){return mn(this,t,"includes").indexOf(t,n||0)!==-1}}),A("String.fromCodePoint",function(e){return e||function(t){for(var n="",r=0;r<arguments.length;r++){var i=Number(arguments[r]);if(0>i||1114111<i||i!==Math.floor(i))throw new RangeError("invalid_code_point "+i);65535>=i?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),n+=String.fromCharCode(i&1023|56320))}return n}}),A("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=T(n);for(var r;!(r=n.next()).done;)this.add(r.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),r=Object.seal({}),i=new e([n]);return!i.has(n)||i.has(r)?!1:(i.delete(n),i.add(r),!i.has(n)&&i.has(r))}catch{return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),A("Array.prototype.find",function(e){return e||function(t,n){return rn(this,t,n).v}}),A("String.prototype.startsWith",function(e){return e||function(t,n){var r=mn(this,t,"startsWith"),i=r.length,o=t.length;n=Math.max(0,Math.min(n|0,r.length));for(var a=0;a<o&&n<i;)if(r[n++]!=t[a++])return!1;return a>=o}}),A("Object.entries",function(e){return e||function(t){var n=[],r;for(r in t)kt(t,r)&&n.push([r,t[r]]);return n}});var ni=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)kt(r,i)&&(e[i]=r[i])}return e};A("Object.assign",function(e){return e||ni}),A("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),A("Array.prototype.entries",function(e){return e||function(){return fn(this,function(t,n){return[t,n]})}}),A("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),A("String.prototype.repeat",function(e){return e||function(t){var n=mn(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)t&1&&(r+=n),(t>>>=1)&&(n+=n);return r}}),A("Number.EPSILON",function(){return Math.pow(2,-52)}),A("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),A("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),A("Object.values",function(e){return e||function(t){var n=[],r;for(r in t)kt(t,r)&&n.push(t[r]);return n}}),A("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),A("String.prototype.endsWith",function(e){return e||function(t,n){var r=mn(this,t,"endsWith");n===void 0&&(n=r.length),n=Math.max(0,Math.min(n|0,r.length));for(var i=t.length;0<i&&0<n;)if(r[--n]!=t[--i])return!1;return 0>=i}}),A("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}});var ec=this||self;function Re(e,t){e=e.split(".");var n=ec;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||t===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=t}function tc(){}function qf(){}function Gu(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}Gu.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function Ls(e){return e.h/(1-Math.pow(e.g,e.i))}function Wu(){this.h=new Gu(2),this.j=new Gu(5),this.g=0,this.i=128e3,this.l=16e3}Wu.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},Wu.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},Wu.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(Ls(this.h),Ls(this.j))};function ph(){}function mi(){}function ft(){}function Si(e){var t=It.apply(1,arguments);Gf.has(e)||(Gf.add(e),ft.apply(ph,te(t)))}function zf(){}function Vg(){}function Fg(){}var Gf=new Set;x.console&&(ft=function(){return console.warn.apply(console,te(It.apply(0,arguments)))},mi=function(){console.error.apply(console,te(It.apply(0,arguments)))});function bs(){this.g={}}h=bs.prototype,h.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},h.get=function(e){return(e=this.g[e])?e.slice():null},h.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])},h.forEach=function(e){for(var t in this.g)e(t,this.g[t])},h.size=function(){return Object.keys(this.g).length},h.keys=function(){return Object.keys(this.g)};function At(){this.g=new bs}h=At.prototype,h.release=function(){this.La(),this.g=null},h.D=function(e,t,n,r){this.g&&(e=new Ns(e,t,n,r),this.g.push(t,e))},h.la=function(e,t,n,r){function i(a){o.bb(e,t,i),n(a)}var o=this;this.D(e,t,i,r)},h.bb=function(e,t,n){if(this.g){var r=this.g.get(t)||[];r=T(r);for(var i=r.next();!i.done;i=r.next())i=i.value,i.target!=e||n!=i.listener&&n||(i.bb(),this.g.remove(t,i))}},h.La=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,te(e.g[n]));for(e=T(t),t=e.next();!t.done;t=e.next())t.value.bb();this.g.g={}}},Re("shaka.util.EventManager",At),At.prototype.removeAll=At.prototype.La,At.prototype.unlisten=At.prototype.bb,At.prototype.listenOnce=At.prototype.la,At.prototype.listen=At.prototype.D,At.prototype.release=At.prototype.release;function Ns(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=hh(e,r),this.target.addEventListener(t,n,this.g)}Ns.prototype.bb=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function hh(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(r){return!n.has(r)}),_s(e)?t:t.capture||!1}function _s(e){var t=Ul;if(t==null){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch{t=!1}Ul=t}return t||!1}var Ul=void 0;function bn(e){if(nc.has(e))return nc.get(e);var t=x.ManagedMediaSource||x.MediaSource;return t?(t=t.isTypeSupported(e),nc.set(e,t),t):!1}function du(){var e=x.ManagedSourceBuffer||x.SourceBuffer;return!!e&&!!e.prototype&&!!e.prototype.changeType}var nc=new Map;function Wf(e,t){this.g=e,this.h=t}Wf.prototype.toString=function(){return"v"+this.g+"."+this.h};function Ot(e,t){var n=new Wf(5,0),r=rc,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,e,t)}function Xf(e,t,n,r){ft([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function Yf(e,t,n,r){mi([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}var rc=null;function Xu(){}Xu.prototype.extract=function(){},Xu.prototype.decode=function(){return[]},Xu.prototype.clear=function(){},Xu.prototype.getStreams=function(){return[]};function pu(){}pu.prototype.init=function(){},pu.prototype.parse=function(){return[]};function qi(){}function po(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Ze(e);t=Ze(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function Kr(e){return ArrayBuffer.isView(e)?e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function Ze(e,t,n){return n=n===void 0?1/0:n,Us(e,t===void 0?0:t,n,Uint8Array)}function $f(e,t,n){return n=n===void 0?1/0:n,Us(e,t===void 0?0:t,n,Uint16Array)}function vr(e,t,n){return n=n===void 0?1/0:n,Us(e,t===void 0?0:t,n,DataView)}function Us(e,t,n,r){var i=ArrayBuffer.isView(e)?e.buffer:e,o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);var a=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,a))),new r(i,e,Math.floor(Math.min(e+Math.max(n,0),a))-e)}Re("shaka.util.BufferUtils",qi),qi.toDataView=vr,qi.toUint16=$f,qi.toUint8=Ze,qi.toArrayBuffer=Kr,qi.equal=po;function jl(){}jl.prototype.init=function(){},jl.prototype.i=function(){},jl.prototype.g=function(){},jl.prototype.j=function(){},Re("shaka.media.IClosedCaptionParser",jl);function Zn(e){this.l=new pu,(e=hu[e.toLowerCase()])&&(this.l=e()),this.h=new Xu,(e=ho)&&(this.h=e())}Zn.prototype.init=function(e,t){t!==void 0&&t||this.g(),this.l.init(e)},Zn.prototype.i=function(e){e=this.l.parse(e),e=T(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=Ze(t.packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},Zn.prototype.g=function(){this.h.clear()},Zn.prototype.j=function(){return this.h.getStreams()},Re("shaka.media.ClosedCaptionParser",Zn),Zn.findDecoder=function(){return ho},Zn.unregisterDecoder=function(){ho=null},Zn.registerDecoder=function(e){ho=e},Zn.findParser=function(e){return hu[e]},Zn.unregisterParser=function(e){delete hu[e]},Zn.registerParser=function(e,t){hu[e]=t};var hu={},ho=null;function Yu(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=zn,this.scroll=js}Re("shaka.text.CueRegion",Yu);var zn=1;Yu.units={PX:0,PERCENTAGE:zn,LINES:2};var js="";Yu.scrollMode={NONE:js,UP:"up"};function Bs(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function Hr(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function yh(e,t,n){if(n||(n=Bs),e.length!=t.length)return!1;t=t.slice(),e=T(e);for(var r=e.next(),i={};!r.done;i={Tg:void 0},r=e.next()){if(i.Tg=r.value,r=t.findIndex(function(o){return function(a){return n(o.Tg,a)}}(i)),r==-1)return!1;t[r]=t[t.length-1],t.pop()}return t.length==0}function Vs(e,t,n){if(n||(n=Bs),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function X(e,t,n){var r=It.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}X.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Re("shaka.util.Error",X),X.Severity={RECOVERABLE:1,CRITICAL:2},X.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},X.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007};function wi(e){this.h=e,this.g=void 0}wi.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function Jf(e,t){return e.length&&t.length&&e!==t?0<ic(e,t).length:!0}function ic(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=T(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=T(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.keySystem==o.keySystem){i=new Map;for(var a=T((r.initData||[]).concat(o.initData||[])),f=a.next();!f.done;f=a.next())f=f.value,i.set(f.keyId,f);i=Array.from(i.values()),a=r.keyIds&&o.keyIds?new Set([].concat(te(r.keyIds),te(o.keyIds))):r.keyIds||o.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,serverCertificateUri:r.serverCertificateUri||o.serverCertificateUri,initData:i,keyIds:a});break}}return n}function Fs(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}var Ks=new wi(function(){return Kr(new Uint8Array([0]))}),Hs=new Map;function Bl(e){this.h=e,this.g=null}Bl.prototype.aa=function(e){var t=this;this.stop();var n=!0,r=null;return this.g=function(){x.clearTimeout(r),n=!1},r=x.setTimeout(function(){n&&t.h()},1e3*e),this},Bl.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function st(e){this.h=e,this.g=null}st.prototype.Hb=function(){return this.stop(),this.h(),this},st.prototype.aa=function(e){var t=this;return this.stop(),this.g=new Bl(function(){t.h()}).aa(e),this},st.prototype.Aa=function(e){var t=this;return this.stop(),this.g=new Bl(function(){t.g.aa(e),t.h()}).aa(e),this},st.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},Re("shaka.util.Timer",st),st.prototype.stop=st.prototype.stop,st.prototype.tickEvery=st.prototype.Aa,st.prototype.tickAfter=st.prototype.aa,st.prototype.tickNow=st.prototype.Hb;function zi(){var e=x.ManagedMediaSource||x.MediaSource;return!!(e&&e.isTypeSupported)}function qs(e){return vh().canPlayType(e)!=""}function xn(){return!!navigator.userAgent.match(/Edge?\//)}function Gi(){return Tt("Xbox One")}function Or(){return Tt("Tizen")}function zs(){return Tt("Tizen 3")}function qr(){return Tt("Web0S")}function mr(){return Tt("CrKey")}function Gs(){if(!Tt("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function yo(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Or()&&!Tt("PC=EOS")&&!Tt("PC=APL")&&!Tt("VirginMedia")&&!Qf()&&!Ti()&&!Tt("AFT")&&!Tt("WPE")&&!Tt("DT_STB_BCM")&&!Tt("Sky_STB")}function zr(){return Tt("PlayStation 5")}function Ti(){return Tt("PlayStation 4")}function Gr(){return Tt("Hisense")||Tt("VIDAA")}function Qf(){return Tt("SOPOpenBrowser")}function yu(){if(!yo())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function gh(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="macos":navigator.platform?navigator.platform.toLowerCase().includes("mac"):!1}function gu(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="windows":navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}function vu(){return Tt("Android")}function $u(){return!!(Or()||qr()||Gi()||Ti()||zr()||Tt("AFT")||Tt("PC=EOS")||Tt("PC=APL")||Tt("VirginMedia")||Qf()||Tt("WPE")||mr()||Gr()||Tt("DT_STB_BCM"))}function Tt(e){return(navigator.userAgent||"").includes(e)}function vh(){return mu||(uc||(uc=new st(function(){mu=null})),(mu=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(mu=document.createElement("video")),uc.aa(1),mu)}function Ws(e){return e?e===x.shakaMediaKeysPolyfill:!!x.shakaMediaKeysPolyfill}function oc(){var e,t,n,r,i,o,a,f,p,g,m,w,E,C,P;return z(function(R){switch(R.g){case 1:if(e={width:1/0,height:1/0},mr()){if(w=x.cast&&cast.__platform__&&cast.__platform__.canDisplayType,e.width=1280,e.height=720,de(R,14),!(E=w)){R.u(16);break}return L(R,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(Or()){e.width=1920,e.height=1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(t=webapis.systeminfo.getMaxVideoResolution(),e.width=t.width,e.height=t.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch{ft("Tizen: Error detecting screen size, default screen size 1920x1080.")}R.u(3);break}if(qr()){try{n=JSON.parse(x.PalmSystem.deviceInfo),e.width=Math.max(1920,n.screenWidth),e.height=Math.max(1080,n.screenHeight)}catch{ft("WebOS: Error detecting screen size, default screen size 1920x1080."),e.width=1920,e.height=1080}R.u(3);break}if(Gr()){x.Hisense_Get4KSupportState&&x.Hisense_Get4KSupportState()?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),R.u(3);break}if(!Ti()&&!zr()){r=void 0;try{r=typeof Windows<"u"?Windows:chrome.webview.hostObjects.sync.Windows}catch{}if(r){e.width=1920,e.height=1080;try{i=new r.Media.Protection.ProtectionCapabilities,o=r.Media.Protection.ProtectionCapabilityResult,a=null;do a=i.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation");while(a===o.maybe);a===o.probably&&(e.width=3840,e.height=2160)}catch{ft("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else Gi()&&(e.width=1920,e.height=1080,ft("Xbox: Error detecting screen size, default screen size 1920x1080."));R.u(3);break}return f=!1,de(R,8),L(R,x.msdk.device.getDisplayInfo(),10);case 10:p=R.h,f=p.resolution==="4K",Oe(R,9);break;case 8:return ke(R),de(R,11),L(R,x.msdk.device.getDisplayInfoImmediate(),13);case 13:g=R.h,f=g.resolution==="4K",Oe(R,9);break;case 11:m=ke(R),ft("PlayStation: Failed to get the display info:",m);case 9:f?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),R.u(3);break;case 17:E=R.h;case 16:if(E){e.width=3840,e.height=2160,R.u(18);break}if(!(C=w)){R.u(19);break}return L(R,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:C=R.h;case 19:C&&(e.width=1920,e.height=1080);case 18:Oe(R,3);break;case 14:P=ke(R),mi("Failed to check canDisplayType:",P);case 3:return R.return(e)}})}var uc=null,mu=null;function Wi(){}function Jt(e){if(!e)return"";if(e=Ze(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),x.TextDecoder&&!Ti())return e=new TextDecoder().decode(e),e.includes("")&&mi('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var r=65533;if((e[n]&128)==0?r=e[n]:e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(r=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(r=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(r=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3),65535>=r)t+=String.fromCharCode(r);else{r-=65536;var i=r&1023;t+=String.fromCharCode(55296+(r>>10)),t+=String.fromCharCode(56320+i)}}return t}function go(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new X(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=vr(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return Xs(r)}function Ut(e){function t(r){return n.byteLength<=r||32<=n[r]&&126>=n[r]}if(!e)return"";var n=Ze(e);if(n[0]==239&&n[1]==187&&n[2]==191)return Jt(n);if(n[0]==254&&n[1]==255)return go(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return go(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return go(e,!1);if(n[1]==0&&n[3]==0)return go(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Jt(e);throw new X(2,2,2003)}function ri(e){if(x.TextEncoder&&!Ti()){var t=new TextEncoder;return Kr(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return Kr(t)}function lc(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function Xs(e){return Zf.value()(e)}function rr(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":"","&lrm;":"","&rlm;":""},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return i[1]=="#"?(i=i[2]=="x"||i[2]=="X"?parseInt(i.substring(3),16):parseInt(i.substring(2),10),0<=i&&1114111>=i?String.fromCodePoint(i):""):t[i]||"'"}):e||""}Re("shaka.util.StringUtils",Wi),Wi.resetFromCharCode=function(){Zf.g=void 0},Wi.toUTF16=lc,Wi.toUTF8=ri,Wi.fromBytesAutoDetect=Ut,Wi.fromUTF16=go,Wi.fromUTF8=Jt;var Zf=new wi(function(){function e(n){try{var r=new Uint8Array(n);return 0<String.fromCharCode.apply(null,r).length}catch{return!1}}for(var t={jc:65536};0<t.jc;t={jc:t.jc},t.jc/=2)if(e(t.jc))return function(n){return function(r){for(var i="",o=0;o<r.length;o+=n.jc)i+=String.fromCharCode.apply(null,r.subarray(o,o+n.jc));return i}}(t);return null});function Ju(e){this.h=e||"",this.g=0}function Su(e){vo(e,/[ \t]+/gm)}function vo(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function Wr(e){return e.g==e.h.length?null:(e=vo(e,/[^ \t\n]*/gm))?e[0]:null}function xi(e){if(e=vo(e,Ys),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function ii(e){return e?xi(new Ju(e)):null}var Ys=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function Rr(e){function t(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||ArrayBuffer.isView(r))return r;if(n.has(r))return null;var i=r.constructor==Array;if(r.constructor!=Object&&!i)return null;n.add(r);var o=i?[]:{},a;for(a in r)o[a]=t(r[a]);return i&&(o.length=r.length),o}}var n=new WeakSet;return t(e)}function Xr(e){var t={},n;for(n in e)t[n]=e[n];return t}function ed(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=n.toString(),i=e[n];i!==void 0&&(i=ed(i))&&t.push(r+":"+i)}e="["+t.join(",")+"]"}else if(typeof e=="function")e="";else if(e instanceof Object){for(n=Object.keys(e),n.sort(),t=[],n=T(n),r=n.next();!r.done;r=n.next())i=r.value,r=JSON.stringify(i),i=e[i],i!==void 0&&(i=ed(i))&&t.push(r+":"+i);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function Vl(e,t){var n=n===void 0?!1:n;return e=Ut(e),Xi(e,t,n)}function Xi(e,t,n){return e=mh(e,n===void 0?!1:n),!t&&e.length?e[0]:(e=e.find(function(r){return t.split(",").includes(r.tagName)}))?e:null}function td(e){return el.has(e)?el.get(e):""}function mh(e,t){function n(o,a){a=a===void 0?!1:a;for(var f=[];e[i];)if(e.charCodeAt(i)==60){if(e.charCodeAt(i+1)===47){a=i+2,i=e.indexOf(">",i),a=e.substring(a,i);var p=a.indexOf(o);if(p==-1){var g=o.indexOf(".");0<g&&(p=a.indexOf(o.substring(0,g)))}if(p==-1)throw o=e.substring(0,i).split(`
`),Error(`Unexpected close tag
Line: `+(o.length-1)+`
Column: `+(o[o.length-1].length+1)+`
Char: `+e[i]);i+1&&(i+=1);break}else if(e.charCodeAt(i+1)===33){if(e.charCodeAt(i+2)==45){for(;i!==-1&&(e.charCodeAt(i)!==62||e.charCodeAt(i-1)!=45||e.charCodeAt(i-2)!=45||i==-1);)i=e.indexOf(">",i+1);i===-1&&(i=e.length)}else if(e.charCodeAt(i+2)===91&&e.charCodeAt(i+8)===91&&e.substr(i+3,5).toLowerCase()==="cdata"){p=e.indexOf("]]>",i),p==-1?(f.push(e.substr(i+9)),i=e.length):(f.push(e.substring(i+9,p)),i=p+3);continue}i++;continue}e:{g=a,i++;var m=r(),w={};for(p=[];e.charCodeAt(i)!==62&&e[i];){var E=e.charCodeAt(i);if(64<E&&91>E||96<E&&123>E){E=r();for(var C=e.charCodeAt(i);C&&C!==39&&C!==34&&!(64<C&&91>C||96<C&&123>C)&&C!==62;)i++,C=e.charCodeAt(i);var P=i+1;if(i=e.indexOf(e[i],P),P=e.slice(P,i),C===39||C===34){if(i===-1){if(g={tagName:m,attributes:w,children:p,parent:null},t)for(m=0;m<p.length;m++)typeof p[m]!="string"&&(p[m].parent=g);p=g;break e}}else P=null,i--;if(E.startsWith("xmlns:")){C=P;var R=E.split(":")[1];el.set(C,R),Hl.set(R,C)}m==="tt"&&E==="xml:space"&&P==="preserve"&&(g=!0),w[E]=P}i++}for(e.charCodeAt(i-1)!==47?(i++,p=n(m,g)):i++,g={tagName:m,attributes:w,children:p,parent:null},m=p.length,w=0;w<m;w++)E=p[w],typeof E!="string"?t&&(E.parent=g):w==m-1&&E==`
`&&p.pop();p=g}if(f.push(p),typeof p=="string")break;p.tagName[0]==="?"&&p.children&&(f.push.apply(f,te(p.children)),p.children=[])}else p=i,i=e.indexOf("<",i)-1,i===-2&&(i=e.length),p=e.slice(p,i+1),a?0<p.length&&f.push(p):(f.length&&p.length==1&&p[0]==`
`||0<p.trim().length)&&f.push(p),i++;return f}function r(){for(var o=i;`\r
	>/= `.indexOf(e[i])===-1&&e[i];)i++;return e.slice(o,i)}var i=0;return n("")}function Qu(e){return typeof e=="string"}function nd(e){var t=[];if(!e.children)return[];e=T(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n!="string"&&t.push(n);return t}function Rt(e,t){var n=[];if(!e.children)return[];e=T(e.children);for(var r=e.next();!r.done;r=e.next())r=r.value,r.tagName===t&&n.push(r);return n}function ln(e){return typeof e=="string"?rr(e):(e=e.children.reduce(function(t,n){return typeof n=="string"?t+n:t},""),e===""?null:rr(e))}function er(e){return Array.from(e.children).every(function(t){return typeof t=="string"})?((e=ln(e))&&(e=e.trim()),e):null}function Sr(e,t,n){if(n=n===void 0?[]:n,e.tagName===t&&n.push(e),e.children){e=T(e.children);for(var r=e.next();!r.done;r=e.next())Sr(r.value,t,n)}return n}function dn(e,t){return e=Rt(e,t),e.length!=1?null:e[0]}function Ii(e,t,n){return e=$s(e,t,n),e.length!=1?null:e[0]}function rt(e,t,n,r){r=r===void 0?null:r;var i=null;return e=e.attributes[t],e!=null&&(i=n(e)),i??r}function Yi(e,t,n){return t=td(t),e.attributes[t+":"+n]||null}function $s(e,t,n){var r=td(t);if(t=[],e.children)for(n=r?r+":"+n:n,e=T(e.children),r=e.next();!r.done;r=e.next())(r=r.value)&&r.tagName===n&&t.push(r);return t}function Ei(e,t,n){t=T(t);for(var r=t.next();!r.done;r=t.next())if(r=Yi(e,r.value,n))return r;return null}function Uo(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function ir(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Fl(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function or(e){return e=Number(e),e%1===0?e:null}function mo(e){return e=Number(e),e%1===0&&0<e?e:null}function Nn(e){return e=Number(e),e%1===0&&0<=e?e:null}function Zu(e){return e=Number(e),isNaN(e)?null:e}function Js(e){return e?e.toLowerCase()==="true":!1}function oi(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function jo(e){var t=[];e=rr(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/),e=T(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=n.match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),o=n.match(/(@t='(\d+)')/),a=n.match(/(@n='(\d+)')/),f=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:f?Number(f[1])-1:null,Yb:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].Yb=n.slice(1))}return t}function sc(e,t){var n=jo(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;n=r.position,n==null&&(r.t!==null&&(n=Kl(e,"t",r.t)),r.n!==null&&(n=Kl(e,"n",r.n))),n===null?n=i==="prepend"?0:e.length:i==="prepend"?--n:i==="after"&&++n,i=t.tagName,(r=r.Yb)&&e[n]?Sh(e[n],i,r,er(t)||""):(i!=="remove"&&i!=="replace"||e.splice(n,1),i!=="add"&&i!=="replace"||e.splice.apply(e,[n,0].concat(te(t.children))))}}function Kl(e,t,n){var r=0;e=T(e);for(var i=e.next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function Sh(e,t,n,r){t==="remove"?delete e.attributes[n]:(t==="add"||t==="replace")&&(e.attributes[n]=r)}function ac(e){var t="",n=e.tagName.split(":");0<n.length&&(t=n[0],t=Hl.has(t)?Hl.get(t):""),t=document.createElementNS(t,e.tagName);for(var r in e.attributes)t.setAttribute(r,e.attributes[r]);for(e=T(e.children),r=e.next();!r.done;r=e.next())r=r.value,n=void 0,typeof r=="string"?n=new Text(r):n=ac(r),t.appendChild(n);return t}function Qs(e){if(!e)return null;var t={tagName:e.tagName,attributes:Xr(e.attributes),children:[],parent:null};e=T(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"||(n=Qs(n),n.parent=t),t.children.push(n);return t}var el=new Map,Hl=new Map;function qt(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Yu,this.position=null,this.positionAlign=pc,this.size=0,this.textAlign=So,this.direction=ta,this.writingMode=tl,this.lineInterpretation=nl,this.line=null,this.lineHeight="",this.lineAlign=rl,this.displayAlign=ea,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Eh,this.fontStyle=od,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={nc:32,rows:15}}function wh(e,t){return e=new qt(e,t,""),e.lineBreak=!0,e}qt.prototype.clone=function(){var e=new qt(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function cc(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!Vs(e.nestedCues,t.nestedCues,cc))return!1}else if(n=="region"||n=="cellResolution"){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!Vs(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}function fc(e,t){t=t===void 0?new Map:t;var n=e.payload;if(n.includes("<")){t.size===0&&dc(t);var r=n;n=[];for(var i=-1,o=0;o<r.length;o++)r[o]==="<"?i=o+1:r[o]===">"&&0<i&&(i=r.substr(i,o-i),i.match(Hg)&&n.push(i),i=-1);for(n=T(n),o=n.next();!o.done;o=n.next())o=o.value,r=r.replace("<"+o+">",'<div time="'+o+'">'),r+="</div>";e:{o=r,i=[];var a=-1;n="",r=!1;for(var f=0;f<o.length;f++)if(o[f]==="/"){var p=o.indexOf(">",f);if(p===-1){n=o;break e}if((p=o.substring(f+1,p))&&p=="v"){r=!0;var g=null;if(i.length&&(g=i[i.length-1]),g){if(g===p)n+="/"+p+">";else{if(!g.startsWith("v")){n+=o[f];continue}n+="/"+g+">"}f+=p.length+1}else n+=o[f]}else n+=o[f]}else o[f]==="<"?(a=f+1,o[a]!="v"&&(a=-1)):o[f]===">"&&0<a&&(i.push(o.substr(a,f-a)),a=-1),n+=o[f];for(o=T(i),i=o.next();!i.done;i=o.next())i=i.value,a=i.replace(" ",".voice-"),n=n.replace("<"+i+">","<"+a+">"),n=n.replace("</"+i+">","</"+a+">"),r||(n+="</"+a+">")}n=Kg(n),e.payload="";try{var m=Xi("<span>"+n+"</span>","span")}catch{}if(m)if(m=m.children,m.length!=1||m[0].tagName)for(m=T(m),n=m.next();!n.done;n=m.next())Th(n.value,e,t);else e.payload=rr(n);else e.payload=rr(n)}else e.payload=rr(n)}function dc(e){for(var t=T(Object.entries(Ih)),n=t.next();!n.done;n=t.next()){var r=T(n.value);n=r.next().value,r=r.next().value;var i=new qt(0,0,"");i.color=r,e.set("."+n,i)}for(t=T(Object.entries(id)),n=t.next();!n.done;n=t.next())r=T(n.value),n=r.next().value,r=r.next().value,i=new qt(0,0,""),i.backgroundColor=r,e.set("."+n,i)}function Kg(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return t[i]||""}):e||""}function Th(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new Yu,r.position=null,r.size=0,r.textAlign=So,e.tagName)for(var i=T(e.tagName.split(/(?=[ .])+/g)),o=i.next();!o.done;o=i.next()){var a=o=o.value;if(a.startsWith(".voice-")){var f=a.split("-").pop();a='v[voice="'+f+'"]',n.has(a)||(a="v[voice="+f+"]")}switch(n.has(a)&&(f=r,a=n.get(a))&&(f.backgroundColor=Zs(a.backgroundColor,f.backgroundColor),f.color=Zs(a.color,f.color),f.fontFamily=Zs(a.fontFamily,f.fontFamily),f.fontSize=Zs(a.fontSize,f.fontSize),f.textShadow=Zs(a.textShadow,f.textShadow),f.fontWeight=a.fontWeight,f.fontStyle=a.fontStyle,f.opacity=a.opacity,f.rubyTag=a.rubyTag,f.textCombineUpright=a.textCombineUpright,f.wrapLine=a.wrapLine),o){case"br":r=wh(r.startTime,r.endTime),t.nestedCues.push(r);return;case"b":r.fontWeight=ql;break;case"i":r.fontStyle=zl;break;case"u":r.textDecoration.push(Bo);break;case"font":(o=e.attributes.color)&&(r.color=o);break;case"div":if(o=e.attributes.time,!o)break;(o=ii(o))&&(r.startTime=o);break;case"ruby":case"rp":case"rt":r.rubyTag=o}}if(i=e.children,Qu(e)||i.length==1&&Qu(i[0]))for(n=ln(e).split(`
`),e=!0,n=T(n),i=n.next();!i.done;i=n.next())i=i.value,e||(e=wh(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&(e=r.clone(),e.payload=rr(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),t=T(i),e=t.next();!e.done;e=t.next())Th(e.value,r,n)}function Zs(e,t){return e&&0<e.length?e:t}Re("shaka.text.Cue",qt),qt.parseCuePayload=fc,qt.equal=cc,qt.prototype.clone=qt.prototype.clone;var pc="auto";qt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:pc};var So="center",hc={LEFT:"left",RIGHT:"right",CENTER:So,START:"start",END:"end"};qt.textAlign=hc;var ea="after",xh={BEFORE:"before",CENTER:"center",AFTER:ea};qt.displayAlign=xh;var ta="ltr";qt.direction={HORIZONTAL_LEFT_TO_RIGHT:ta,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var tl="horizontal-tb";qt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:tl,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var nl=0;qt.lineInterpretation={LINE_NUMBER:nl,PERCENTAGE:1};var rl="start",rd={CENTER:"center",START:rl,END:"end"};qt.lineAlign=rd;var Ih={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};qt.defaultTextColor=Ih;var id={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};qt.defaultTextBackgroundColor=id;var Eh=400,ql=700;qt.fontWeight={NORMAL:Eh,BOLD:ql};var od="normal",zl="italic",Ch={NORMAL:od,ITALIC:zl,OBLIQUE:"oblique"};qt.fontStyle=Ch;var Bo="underline";qt.textDecoration={UNDERLINE:Bo,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var Hg=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function wo(){}wo.prototype.destroy=function(){};function ui(e,t,n){yc[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,ne:t}}function wu(e,t){for(var n=e.toLowerCase().split(";")[0],r=T([ud,vc,gc,Vo]),i=r.next();!i.done;i=r.next())if(i=yc[n+"-"+i.value]){var o=i.ne(),a=o.isSupported(e,t);if(o.destroy(),a)return i.ne}return null}Re("shaka.transmuxer.TransmuxerEngine",wo),wo.findTransmuxer=wu,wo.unregisterTransmuxer=function(e,t){delete yc[e.toLowerCase().split(";")[0]+"-"+t]},wo.registerTransmuxer=ui,wo.prototype.destroy=wo.prototype.destroy;var yc={},Vo=1,gc=2,vc=3,ud=4;wo.PluginPriority={FALLBACK:Vo,PREFERRED_SECONDARY:gc,PREFERRED:vc,APPLICATION:ud};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function pn(e){var t;e instanceof pn?(mc(this,e.Gb),this.Dc=e.Dc,Sc(this,e.ub),wc(this,e.Xc),this.Za=e.Za,Tu(this,e.g.clone()),this.oc=e.oc):e&&(t=String(e).match(Gl))?(mc(this,t[1]||"",!0),this.Dc=Fo(t[2]||""),Sc(this,t[3]||"",!0),wc(this,t[4]),this.Za=Fo(t[5]||"",!0),Tu(this,t[6]||"",!0),this.oc=Fo(t[7]||"")):this.g=new il(null)}h=pn.prototype,h.Gb="",h.Dc="",h.ub="",h.Xc=null,h.Za="",h.oc="",h.toString=function(){var e=[],t=this.Gb;if(t&&e.push(Ko(t,na,!0),":"),t=this.ub){e.push("//");var n=this.Dc;n&&e.push(Ko(n,na,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Xc,t!=null&&e.push(":",String(t))}return(t=this.Za)&&(this.ub&&t.charAt(0)!="/"&&e.push("/"),e.push(Ko(t,t.charAt(0)=="/"?kh:zg,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.oc)&&e.push("#",Ko(t,sd)),e.join("")},h.resolve=function(e){var t=this.clone();t.Gb==="data"&&(t=new pn);var n=!!e.Gb;n?mc(t,e.Gb):n=!!e.Dc,n?t.Dc=e.Dc:n=!!e.ub,n?Sc(t,e.ub):n=e.Xc!=null;var r=e.Za;if(n)wc(t,e.Xc);else if(n=!!e.Za){if(r.charAt(0)!="/")if(this.ub&&!this.Za)r="/"+r;else{var i=t.Za.lastIndexOf("/");i!=-1&&(r=t.Za.substr(0,i+1)+r)}if(r==".."||r==".")r="";else if(r.indexOf("./")!=-1||r.indexOf("/.")!=-1){i=r.lastIndexOf("/",0)==0,r=r.split("/");for(var o=[],a=0;a<r.length;){var f=r[a++];f=="."?i&&a==r.length&&o.push(""):f==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),i&&a==r.length&&o.push("")):(o.push(f),i=!0)}r=o.join("/")}}return n?t.Za=r:n=e.g.toString()!=="",n?Tu(t,e.g.clone()):n=!!e.oc,n&&(t.oc=e.oc),t},h.clone=function(){return new pn(this)};function mc(e,t,n){e.Gb=n?Fo(t,!0):t,e.Gb&&(e.Gb=e.Gb.replace(/:$/,""))}function Sc(e,t,n){e.ub=n?Fo(t,!0):t}function wc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Xc=t}else e.Xc=null}function Tu(e,t,n){t instanceof il?e.g=t:(n||(t=Ko(t,ld)),e.g=new il(t))}function Fo(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function Ko(e,t,n){return e!=null?(e=encodeURI(e).replace(t,qg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qg(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var na=/[#\/\?@]/g,zg=/[#\?:]/g,kh=/[#\?]/g,ld=/[#\?@]/g,sd=/#/g;function il(e){this.g=e||null}function ra(e){if(!e.Ra&&(e.Ra={},e.hd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),i=i||"",e.add(o,decodeURIComponent(i.replace(/\+/g," ")))}}h=il.prototype,h.Ra=null,h.hd=null;function ad(e){return ra(e),e.hd}h.add=function(e,t){ra(this),this.g=null;var n=this.Ra.hasOwnProperty(e)?this.Ra[e]:null;return n||(this.Ra[e]=n=[]),n.push(t),this.hd++,this},h.set=function(e,t){return ra(this),this.g=null,this.Ra.hasOwnProperty(e)?this.Ra[e]=[t]:this.add(e,t),this},h.get=function(e){return ra(this),this.Ra[e]||[]},h.toString=function(){if(this.g)return this.g;if(!this.Ra)return"";var e=[],t;for(t in this.Ra)for(var n=encodeURIComponent(t),r=this.Ra[t],i=0;i<r.length;i++){var o=n;r[i]!==""&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.g=e.join("&")},h.clone=function(){var e=new il;if(e.g=this.g,this.Ra){var t={},n;for(n in this.Ra)t[n]=this.Ra[n].concat();e.Ra=t,e.hd=this.hd}return e};function ur(){}function Tc(e){return e=Xs(Ze(e)),btoa(e)}function Ho(e,t){return t=t??!0,e=Tc(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function li(e){e=x.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function ol(e){for(var t=e.length/2,n=new Uint8Array(t),r=0;r<t;r++)n[r]=x.parseInt(e.substr(2*r,2),16);return n}function Gn(e){var t=Ze(e);e="",t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function nn(){for(var e=It.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];ArrayBuffer.isView(i)&&i.BYTES_PER_ELEMENT===1?t.set(i,n):t.set(Ze(i),n),n+=i.byteLength}return t}Re("shaka.util.Uint8ArrayUtils",ur),ur.concat=nn,ur.toHex=Gn,ur.fromHex=ol,ur.fromBase64=li,ur.toBase64=Ho,ur.toStandardBase64=Tc;function An(e,t,n){if(n=n===void 0?"":n,t.length==0)return e;if(e.length==1&&t.length==1){var r=new pn(e[0]);return t=new pn(t[0]),t=r.resolve(t),n&&Tu(t,n),[t.toString()]}t=t.map(function(f){return new pn(f)}),r=[],e=T(e);for(var i=e.next();!i.done;i=e.next()){i=new pn(i.value);for(var o=T(t),a=o.next();!a.done;a=o.next())a=i.resolve(a.value),n&&Tu(a,n),r.push(a.toString())}return r}function qo(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function cd(e,t){t=t===void 0?"cenc":t;var n=[],r=[],i=[];e.forEach(function(a,f){var p=f;p.length!=22&&(p=Ho(ol(f),!1));var g=a;g.length!=22&&(g=Ho(ol(a),!1)),a={kty:"oct",kid:p,k:g},n.push(a),r.push(a.kid),i.push(f)}),e=JSON.stringify({keys:n});var o=JSON.stringify({kids:r});return o=[{initData:Ze(ri(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:t,licenseServerUri:"data:application/json;base64,"+x.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(i)}}function ia(e,t){if(t.length==1)return t[0];if(e=lr(e,t),e!=null)return e;throw new X(2,4,4025,t)}function lr(e,t){for(var n=T(Wl[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=T(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return e==at?"":null}function fd(e,t){var n=[];e=T(Wl[e]);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=T(t),o=i.next();!o.done;o=i.next())o=o.value,r.test(o.trim())&&n.push(o.trim())}return n}var at="text",sn={oa:"video",W:"audio",wa:at,Pe:"image",zj:"application"},dd=1/15,Wl={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function oa(){}function hn(e,t){var n=e;return t&&!xr.includes(e)&&(n+='; codecs="'+t+'"'),n}function zo(e,t){return t&&(e+='; codecs="'+t+'"'),e}function xu(e,t,n){var r=hn(e,t);return t=zo(e,t),wu(t)?(e=wu(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?r.replace("video","audio"):r,n}function pd(e,t,n){var r=[t];return Ah.forEach(function(i,o){var a=e[o];o=="codecs"?xr.includes(e.mimeType)||r.push('codecs="'+n+'"'):a&&r.push(i+'="'+a+'"')}),e.hdr=="PQ"&&r.push('eotf="smpte2084"'),r.join(";")}function ua(e){return e.split(";")[0].split("/")[1]}function Rn(e){var t=hd(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):return"ac-3";case(e==="mp4a"&&t==="a6"):return"ec-3";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="vp09":return"vp9";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="vvc1":case e==="vvi1":return"vvc";case e==="dvh1":case e==="dvhe":return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case e==="dvav":case e==="dva1":return"dovi-avc";case e==="dav1":return"dovi-av1";case e==="dvc1":case e==="dvi1":return"dovi-vvc"}return e}function Go(e){var t=[];e=T(e.split(","));for(var n=e.next();!n.done;n=e.next())n=hd(n.value),t.push(n[0]);return t.sort().join(",")}function wr(e){return e.split(";")[0]}function Tr(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function xc(e){return e==="application/x-mpegurl"||e==="application/vnd.apple.mpegurl"}function hd(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}Re("shaka.util.MimeUtils",oa),oa.getFullTypeWithAllCodecs=zo,oa.getFullType=hn;var Ah=new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),xr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function $i(e){this.i=null,this.j=e,this.B=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function Iu(e){return yn[e]?!0:e=="application/cea-608"||e=="application/cea-708"?!!ho:!1}$i.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function Gg(e,t,n,r,i){var o,a,f,p,g,m,w;return z(function(E){if(E.g==1)return L(E,Promise.resolve(),2);if(!e.i||!e.j)return E.return();if(n==null||r==null)return e.i.parseInit(Ze(t)),E.return();for(o=e.B?n:e.s,a={periodStart:e.s,segmentStart:n,segmentEnd:r,vttOffset:o},f=e.i.parseMedia(Ze(t),a,i,[]),p=T(f),g=p.next();!g.done;g=p.next())m=g.value,e.A(m,i||null,a);w=f.filter(function(C){return C.startTime>=e.l&&C.startTime<e.m}),e.j.append(w),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),oe(E)})}$i.prototype.remove=function(e,t){var n=this;return z(function(r){if(r.g==1)return L(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),oe(r)})};function Wg(e,t,n){e.l=t,e.m=n}function Xl(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=T(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter(function(o){return o.endTime<=n}))&&e.j.append(i)}function Ph(e,t,n){t.startTime+=n,t.endTime+=n,t=T(t.nestedCues);for(var r=t.next();!r.done;r=t.next())Ph(e,r.value,n)}function Dh(e,t,n,r,i){var o=n+" "+r,a=new Map;t=T(t);for(var f=t.next();!f.done;f=t.next()){var p=f.value;f=p.stream,p=p.cue,a.has(f)||a.set(f,new Map),a.get(f).has(o)||a.get(f).set(o,[]),Ph(e,p,i),p.startTime>=e.l&&p.startTime<e.m&&(a.get(f).get(o).push(p),f==e.C&&e.j.append([p]))}for(i=T(a.keys()),o=i.next();!o.done;o=i.next())for(o=o.value,e.o.has(o)||e.o.set(o,new Map),t=T(a.get(o).keys()),f=t.next();!f.done;f=t.next())f=f.value,p=a.get(o).get(f),e.o.get(o).set(f,p);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}Re("shaka.text.TextEngine",$i),$i.prototype.destroy=$i.prototype.destroy,$i.findParser=function(e){return yn[e]},$i.unregisterParser=function(e){delete yn[e]},$i.registerParser=function(e,t){yn[e]=t};var yn={};function In(e,t){return e.concat(t)}function yd(){}function Ji(e){return e!=null}function Wo(e,t){return Promise.race([t,new Promise(function(n,r){new st(r).aa(e)})])}function si(){}function Eu(e,t){return e=Et(e),t=Et(t),e.split("-")[0]==t.split("-")[0]}function Xo(e,t){return e=Et(e),t=Et(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function Yl(e,t){return e=Et(e),t=Et(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function Et(e){e=T(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=T(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=sa.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function Cu(e,t){return e=Et(e),t=Et(t),t==e?4:Xo(t,e)?3:Yl(t,e)?2:Xo(e,t)?1:0}function gd(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=sa.get(e)||e}function vd(e){return e.language?Et(e.language):e.audio&&e.audio.language?Et(e.audio.language):e.video&&e.video.language?Et(e.video.language):"und"}function la(e,t){e=Et(e);var n=new Set;t=T(t);for(var r=t.next();!r.done;r=t.next())n.add(Et(r.value));for(t=T(n),r=t.next();!r.done;r=t.next())if(r=r.value,r==e)return r;for(t=T(n),r=t.next();!r.done;r=t.next())if(r=r.value,Xo(r,e))return r;for(t=T(n),r=t.next();!r.done;r=t.next())if(r=r.value,Yl(r,e))return r;for(n=T(n),t=n.next();!t.done;t=n.next())if(t=t.value,Xo(e,t))return t;return null}Re("shaka.util.LanguageUtils",si),si.findClosestLocale=la,si.getLocaleForVariant=vd,si.getLocaleForText=function(e){return Et(e.language||"und")},si.getBase=gd,si.relatedness=Cu,si.areSiblings=function(e,t){var n=gd(e),r=gd(t);return e!=n&&t!=r&&n==r},si.normalize=Et,si.isSiblingOf=Yl,si.isParentOf=Xo,si.areLanguageCompatible=Eu,si.areLocaleCompatible=function(e,t){return e=Et(e),t=Et(t),e==t};var sa=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function aa(){}function Ic(e,t,n,r,i){if(i.length){var o=e.textStreams;i=T(i);for(var a=i.next(),f={};!a.done;f={hg:void 0},a=i.next())if(f.hg=a.value,a=o.filter(function(R){return function(O){return!!(O.codecs.startsWith(R.hg)||O.mimeType.startsWith(R.hg))}}(f)),a.length){o=a;break}e.textStreams=o}if(o=e.variants,(t.length||n.length)&&(o=md(o,t,n)),r.length){for(t=new bs,n=T(o),o=n.next();!o.done;o=n.next())o=o.value,t.push(String(o.video.width||0),o);var p=[];t.forEach(function(R,O){R=0;var j=[];O=T(O);for(var _=O.next(),K={};!_.done;K={Ie:void 0},_=O.next())K.Ie=_.value,_=r.filter(function(G){return function(W){return G.Ie.decodingInfos[0][W]}}(K)).length,_>R?(R=_,j=[K.Ie]):_==R&&j.push(K.Ie);p.push.apply(p,te(j))}),o=p}for(n=new Set,t=new Set,o=T(o),i=o.next();!i.done;i=o.next())i=i.value,i.audio&&n.add(i.audio),i.video&&t.add(i.video);o=Array.from(n).sort(function(R,O){return R.bandwidth-O.bandwidth});var g=[];for(n=new Map,o=T(o),i=o.next();!i.done;i=o.next()){if(i=i.value,a=i.language+(i.channelsCount||0)+(i.audioSamplingRate||0)+i.roles.join(",")+i.label+i.groupId+i.fastSwitching,f=n.get(a)||[],f.length){var m=f[f.length-1],w=Rn(m.codecs),E=Rn(i.codecs);w!=E||i.bandwidth&&m.bandwidth&&!(i.bandwidth>m.bandwidth)||(f.push(i),g.push(i.id))}else f.push(i),g.push(i.id);n.set(a,f)}var C={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};o=Array.from(t).sort(function(R,O){if(!R.bandwidth||!O.bandwidth||R.bandwidth==O.bandwidth){if(R.codecs&&O.codecs&&R.codecs!=O.codecs&&R.width==O.width){var j=Rn(R.codecs),_=Rn(O.codecs);if(j!=_)return(C[j]||1)-(C[_]||1)}return R.width-O.width}return R.bandwidth-O.bandwidth}),t=du();var P=[];for(n=new Map,o=T(o),i=o.next();!i.done;i=o.next()){if(i=i.value,a=Math.round(i.frameRate||0)+(i.hdr||"")+i.fastSwitching,f=n.get(a)||[],f.length){if(m=f[f.length-1],!t&&(w=Rn(m.codecs),E=Rn(i.codecs),w!==E))continue;i.width>m.width||i.height>m.height?(f.push(i),P.push(i.id)):i.width==m.width&&i.height==m.height&&(w=Rn(m.codecs),E=Rn(i.codecs),w!=E||i.bandwidth&&m.bandwidth&&!(i.bandwidth>m.bandwidth)||(f.push(i),P.push(i.id)))}else f.push(i),P.push(i.id);n.set(a,f)}e.variants=e.variants.filter(function(R){var O=R.audio;return R=R.video,!(O&&!g.includes(O.id)||R&&!P.includes(R.id))})}function md(e,t,n){t=T(t);for(var r=t.next(),i={};!r.done;i={Dh:void 0},r=t.next())if(i.Dh=r.value,r=e.filter(function(o){return function(a){return a.video&&a.video.codecs.startsWith(o.Dh)}}(i)),r.length){e=r;break}for(n=T(n),t=n.next(),r={};!t.done;r={tg:void 0},t=n.next())if(r.tg=t.value,t=e.filter(function(o){return function(a){return a.audio&&a.audio.codecs.startsWith(o.tg)}}(r)),t.length){e=t;break}return e}function Sd(e,t,n){e.variants=e.variants.filter(function(r){return $l(r,t,n)})}function $l(e,t,n){function r(f,p,g){return f>=p&&f<=g}var i=e.video;if(i&&i.width&&i.height){var o=i.width,a=i.height;if(a>o&&(a=T([a,o]),o=a.next().value,a=a.next().value),!r(o,t.minWidth,Math.min(t.maxWidth,n.width))||!r(a,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Xg(e,t,n,r){return n=n===void 0?[]:n,r=r===void 0?{}:r,z(function(i){return i.g==1?L(i,wd(e,t,0<t.offlineSessionIds.length,n,r),2):(Yo(t),L(i,xd(t),0))})}function wd(e,t,n,r,i){var o,a;return z(function(f){if(f.g==1)return Gi()&&Yg(t.variants),L(f,Td(t.variants,n,!1,r),2);o=null,e&&(a=e.h)&&(o=a.keySystem),t.variants=t.variants.filter(function(p){var g=$g(p,o,i);if(!g){var m=[];p.audio&&m.push(Mr(p.audio)),p.video&&m.push(Mr(p.video))}return g}),oe(f)})}function Yg(e){var t={dvav:"avc3",dva1:"avc1",dvhe:"hev1",dvh1:"hvc1",dvc1:"vvc1",dvi1:"vvi1"},n=new Set;e=T(e);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&n.add(r.video);for(n=T(n),e=n.next();!e.done;e=n.next()){e=e.value,r=T(Object.keys(t));for(var i=r.next();!i.done;i=r.next())if(i=i.value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,t[i]);break}}}function $g(e,t,n){if(!e.decodingInfos.some(function(p){return!(!p.supported||t&&(p=p.keySystemAccess)&&(n[p.keySystem]||p.keySystem)!=t)}))return!1;var r=Gi(),i=Tt("Firefox")&&vu(),o=e.video,a=o&&o.width||0,f=o&&o.height||0;return r&&o&&(1920<a||1080<f)&&(o.codecs.includes("avc1.")||o.codecs.includes("avc3."))?!1:(e=e.audio,!(i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")))}function Ec(e,t){var n,r,i,o,a,f,p;return z(function(g){if(g.g==1){for(n=function(m,w){if(m){var E=Xr(m);return E.supported=m.supported&&w.supported,E.powerEfficient=m.powerEfficient&&w.powerEfficient,E.smooth=m.smooth&&w.smooth,w.keySystemAccess&&!E.keySystemAccess&&(E.keySystemAccess=w.keySystemAccess),E}return w},r=null,i=[],o=T(t),a=o.next(),f={};!a.done;f={cache:void 0,Nd:void 0},a=o.next())p=a.value,f.Nd=ed(p),f.cache=Pu,f.cache[f.Nd]?r=n(r,f.cache[f.Nd]):i.push(ku(p).then(function(m){return function(w){var E=null;w=T(w||[]);for(var C=w.next();!C.done;C=w.next())E=n(E,C.value);E&&(m.cache[m.Nd]=E,r=n(r,E))}}(f)));return L(g,Promise.all(i),2)}r&&e.decodingInfos.push(r),oe(g)})}function ku(e){var t=[""];e.video&&(t=Tr(e.video.contentType).split(","));var n=[""];e.audio&&(n=Tr(e.audio.contentType).split(","));var r=[];t=T(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;for(var o=T(n),a=o.next(),f={};!a.done;f={Hc:void 0},a=o.next())a=a.value,f.Hc=Rr(e),e.video&&(f.Hc.video.contentType=hn(wr(f.Hc.video.contentType),i)),e.audio&&(f.Hc.audio.contentType=hn(wr(f.Hc.audio.contentType),a)),r.push(new Promise(function(p){return function(g,m){Wo(1,navigator.mediaCapabilities.decodingInfo(p.Hc)).then(function(w){g(w)}).catch(m)}}(f)))}return Promise.all(r).catch(function(){return JSON.stringify(e),null})}function Td(e,t,n,r){var i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W;return z(function(q){switch(q.g){case 1:if(e.some(function(F){return F.decodingInfos.length}))return q.return();i=T(r),o=i.next(),a={};case 2:if(o.done){q.u(4);break}a.dh=o.value,f=!1,p=T(e),g=p.next();case 5:if(g.done){q.u(7);break}m=g.value,w=ul(m,t,n).filter(function(F){return function(Q){return Q=Q[0],(Q.keySystemConfiguration&&Q.keySystemConfiguration.keySystem)===F.dh}}(a)),E=T(w),C=E.next();case 8:if(C.done){q.u(10);break}return P=C.value,L(q,Ec(m,P),9);case 9:C=E.next(),q.u(8);break;case 10:m.decodingInfos.length&&(f=!0),g=p.next(),q.u(5);break;case 7:if(f)return q.return();a={dh:void 0},o=i.next(),q.u(2);break;case 4:R=T(e),O=R.next();case 12:if(O.done){q.u(0);break}j=O.value,_=ul(j,t,n).filter(function(F){return F=F[0],F=F.keySystemConfiguration&&F.keySystemConfiguration.keySystem,!F||!r.includes(F)}),K=T(_),G=K.next();case 15:if(G.done){O=R.next(),q.u(12);break}return W=G.value,L(q,Ec(j,W),16);case 16:G=K.next(),q.u(15)}})}function ul(e,t,n){var r=e.audio,i=e.video,o=[],a=[];if(i)for(var f=T(i.fullMimeTypes),p=f.next();!p.done;p=f.next()){p=p.value;var g=Tr(p);if(g.includes(",")&&!r){var m=g.split(","),w=wr(p);g=ia("video",m),m=ia("audio",m),m=ai(m,w),w=xu(w,m,"audio"),a.push({contentType:w,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(g=ll(g),p={contentType:xu(wr(p),g,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":p.transferFunction="srgb";break;case"PQ":p.transferFunction="pq";break;case"HLG":p.transferFunction="hlg"}i.colorGamut&&(p.colorGamut=i.colorGamut),o.push(p)}if(r)for(f=T(r.fullMimeTypes),p=f.next();!p.done;p=f.next())g=p.value,p=wr(g),g=ai(Tr(g),p),p=xu(p,g,"audio"),a.push({contentType:p,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(f=[],o.length==0&&o.push(null),a.length==0&&a.push(null),o=T(o),p=o.next();!p.done;p=o.next())for(p=p.value,g=T(a),w=g.next();!w.done;w=g.next())w=w.value,m={type:n?"file":"media-source"},p&&(m.video=p),w&&(m.audio=w),f.push(m);if(a=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!a.length)return[f];for(e=[],n=new Map,a=T(a),o=a.next();!o.done;o=a.next())o=o.value,n.get(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o);for(a=t?"required":"optional",t=t?["persistent-license"]:["temporary"],o=T(n.keys()),p=o.next();!p.done;p=o.next()){for(p=p.value,w=n.get(p),g=new Map,w=T(w),m=w.next();!m.done;m=w.next()){m=m.value;var E=m.videoRobustness+","+m.audioRobustness;g.get(E)||g.set(E,[]),g.get(E).push(m)}for(g=T(g.values()),w=g.next();!w.done;w=g.next()){w=w.value,m=[],E=T(f);for(var C=E.next();!C.done;C=E.next()){C=Object.assign({},C.value);for(var P={keySystem:p,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:t},R=T(w),O=R.next();!O.done;O=R.next()){if(O=O.value,O.initData&&O.initData.length){for(var j=new Set,_=T(O.initData),K=_.next();!K.done;K=_.next())j.add(K.value.initDataType);P.initDataType=O.initData[0].initDataType}O.distinctiveIdentifierRequired&&(P.distinctiveIdentifier="required"),O.persistentStateRequired&&(P.persistentState="required"),O.sessionType&&(P.sessionTypes=[O.sessionType]),r&&(P.audio?(O.encryptionScheme&&(P.audio.encryptionScheme=P.audio.encryptionScheme||O.encryptionScheme),P.audio.robustness=P.audio.robustness||O.audioRobustness):(P.audio={robustness:O.audioRobustness},O.encryptionScheme&&(P.audio.encryptionScheme=O.encryptionScheme)),P.audio.robustness==""&&delete P.audio.robustness),i&&(P.video?(O.encryptionScheme&&(P.video.encryptionScheme=P.video.encryptionScheme||O.encryptionScheme),P.video.robustness=P.video.robustness||O.videoRobustness):(P.video={robustness:O.videoRobustness},O.encryptionScheme&&(P.video.encryptionScheme=O.encryptionScheme)),P.video.robustness==""&&delete P.video.robustness)}C.keySystemConfiguration=P,m.push(C)}e.push(m)}}return e}function ai(e,t){return e.toLowerCase()=="flac"?yu()?"fLaC":"flac":e.toLowerCase()==="opus"?yu()&&ua(t)=="mp4"?"Opus":"opus":e}function ll(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function Yo(e){e.textStreams=e.textStreams.filter(function(t){return t=hn(t.mimeType,t.codecs),Iu(t)})}function xd(e){var t,n,r,i,o,a,f;return z(function(p){switch(p.g){case 1:t=[],n=T(e.imageStreams),r=n.next();case 2:if(r.done){p.u(4);break}if(i=r.value,o=i.mimeType,o=="application/mp4"&&i.codecs=="mjpg"&&(o="image/jpg"),ar.has(o)){p.u(5);break}if(a=Cc.get(o),!a){ar.set(o,!1),p.u(5);break}return L(p,Jg(a),7);case 7:f=p.h,ar.set(o,f);case 5:ar.get(o)&&t.push(i),r=n.next(),p.u(2);break;case 4:e.imageStreams=t,oe(p)}})}function Jg(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function Jl(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,o=t?t.codecs:null,a=n?n.codecs:null,f=[];a&&f.push(a),o&&f.push(o);var p=[];n&&p.push(n.mimeType),t&&p.push(t.mimeType),p=p[0]||null;var g=[];t&&g.push(t.kind),n&&g.push(n.kind),g=g[0]||null;var m=new Set;if(t)for(var w=T(t.roles),E=w.next();!E.done;E=w.next())m.add(E.value);if(n)for(w=T(n.roles),E=w.next();!E.done;E=w.next())m.add(E.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:g,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:p,audioMimeType:r,videoMimeType:i,codecs:f.join(", "),audioCodec:o,videoCodec:a,primary:e.primary,roles:Array.from(m),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,a.includes(",")&&(e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage)),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function To(e){return{id:e.id,active:!1,type:at,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function sl(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=Qr(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&t!=null&&(t/=Number(i.split("x")[0])),i&&n!=null&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function Au(e){return e.__shaka_id||(e.__shaka_id=Ql++),e.__shaka_id}function ca(e){var t=al(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="unknown"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function fa(e){var t=al(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function al(e){var t=e.language;return{id:Au(e),active:!1,type:"",bandwidth:0,language:Et(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Ci(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function gn(e){return e.filter(function(t){return Ci(t)})}function on(e,t,n,r){var i=e,o=e.filter(function(p){return p.primary});o.length&&(i=o);var a=i.length?i[0].language:"";if(i=i.filter(function(p){return p.language==a}),t){var f=la(Et(t),e.map(function(p){return p.language}));f&&(i=e.filter(function(p){return Et(p.language)==f}))}if(i=i.filter(function(p){return p.forced==r}),n){if(e=$o(i,n),e.length)return e}else if(e=i.filter(function(p){return p.roles.length==0}),e.length)return e;return e=i.map(function(p){return p.roles}).reduce(In,[]),e.length?$o(i,e[0]):i}function $o(e,t){return e.filter(function(n){return n.roles.includes(t)})}function sr(e,t){t.length&&(t=t.filter(function(n){return Rn(e.codecs)==Rn(n.codecs)}).sort(function(n,r){return n.bandwidth&&r.bandwidth&&n.bandwidth!=r.bandwidth?n.bandwidth-r.bandwidth:(n.width||0)-(r.width||0)}),e.trickModeVideo=t[0],1<t.length&&(t=t.find(function(n){return e.width==n.width&&e.height==n.height})))&&(e.trickModeVideo=t)}function Mr(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}Re("shaka.util.StreamUtils",aa),aa.meetsRestrictions=$l;var Pu={},Ql=0,ar=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),Cc=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Qt(){var e=this;this.G=null,this.o=!1,this.m=new Wu,this.j=new At,navigator.connection&&navigator.connection.addEventListener&&this.j.D(navigator.connection,"change",function(){if(e.o&&e.g.useNetworkInformation){e.m=new Wu,e.g&&e.m.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.F=[],this.H=1,this.I=!1,this.h=this.l=this.g=this.s=null,this.A=new st(function(){if(e.o&&(e.g.restrictToElementSize||e.g.restrictToScreenSize)){var t=e.chooseVariant();t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.B=x,"documentPictureInPicture"in x&&this.j.D(x.documentPictureInPicture,"enter",function(){e.B=x.documentPictureInPicture.window,e.A&&e.A.Hb(),e.j.la(e.B,"pagehide",function(){e.B=x,e.A&&e.A.Hb()})}),this.C=this.i=null}h=Qt.prototype,h.stop=function(){this.G=null,this.o=!1,this.F=[],this.H=1,this.l=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.A.stop(),this.C=this.i=null},h.release=function(){this.j.release(),this.A=null},h.init=function(e){this.G=e},h.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;e=this.B.screen.height*n,t=this.B.screen.width*n}if(this.h&&this.g.restrictToElementSize){n=this.g.ignoreDevicePixelRatio?1:this.B.devicePixelRatio;var r=this.l.clientHeight,i=this.l.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.l&&(r=this.i.height,i=this.i.width),e=Math.min(e,r*n),t=Math.min(t,i*n)}if(n=this.F.filter(function(g){return g&&!(g.audio&&g.audio.fastSwitching||g.video&&g.video.fastSwitching)}),n.length||(n=this.F),r=n,n.length!=this.F.length&&(r=this.F.filter(function(g){return g&&!!(g.audio&&g.audio.fastSwitching||g.video&&g.video.fastSwitching)})),n=Zl(this,this.g.restrictions,r,1/0,1/0),e!=1/0||t!=1/0){for(n=Oh(n),n=T(n),i=n.next();!i.done;i=n.next())if(i=i.value,i.height>=e&&i.width>=t){e=i.height,t=i.width;break}n=Zl(this,this.g.restrictions,r,e,t)}for(e=this.getBandwidthEstimate(),r.length&&!n.length&&(n=Zl(this,null,r,1/0,1/0),n=[n[0]]),t=n[0]||null,r=0;r<n.length;r++){i=n[r];for(var o=isNaN(this.H)?1:Math.abs(this.H),a=o*i.bandwidth/this.g.bandwidthDowngradeTarget,f={bandwidth:1/0},p=r+1;p<n.length;p++)if(i.bandwidth!=n[p].bandwidth){f=n[p];break}o=o*f.bandwidth/this.g.bandwidthUpgradeTarget,e>=a&&e<=o&&(t.bandwidth!=i.bandwidth||t.bandwidth==i.bandwidth&&t.video&&i.video&&(t.video.width<i.video.width||t.video.height<i.video.height))&&(t=i)}return this.s=Date.now(),t},h.enable=function(){this.o=!0},h.disable=function(){this.o=!1},h.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.m.sample(e,t),n&&this.s!=null&&this.o&&Id(this))},h.trySuggestStreams=function(){this.s!=null&&this.o&&Id(this)},h.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.m.getBandwidthEstimate(e),this.C?this.C.getBandwidthEstimate(e):e)},h.setVariants=function(e){this.F=e},h.playbackRateChanged=function(e){this.H=e},h.setMediaElement=function(e){function t(){n.A.aa(Jo)}var n=this;this.l=e,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in x&&(this.h=new ResizeObserver(t),this.h.observe(this.l)),this.j.D(e,"enterpictureinpicture",function(r){r.pictureInPictureWindow&&(n.i=r.pictureInPictureWindow,n.j.D(n.i,"resize",t))}),this.j.D(e,"leavepictureinpicture",function(){n.i&&n.j.bb(n.i,"resize",t),n.i=null})},h.setCmsdManager=function(e){this.C=e},h.configure=function(e){this.g=e,this.m&&this.g&&this.m.configure(this.g.advanced)};function Id(e){if(!e.I){var t=e.m;if(!(t.g>=t.i))return;e.I=!0,e.s-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.s<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.G(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function Zl(e,t,n,r,i){if(e.C){var o=e.C.Lg();o&&(n=n.filter(function(a){return a.bandwidth&&o?a.bandwidth<=o:!0}))}return t&&(n=n.filter(function(a){return $l(a,t,{width:i,height:r})})),n.sort(function(a,f){return a.bandwidth-f.bandwidth})}function Oh(e){var t=[];e=T(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(r,i){return r.width-i.width})}Re("shaka.abr.SimpleAbrManager",Qt),Qt.prototype.configure=Qt.prototype.configure,Qt.prototype.setCmsdManager=Qt.prototype.setCmsdManager,Qt.prototype.setMediaElement=Qt.prototype.setMediaElement,Qt.prototype.playbackRateChanged=Qt.prototype.playbackRateChanged,Qt.prototype.setVariants=Qt.prototype.setVariants,Qt.prototype.getBandwidthEstimate=Qt.prototype.getBandwidthEstimate,Qt.prototype.trySuggestStreams=Qt.prototype.trySuggestStreams,Qt.prototype.segmentDownloaded=Qt.prototype.segmentDownloaded,Qt.prototype.disable=Qt.prototype.disable,Qt.prototype.enable=Qt.prototype.enable,Qt.prototype.chooseVariant=Qt.prototype.chooseVariant,Qt.prototype.init=Qt.prototype.init,Qt.prototype.release=Qt.prototype.release,Qt.prototype.stop=Qt.prototype.stop;var Jo=1;Re("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function da(e,t){var n=ki();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.o=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function kc(e){var t,n;return z(function(r){if(r.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new X(2,7,1010);return t=e.g,e.g++,t==0?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),L(r,new Promise(function(i){new st(i).aa(n/1e3)}),2))}e.h*=e.m,oe(r)})}function ki(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function bt(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}bt.prototype.resolve=function(){},bt.prototype.reject=function(){};function Yt(e,t){this.promise=e,this.i=t,this.g=null}function Ai(e){return new Yt(Promise.reject(e),function(){return Promise.resolve()})}function Du(){var e=Promise.reject(new X(2,7,7001));return e.catch(function(){}),new Yt(e,function(){return Promise.resolve()})}function Qo(e){return new Yt(Promise.resolve(e),function(){return Promise.resolve()})}function pa(e){return new Yt(e,function(){return e.catch(function(){})})}Yt.prototype.abort=function(){return this.g||(this.g=this.i()),this.g};function ci(e){return new Yt(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}Yt.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Yt.prototype.Da=function(e,t){function n(f){return function(p){if(i.g&&f)o.reject(a);else{var g=f?e:t;g?r=Pi(g,p,o):(f?o.resolve:o.reject)(p)}}}function r(){return o.reject(a),i.abort()}var i=this,o=new bt;o.catch(function(){});var a=new X(2,7,7001);return this.promise.then(n(!0),n(!1)),new Yt(o,function(){return r()})};function Pi(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){},function(){})})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}v.Object.defineProperties(Yt.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.g!==null}}}),Re("shaka.util.AbortableOperation",Yt),Yt.prototype.chain=Yt.prototype.Da,Yt.prototype.finally=Yt.prototype.finally,Yt.all=ci,Yt.prototype.abort=Yt.prototype.abort,Yt.notAbortable=pa,Yt.completed=Qo,Yt.aborted=Du,Yt.failed=Ai;function Te(e,t){if(t)if(t instanceof Map)for(var n=T(t.keys()),r=n.next();!r.done;r=n.next())r=r.value,Object.defineProperty(this,r,{value:t.get(r),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=x.performance&&x.performance.now?x.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function xo(e){var t=new Te(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}Te.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Te.prototype.stopImmediatePropagation=function(){this.g=!0},Te.prototype.stopPropagation=function(){},Re("shaka.util.FakeEvent",Te);var Di={Bj:"abrstatuschanged",Cj:"adaptation",Dj:"audiotrackchanged",Ej:"buffering",Fj:"complete",Gj:"downloadcompleted",Hj:"downloadfailed",Ij:"downloadheadersreceived",Jj:"drmsessionupdate",Lj:"emsg",ek:"prft",Error:"error",Mj:"expirationupdated",Nj:"firstquartile",Oj:"gapjumped",Rj:"keystatuschanged",Vj:"loaded",Wj:"loading",Yj:"manifestparsed",Zj:"manifestupdated",$j:"mediaqualitychanged",ak:"mediasourcerecovered",Metadata:"metadata",bk:"midpoint",ck:"nospatialvideoinfo",dk:"onstatechange",fk:"ratechange",hk:"segmentappended",ik:"sessiondata",jk:"spatialvideoinfo",kk:"stalldetected",lk:"started",mk:"statechanged",nk:"streaming",pk:"textchanged",qk:"texttrackvisibility",rk:"thirdquartile",sk:"timelineregionadded",tk:"timelineregionenter",uk:"timelineregionexit",vk:"trackschanged",xk:"unloading",zk:"variantchanged"};function xt(){this.Ca=new bs,this.xe=this}xt.prototype.addEventListener=function(e,t){this.Ca&&this.Ca.push(e,t)},xt.prototype.removeEventListener=function(e,t){this.Ca&&this.Ca.remove(e,t)},xt.prototype.dispatchEvent=function(e){if(!this.Ca)return!0;var t=this.Ca.get(e.type)||[],n=this.Ca.get("All");for(n&&(t=t.concat(n)),t=T(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.xe,e.currentTarget=this.xe;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},xt.prototype.release=function(){this.Ca=null};function cl(){this.g=[]}function Zo(e,t){e.g.push(t.finally(function(){Hr(e.g,t)}))}cl.prototype.destroy=function(){for(var e=[],t=T(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function jt(e,t,n,r,i,o,a){xt.call(this),this.i=!1,this.s=new cl,this.g=new Set,this.h=new Set,this.m=e||null,this.l=t||null,this.C=n||null,this.F=r||null,this.G=i||null,this.I=o||null,this.H=a||null,this.A=this.B=!1,this.o=16e3,this.j=new Map}mt(jt,xt),h=jt.prototype,h.ag=function(e){this.B=e},h.bg=function(e){this.A=e};function _n(e,t,n,r){n=n||Cd;var i=eu[e];(!i||n>=i.priority)&&(eu[e]={priority:n,ne:t,Wi:r===void 0?!1:r})}function Yr(e,t){for(var n=T(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(e=T(e.h),n=e.next();!n.done;n=e.next())t.h.add(n.value)}h.Zi=function(e){this.g.add(e)},h.uj=function(e){this.g.delete(e)},h.Sh=function(){this.g.clear()},h.$i=function(e){this.h.add(e)},h.vj=function(e){this.h.delete(e)},h.Th=function(){this.h.clear()},h.yg=function(){this.j.clear()};function wt(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}h.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.j.clear(),xt.prototype.release.call(this),this.s.destroy()},h.request=function(e,t,n){var r=this,i=new Pc;if(this.i){var o=Promise.reject(new X(2,7,7001));return o.catch(function(){}),new ha(o,function(){return Promise.resolve()},i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Rr(t.retryParameters):ki(),t.uris=Rr(t.uris),o=Qi(this,e,t,n);var a=o.Da(function(){return Ed(r,e,t,n,new da(t.retryParameters,!1),0,null,i)}),f=a.Da(function(E){return Rh(r,e,E,n)}),p=Date.now(),g=0;o.promise.then(function(){g=Date.now()-p},function(){});var m=0;a.promise.then(function(){m=Date.now()},function(){});var w=f.Da(function(E){var C=Date.now()-m,P=E.response;return P.timeMs+=g,P.timeMs+=C,E.Ci||!r.m||P.fromCache||t.method=="HEAD"||e!=Lr||r.m(P.timeMs,P.data.byteLength,Ac(n)),r.H&&r.H(e,P,n),P},function(E){throw E&&(E.severity=2),E});return o=new ha(w.promise,function(){return w.abort()},i),Zo(this.s,o),o};function Qi(e,t,n,r){function i(f){o=o.Da(function(){return n.body&&(n.body=Kr(n.body)),f(t,n,r)})}var o=Qo(void 0);e.G&&i(e.G),e=T(e.g);for(var a=e.next();!a.done;a=e.next())i(a.value);return o.Da(void 0,function(f){throw f instanceof X&&f.code==7001?f:new X(2,1,1006,f)})}function Ed(e,t,n,r,i,o,a,f){e.B&&(n.uris[o]=n.uris[o].replace("https://","http://")),e.A&&(n.uris[o]=n.uris[o].replace("http://","https://")),0<o&&e.I&&e.I(t,r,n.uris[o],n.uris[o-1]);var p=new pn(n.uris[o]),g=p.Gb,m=!1;g||(g=location.protocol,g=g.slice(0,-1),mc(p,g),n.uris[o]=p.toString()),g=g.toLowerCase();var w=(g=eu[g])?g.ne:null;if(!w)return Ai(new X(2,1,1e3,p));var E=g.Wi;(p=e.j.get(p.ub))&&(n.headers["common-access-token"]=p);var C=null,P=null,R=!1,O=!1,j;return pa(kc(i)).Da(function(){if(e.i)return Du();j=Date.now();var _=0;n.requestStartTime=Date.now();var K=w(n.uris[o],n,t,function(q,F,Q){C&&C.stop(),P&&P.aa(W/1e3),e.m&&t==Lr&&(_++,n.packetNumber=_,e.m(q,F,Ac(r),n),m=!0,f.g=Q)},function(q){O=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.l&&e.l(q,n,t)},{minBytesForProgressEvents:e.o});if(!E)return K;var G=n.retryParameters.connectionTimeout;G&&(C=new st(function(){R=!0,K.abort()}),C.aa(G/1e3));var W=n.retryParameters.stallTimeout;return W&&(P=new st(function(){R=!0,K.abort()})),K}).Da(function(_){C&&C.stop(),P&&P.stop(),_.timeMs==null&&(_.timeMs=Date.now()-j);var K=_.headers["common-access-token"];if(K){var G=new pn(_.uri);e.j.set(G.ub,K)}return K={response:_,Ci:m},!O&&e.l&&e.l(_.headers,n,t),e.C&&e.C(n,_),K},function(_){if(C&&C.stop(),P&&P.stop(),e.F){var K=null,G=0;_ instanceof X&&(K=_,_.code==1001&&(G=_.data[1])),e.F(n,K,G,R)}if(e.i)return Du();if(R&&(_=new X(1,1,1003,n.uris[o],t)),_ instanceof X){if(_.code==7001)throw _;if(_.code==1010)throw a;if(_.severity==1)return K=new Map().set("error",_),K=new Te("retry",K),e.dispatchEvent(K),o=(o+1)%n.uris.length,Ed(e,t,n,r,i,o,_,f)}throw _})}function Rh(e,t,n,r){var i=Qo(void 0);e=T(e.h);for(var o=e.next(),a={};!o.done;a={ih:void 0},o=e.next())a.ih=o.value,i=i.Da(function(f){return function(){var p=n.response;return p.data&&(p.data=Kr(p.data)),(0,f.ih)(t,p,r)}}(a));return i.Da(function(){return n},function(f){var p=2;if(f instanceof X){if(f.code==7001)throw f;p=f.severity}throw new X(p,1,1007,f)})}function Ac(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}Re("shaka.net.NetworkingEngine",jt),jt.prototype.request=jt.prototype.request,jt.prototype.destroy=jt.prototype.destroy,jt.makeRequest=wt,jt.defaultRetryParameters=function(){return ki()},jt.prototype.clearCommonAccessTokenMap=jt.prototype.yg,jt.prototype.clearAllResponseFilters=jt.prototype.Th,jt.prototype.unregisterResponseFilter=jt.prototype.vj,jt.prototype.registerResponseFilter=jt.prototype.$i,jt.prototype.clearAllRequestFilters=jt.prototype.Sh,jt.prototype.unregisterRequestFilter=jt.prototype.uj,jt.prototype.registerRequestFilter=jt.prototype.Zi,jt.unregisterScheme=function(e){delete eu[e]},jt.registerScheme=_n,jt.prototype.setForceHTTPS=jt.prototype.bg,jt.prototype.setForceHTTP=jt.prototype.ag;function Pc(){this.g=0}jt.NumBytesRemainingClass=Pc;function ha(e,t,n){Yt.call(this,e,t),this.h=n}mt(ha,Yt),jt.PendingRequest=ha;var Lr=1;jt.RequestType={MANIFEST:0,SEGMENT:Lr,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},jt.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var Cd=3;jt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Cd};var eu={};function Ou(e){this.g=!1,this.h=new bt,this.i=e}Ou.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function Kt(e,t){if(e.g)throw t instanceof X&&t.code==7003?t:new X(2,7,7003,t)}function fl(e,t){var n=[];e=T(e);for(var r=e.next();!r.done;r=e.next())n.push(t(r.value));return n}function Dc(e,t){e=T(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function es(e){for(var t=new Map,n=T(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function Oc(e){var t={};return e.forEach(function(n,r){t[r]=n}),t}function Mt(e,t){this.h=vr(e),this.i=t==ya,this.g=0}h=Mt.prototype,h.ta=function(){return this.g<this.h.byteLength},h.xa=function(){return this.g},h.getLength=function(){return this.h.byteLength},h.U=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw Io()}},h.ma=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw Io()}},h.R=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw Io()}},h.fh=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw Io()}},h.Yc=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw Io()}if(2097151<t)throw new X(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},h.Ab=function(e){if(this.g+e>this.h.byteLength)throw Io();var t=Ze(this.h,this.g,e);return this.g+=e,t},h.skip=function(e){if(this.g+e>this.h.byteLength)throw Io();this.g+=e},h.jh=function(e){if(this.g<e)throw Io();this.g-=e},h.seek=function(e){if(0>e||e>this.h.byteLength)throw Io();this.g=e},h.zc=function(){for(var e=this.g;this.ta()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=Ze(this.h,e,this.g-e),this.g+=1,Jt(e)};function Io(){return new X(2,3,3e3)}Re("shaka.util.DataViewReader",Mt),Mt.prototype.readTerminatedString=Mt.prototype.zc,Mt.prototype.seek=Mt.prototype.seek,Mt.prototype.rewind=Mt.prototype.jh,Mt.prototype.skip=Mt.prototype.skip,Mt.prototype.readBytes=Mt.prototype.Ab,Mt.prototype.readUint64=Mt.prototype.Yc,Mt.prototype.readInt32=Mt.prototype.fh,Mt.prototype.readUint32=Mt.prototype.R,Mt.prototype.readUint16=Mt.prototype.ma,Mt.prototype.readUint8=Mt.prototype.U,Mt.prototype.getLength=Mt.prototype.getLength,Mt.prototype.getPosition=Mt.prototype.xa,Mt.prototype.hasMoreData=Mt.prototype.ta;var ya=1;Mt.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:ya};function Bt(){this.i=[],this.h=[],this.g=!1}h=Bt.prototype,h.box=function(e,t){return e=dl(e),this.i[e]=kd,this.h[e]=t,this},h.S=function(e,t){return e=dl(e),this.i[e]=Ad,this.h[e]=t,this},h.stop=function(){this.g=!0},h.parse=function(e,t,n){for(e=new Mt(e,0),this.g=!1;e.ta()&&!this.g;)this.Vc(0,e,t,n)},h.Vc=function(e,t,n,r){var i=t.xa();if(r&&i+8>t.getLength())this.g=!0;else{var o=t.R(),a=t.R(),f=br(a),p=!1;switch(o){case 0:o=t.getLength()-i;break;case 1:if(r&&t.xa()+8>t.getLength()){this.g=!0;return}o=t.Yc(),p=!0}var g=this.h[a];if(g){var m=null,w=null;if(this.i[a]==Ad){if(r&&t.xa()+4>t.getLength()){this.g=!0;return}w=t.R(),m=w>>>24,w&=16777215}a=i+o,n&&a>t.getLength()&&(a=t.getLength()),r&&a>t.getLength()?this.g=!0:(r=a-t.xa(),t=0<r?t.Ab(r):new Uint8Array(0),t=new Mt(t,0),g({name:f,parser:this,partialOkay:n||!1,version:m,flags:w,reader:t,size:o,start:i+e,has64BitSize:p}))}else t.skip(Math.min(i+o-t.xa(),t.getLength()-t.xa()))}};function it(e){for(var t=Oi(e);e.reader.ta()&&!e.parser.g;)e.parser.Vc(e.start+t,e.reader,e.partialOkay)}function Eo(e){for(var t=Oi(e),n=e.reader.R(),r=0;r<n&&(e.parser.Vc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function cr(e){var t=Oi(e);for(e.reader.skip(78);e.reader.ta()&&!e.parser.g;)e.parser.Vc(e.start+t,e.reader,e.partialOkay)}function ga(e){var t=Oi(e);e.reader.skip(8);var n=e.reader.ma();for(e.reader.skip(6),n==2?e.reader.skip(48):e.reader.skip(12),n==1&&e.reader.skip(16);e.reader.ta()&&!e.parser.g;)e.parser.Vc(e.start+t,e.reader,e.partialOkay)}function Ru(e){return function(t){e(t.reader.Ab(t.reader.getLength()-t.reader.xa()))}}function dl(e){var t=0;e=T(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function br(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Oi(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}Re("shaka.util.Mp4Parser",Bt),Bt.headerSize=Oi,Bt.typeToString=br,Bt.allData=Ru,Bt.audioSampleEntry=ga,Bt.visualSampleEntry=cr,Bt.sampleDescription=Eo,Bt.children=it,Bt.prototype.parseNext=Bt.prototype.Vc,Bt.prototype.parse=Bt.prototype.parse,Bt.prototype.stop=Bt.prototype.stop,Bt.prototype.fullBox=Bt.prototype.S,Bt.prototype.box=Bt.prototype.box;var kd=0,Ad=1;function Zi(e){var t=this;this.g=[],this.h=[],this.data=[],new Bt().box("moov",it).box("moof",it).S("pssh",function(n){if(!(1<n.version)){var r=Ze(n.reader.h,-12,n.size);if(t.data.push(r),t.g.push(Gn(n.reader.Ab(16))),0<n.version){r=n.reader.R();for(var i=0;i<r;i++){var o=Gn(n.reader.Ab(16));t.h.push(o)}}}}).parse(e)}function eo(e,t,n,r){var i=e.length,o=t.length+16+i;0<r&&(o+=4+16*n.size);var a=new Uint8Array(o),f=vr(a),p=0;if(f.setUint32(p,o),p+=4,f.setUint32(p,1886614376),p+=4,1>r?f.setUint32(p,0):f.setUint32(p,16777216),p+=4,a.set(t,p),p+=t.length,0<r)for(f.setUint32(p,n.size),p+=4,t=T(n),n=t.next();!n.done;n=t.next())n=ol(n.value),a.set(n,p),p+=n.length;return f.setUint32(p,i),a.set(e,p+4),a}function ts(e){var t=this;this.C=e,this.l=this.A=null,this.ha=this.fa=!1,this.H=0,this.h=null,this.o=new At,this.i=new Map,this.V=[],this.B=new Map,this.K=!1,this.m=new bt,this.g=null,this.s=function(n){n.severity==2&&t.m.reject(n),e.onError(n)},this.ba=new Map,this.ga=new Map,this.L=new st(function(){return pl(t)}),this.O=!1,this.M=[],this.$=!1,this.I=new st(function(){xa(t)}),this.m.catch(function(){}),this.j=new Ou(function(){return Mh(t)}),this.da=!1,this.F=this.G=null,this.P=function(){return!1}}h=ts.prototype,h.destroy=function(){return this.j.destroy()};function Mh(e){return z(function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.L.stop(),e.L=null,L(t,Mn(e),2);case 2:if(!e.l){t.u(3);break}return de(t,4),L(t,e.l.setMediaKeys(null),6);case 6:Oe(t,5);break;case 4:ke(t);case 5:e.l=null;case 3:e.h=null,e.A=null,e.B=new Map,e.g=null,e.s=function(){},e.C=null,e.da=!1,e.G=null,oe(t)}})}h.configure=function(e,t){this.g=e,t&&(this.P=t),this.I&&this.I.Aa(this.g.updateExpirationTime)};function tu(e,t,n){return e.ha=!0,e.B=new Map,e.O=n,Pd(e,t)}function nu(e,t,n){e.B=new Map,n=T(n);for(var r=n.next();!r.done;r=n.next())e.B.set(r.value,{initData:null,initDataType:null});for(n=T(e.g.persistentSessionsMetadata),r=n.next();!r.done;r=n.next())r=r.value,e.B.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.O=0<e.B.size,Pd(e,t)}function Rc(e,t,n,r,i,o){var a=new Map;return i={audioCapabilities:i,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},i.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],a.set(t,i),Mc(e,a,[])}function Pd(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){if(W.g==1){for(Nc(e.g.clearKeys,t),n=t.some(function(q){return!!(q.video&&q.video.drmInfos.length||q.audio&&q.audio.drmInfos.length)}),n||(r=es(e.g.servers),Ir(t,r)),i=new Set,o=T(t),a=o.next();!a.done;a=o.next())for(f=a.value,p=Ta(f),g=T(p),m=g.next();!m.done;m=g.next())w=m.value,i.add(w);for(E=T(i),C=E.next();!C.done;C=E.next())P=C.value,Rd(P,es(e.g.servers),es(e.g.advanced||{}),e.g.keySystemsMapping);for(R=function(q,F){var Q=[];q=T(q);for(var H=q.next();!H.done;H=q.next()){H=H.value;var Z=H[F]||e.g.advanced&&e.g.advanced[H.keySystem]&&e.g.advanced[H.keySystem][F]||"",$;if(($=Z=="")&&($=($=H.keySystem)?!!$.match(/^com\.widevine\.alpha/):!1),$&&(F=="audioRobustness"?Z=[e.g.defaultAudioRobustnessForWidevine]:F=="videoRobustness"&&(Z=[e.g.defaultVideoRobustnessForWidevine])),typeof Z=="string")Q.push(H);else if(Array.isArray(Z))for(Z.length===0&&(Z=[""]),Z=T(Z),$=Z.next();!$.done;$=Z.next()){var ie={};Q.push(Object.assign({},H,(ie[F]=$.value,ie)))}}return Q},O=T(t),j=O.next();!j.done;j=O.next())_=j.value,_.video&&(_.video.drmInfos=R(_.video.drmInfos,"videoRobustness"),_.video.drmInfos=R(_.video.drmInfos,"audioRobustness")),_.audio&&(_.audio.drmInfos=R(_.audio.drmInfos,"videoRobustness"),_.audio.drmInfos=R(_.audio.drmInfos,"audioRobustness"));return L(W,Td(t,e.O,e.da,e.g.preferredKeySystems),2)}return Kt(e.j),K=n||Object.keys(e.g.servers).length,K?(G=Mc(e,void 0,t),W.return(n?G:G.catch(function(){}))):(e.fa=!0,W.return(Promise.resolve()))})}function va(e){var t;return z(function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.G){n.u(2);break}return L(n,e.G,3);case 3:return Kt(e.j),n.return();case 2:return de(n,4),e.G=e.l.setMediaKeys(e.A),L(n,e.G,6);case 6:Oe(n,5);break;case 4:t=ke(n),e.s(new X(2,6,6003,t.message));case 5:Kt(e.j),oe(n)}})}function Lh(e,t){return z(function(n){if(n.g==1)return L(n,va(e),2);ru(e,t.initDataType,Ze(t.initData)),oe(n)})}h.Xb=function(e){var t=this;return z(function(n){if(n.g==1)return t.A?(t.l=e,t.o.la(t.l,"play",function(){for(var r=T(t.M),i=r.next();!i.done;i=r.next())is(t,i.value);t.$=!0,t.M=[]}),t.l.remote?(t.o.D(t.l.remote,"connect",function(){return Mn(t)}),t.o.D(t.l.remote,"connecting",function(){return Mn(t)}),t.o.D(t.l.remote,"disconnect",function(){return Mn(t)})):"webkitCurrentPlaybackTargetIsWireless"in t.l&&t.o.D(t.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return Mn(t)}),t.F=t.h&&t.h.initData.find(function(r){return 0<r.initData.length})||null,t.F||t.h.keySystem!=="com.apple.fps"||t.B.size?L(n,va(t),2):n.u(2)):(t.o.la(e,"encrypted",function(){t.s(new X(2,6,6010))}),n.return());ns(t).catch(function(){}),t.F||t.B.size||t.g.parseInbandPsshEnabled||t.o.D(t.l,"encrypted",function(r){return Lh(t,r)}),oe(n)})};function ma(e){var t,n,r,i,o;return z(function(a){switch(a.g){case 1:if(!e.A||!e.h)return a.return();if(!e.h.serverCertificateUri||e.h.serverCertificate&&e.h.serverCertificate.length){a.u(2);break}return t=wt([e.h.serverCertificateUri],e.g.retryParameters),de(a,3),n=e.C.Tb.request(5,t,{isPreload:e.P()}),L(a,n.promise,5);case 5:r=a.h,e.h.serverCertificate=Ze(r.data),Oe(a,4);break;case 3:throw i=ke(a),new X(2,6,6017,i);case 4:if(e.j.g)return a.return();case 2:return!e.h.serverCertificate||!e.h.serverCertificate.length?a.return():(de(a,6),L(a,e.A.setServerCertificate(e.h.serverCertificate),8));case 8:Oe(a,0);break;case 6:throw o=ke(a),new X(2,6,6004,o.message)}})}function Co(e,t){var n,r,i;return z(function(o){if(o.g==1)return L(o,wa(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(r=[],(i=e.i.get(n))&&(i.qb=new bt,r.push(i.qb)),r.push(n.remove()),L(o,Promise.all(r),3)):o.return();e.i.delete(n),oe(o)})}function ns(e){var t,n,r,i,o;return z(function(a){if(a.g==1)return e.B.size?(e.B.forEach(function(f,p){wa(e,p,f)}),L(a,e.m,3)):a.u(2);if(a.g!=2){if(t=e.h&&e.h.keyIds||new Set([]),0<t.size&&Qg(e))return a.return(e.m);e.K=!1,e.m=new bt,e.m.catch(function(){})}for(n=(e.h?e.h.initData:[])||[],r=T(n),i=r.next();!i.done;i=r.next())o=i.value,ru(e,o.initDataType,o.initData);return iu(e)&&e.m.resolve(),a.return(e.m)})}function ru(e,t,n){if(n.length){if(e.g.ignoreDuplicateInitData){var r=e.i.values();r=T(r);for(var i=r.next();!i.done;i=r.next())if(po(n,i.value.initData))return;var o=!1;if(e.B.forEach(function(a){!o&&po(n,a.initData)&&(o=!0)}),o)return}e.K=!0,0<e.i.size&&iu(e)&&(e.m.resolve(),e.K=!1,e.m=new bt,e.m.catch(function(){})),Dd(e,t,n,e.h.sessionType)}}function Mu(e){return e=e.i.keys(),e=fl(e,function(t){return t.sessionId}),Array.from(e)}h.tf=function(){var e=this,t=this.i.keys();return t=fl(t,function(n){var r=e.i.get(n);return{sessionId:n.sessionId,sessionType:r.type,initData:r.initData,initDataType:r.initDataType}}),Array.from(t)},h.ld=function(){var e=1/0,t=this.i.keys();t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},h.Vd=function(){return Oc(this.ga)};function Mc(e,t,n){var r,i,o,a,f,p,g,m;return z(function(w){switch(w.g){case 1:if(r=new Map,n.length){i=rs(e,n,r),w.u(2);break}return L(w,bh(e,t),3);case 3:i=w.h;case 2:if(o=i,!o)throw navigator.requestMediaKeySystemAccess?new X(2,6,6001):new X(2,6,6020);if(Kt(e.j),de(w,4),o.getConfiguration(),a=e.g.keySystemsMapping[o.keySystem]||o.keySystem,n.length){var E=a,C=r.get(a),P=[],R=[],O=[],j=[],_=[],K=new Set,G=new Set;bc(C,P,R,j,O,_,K,G);var W=e.O?"persistent-license":"temporary";for(E={keySystem:E,encryptionScheme:P[0],licenseServerUri:R[0],distinctiveIdentifierRequired:C[0].distinctiveIdentifierRequired,persistentStateRequired:C[0].persistentStateRequired,sessionType:C[0].sessionType||W,audioRobustness:C[0].audioRobustness||"",videoRobustness:C[0].videoRobustness||"",serverCertificate:j[0],serverCertificateUri:O[0],initData:_,keyIds:K},0<G.size&&(E.keySystemUris=G),C=T(C),G=C.next();!G.done;G=C.next())G=G.value,G.distinctiveIdentifierRequired&&(E.distinctiveIdentifierRequired=G.distinctiveIdentifierRequired),G.persistentStateRequired&&(E.persistentStateRequired=G.persistentStateRequired);C=E}else C=a,G=t.get(a),E=[],P=[],R=[],O=[],j=[],_=new Set,bc(G.drmInfos,E,P,O,R,j,_),C={keySystem:C,encryptionScheme:E[0],licenseServerUri:P[0],distinctiveIdentifierRequired:G.distinctiveIdentifier=="required",persistentStateRequired:G.persistentState=="required",sessionType:G.sessionTypes[0]||"temporary",audioRobustness:(G.audioCapabilities?G.audioCapabilities[0].robustness:"")||"",videoRobustness:(G.videoCapabilities?G.videoCapabilities[0].robustness:"")||"",serverCertificate:O[0],serverCertificateUri:R[0],initData:j,keyIds:_};if(e.h=C,!e.h.licenseServerUri)throw new X(2,6,6012,e.h.keySystem);return L(w,o.createMediaKeys(),6);case 6:if(f=w.h,Kt(e.j),e.A=f,!(e.g.minHdcpVersion!=""&&"getStatusForPolicy"in e.A)){w.u(7);break}return de(w,8),L(w,e.A.getStatusForPolicy({minHdcpVersion:e.g.minHdcpVersion}),10);case 10:if(p=w.h,p!="usable")throw new X(2,6,6018);Kt(e.j),Oe(w,7,4);break;case 8:throw g=ke(w,4),g instanceof X?g:new X(2,6,6019,g.message);case 7:return e.fa=!0,L(w,ma(e),11);case 11:Kt(e.j),Oe(w,0);break;case 4:throw m=ke(w),Kt(e.j,m),e.h=null,m instanceof X?m:new X(2,6,6002,m.message)}})}function rs(e,t,n){for(var r=T(t),i=r.next();!i.done;i=r.next()){i=T(Ta(i.value));for(var o=i.next();!o.done;o=i.next())o=o.value,n.has(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o)}if(n.size==1&&n.has(""))throw new X(2,6,6e3);for(r=T(e.g.preferredKeySystems),o=r.next(),i={};!o.done;i={eh:void 0},o=r.next()){i.eh=o.value,o=T(t);for(var a=o.next();!a.done;a=o.next())if(a=a.value.decodingInfos.find(function(m){return function(w){return w.supported&&w.keySystemAccess!=null&&w.keySystemAccess.keySystem==m.eh}}(i)))return a.keySystemAccess}for(r=T([!0,!1]),i=r.next();!i.done;i=r.next())for(i=i.value,o=T(t),a=o.next();!a.done;a=o.next()){a=T(a.value.decodingInfos);for(var f=a.next();!f.done;f=a.next())if(f=f.value,f.supported&&f.keySystemAccess){var p=f.keySystemAccess.keySystem,g=n.get(p);for(!g&&e.g.keySystemsMapping[p]&&(g=n.get(e.g.keySystemsMapping[p])),p=T(g),g=p.next();!g.done;g=p.next())if(!!g.value.licenseServerUri==i)return f.keySystemAccess}}return null}function bh(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j;return z(function(_){switch(_.g){case 1:if(t.size==1&&t.has(""))throw new X(2,6,6e3);for(r=T(t.values()),i=r.next();!i.done;i=r.next())o=i.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;a=T(e.g.preferredKeySystems),f=a.next();case 2:if(f.done){_.u(4);break}if(p=f.value,!t.has(p)){_.u(3);break}return g=t.get(p),de(_,6),L(_,navigator.requestMediaKeySystemAccess(p,[g]),8);case 8:return n=_.h,_.return(n);case 6:ke(_);case 7:Kt(e.j);case 3:f=a.next(),_.u(2);break;case 4:m=T([!0,!1]),w=m.next();case 9:if(w.done){_.u(11);break}E=w.value,C=T(t.keys()),P=C.next();case 12:if(P.done){w=m.next(),_.u(9);break}if(R=P.value,O=t.get(R),j=O.drmInfos.some(function(K){return!!K.licenseServerUri}),j!=E){_.u(13);break}return de(_,15),L(_,navigator.requestMediaKeySystemAccess(R,[O]),17);case 17:return n=_.h,_.return(n);case 15:ke(_);case 16:Kt(e.j);case 13:P=C.next(),_.u(12);break;case 11:return _.return(n)}})}function Sa(e){iu(e)&&e.m.resolve()}function Cn(e,t){new st(function(){t.loaded=!0,Sa(e)}).aa(Ri)}function wa(e,t,n){var r,i,o,a,f,p,g;return z(function(m){switch(m.g){case 1:try{r=e.A.createSession("persistent-license")}catch(w){return i=new X(2,6,6005,w.message),e.s(i),m.return(Promise.reject(i))}return e.o.D(r,"message",function(w){e.l&&e.g.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.$?e.M.push(w):is(e,w)}),e.o.D(r,"keystatuseschange",function(w){return Lc(e,w)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Lf:1/0,qb:null,type:"persistent-license"},e.i.set(r,o),de(m,2),L(m,r.load(t),4);case 4:return a=m.h,Kt(e.j),a||(e.i.delete(r),f=e.g.persistentSessionOnlinePlayback?1:2,e.s(new X(f,6,6013)),o.loaded=!0),Cn(e,o),Sa(e),m.return(r);case 2:p=ke(m),Kt(e.j,p),e.i.delete(r),g=e.g.persistentSessionOnlinePlayback?1:2,e.s(new X(g,6,6005,p.message)),o.loaded=!0,Sa(e);case 3:return m.return(Promise.resolve())}})}function Dd(e,t,n,r){try{var i=e.A.createSession(r)}catch(o){e.s(new X(2,6,6005,o.message));return}e.o.D(i,"message",function(o){e.l&&e.g.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.$?e.M.push(o):is(e,o)}),e.o.D(i,"keystatuseschange",function(o){return Lc(e,o)}),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Lf:1/0,qb:null,type:r});try{n=e.g.initDataTransform(n,t,e.h)}catch(o){t=o,o instanceof X||(t=new X(2,6,6016,o)),e.s(t);return}e.g.logLicenseExchange&&Ho(n),i.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(i);var a=o.errorCode;if(a&&a.systemCode){var f=a.systemCode;0>f&&(f+=Math.pow(2,32)),f="0x"+f.toString(16)}e.s(new X(2,6,6006,o.message,o,f))}})}function Od(e){return z(function(t){return t.g==1?e.K?L(t,e.m,3):t.u(0):L(t,Promise.all(e.V.map(function(n){return n.promise})),0)})}function is(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R;z(function(O){switch(O.g){case 1:if(n=t.target,e.g.logLicenseExchange&&Ho(t.message),r=e.i.get(n),i=e.h.licenseServerUri,o=e.g.advanced[e.h.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(i=o.individualizationServer),a=wt([i],e.g.retryParameters),a.body=t.message,a.method="POST",a.licenseRequestType=t.messageType,a.sessionId=n.sessionId,a.drmInfo=e.h,r&&(a.initData=r.initData,a.initDataType=r.initDataType),o&&o.headers)for(f in o.headers)a.headers[f]=o.headers[f];if(e.h.keySystem==="org.w3.clearkey"){var j=a,_=e.h;try{var K=Ut(j.body);if(K){var G=JSON.parse(K);G.type||(G.type=_.sessionType,j.body=ri(JSON.stringify(G)))}}catch{}}if(Fs(e.h.keySystem))if(j=go(a.body,!0,!0),j.includes("PlayReadyKeyMessage")){for(j=Xi(j,"PlayReadyKeyMessage"),_=Sr(j,"HttpHeader"),_=T(_),K=_.next();!K.done;K=_.next())G=K.value,K=Sr(G,"name")[0],G=Sr(G,"value")[0],a.headers[ln(K)]=ln(G);j=Sr(j,"Challenge")[0],a.body=li(ln(j))}else a.headers["Content-Type"]="text/xml; charset=utf-8";return p=Date.now(),de(O,2),m=e.C.Tb.request(2,a,{isPreload:e.P()}),e.V.push(m),L(O,m.promise,4);case 4:g=O.h,Hr(e.V,m),Oe(O,3);break;case 2:return w=ke(O),e.j.g||(E=new X(2,6,6007,w),e.i.size==1?(e.s(E),r&&r.qb&&r.qb.reject(E)):(r&&r.qb&&r.qb.reject(E),e.i.delete(n),iu(e)&&(e.m.resolve(),e.L.aa(.1)))),O.return();case 3:return e.j.g?O.return():(e.H+=(Date.now()-p)/1e3,e.g.logLicenseExchange&&Ho(g.data),de(O,5),L(O,n.update(g.data),7));case 7:Oe(O,6);break;case 5:return C=ke(O),P=new X(2,6,6008,C.message),e.s(P),r&&r.qb&&r.qb.reject(P),O.return();case 6:if(e.j.g)return O.return();R=new Te("drmsessionupdate"),e.C.onEvent(R),r&&(r.qb&&r.qb.resolve(),Cn(e,r)),oe(O)}})}function Lc(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach(function(o,a){if(typeof a=="string"){var f=a;a=o,o=f}if(Fs(e.h.keySystem)&&a.byteLength==16&&(xn()||Ti())){f=vr(a);var p=f.getUint32(0,!0),g=f.getUint16(4,!0),m=f.getUint16(6,!0);f.setUint32(0,p,!1),f.setUint16(4,g,!1),f.setUint16(6,m,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(r=!0),a=Gn(a).slice(0,32),e.ba.set(a,o)});var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.qb&&(e.i.delete(t),Hn(t)),iu(e)&&(e.m.resolve(),e.L.aa(Ia))}function pl(e){var t=e.ba,n=e.ga;n.clear(),t.forEach(function(r,i){return n.set(i,r)}),t=Array.from(n.values()),t.length&&t.every(function(r){return r=="expired"})&&e.s(new X(2,6,6014)),e.C.ke(Oc(n))}function Pn(){var e,t,n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye;return z(function(Ce){if(Ce.g==1){if(e="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(x.MediaKeys&&x.navigator&&x.navigator.requestMediaKeySystemAccess&&x.MediaKeySystemAccess&&x.MediaKeySystemAccess.prototype.getConfiguration)){for(t={},n=T(e),r=n.next();!r.done;r=n.next())i=r.value,t[i]=null;return Ce.return(t)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),a=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],f=["150","2000","3000"],p={"com.widevine.alpha":a,"com.widevine.alpha.experiment":a,"com.microsoft.playready.recommendation":f},g=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],m=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],w={videoCapabilities:g,audioCapabilities:m,initDataTypes:["cenc","sinf","skd","keyids"]},E=[null,"cenc","cbcs","cbcs-1-9"],C=new Map,P=function(_e,Ve){var yt,pt,ze,Ft,Pt,ot,Xt,Ht,lt,wn,ti,kn,En;return z(function(On){switch(On.g){case 1:return de(On,2),L(On,Ve.createMediaKeys(),4);case 4:yt=On.h,Oe(On,3);break;case 2:return ke(On),On.return();case 3:if(ze=(pt=Ve.getConfiguration().sessionTypes)?pt.includes("persistent-license"):!1,zs()&&(ze=!1),Ft=Ve.getConfiguration().videoCapabilities,Pt=Ve.getConfiguration().audioCapabilities,ot={persistentState:ze,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},C.has(_e)&&C.get(_e)?ot=C.get(_e):C.set(_e,ot),(Xt=Ft[0].encryptionScheme)&&!ot.encryptionSchemes.includes(Xt)&&ot.encryptionSchemes.push(Xt),(Ht=Ft[0].robustness)&&!ot.videoRobustnessLevels.includes(Ht)&&ot.videoRobustnessLevels.push(Ht),(lt=Pt[0].robustness)&&!ot.audioRobustnessLevels.includes(lt)&&ot.audioRobustnessLevels.push(lt),"getStatusForPolicy"in yt){for(wn=[],ti=T(o),kn=ti.next(),En={};!kn.done;En={qd:void 0},kn=ti.next())En.qd=kn.value,ot.minHdcpVersions.includes(En.qd)||wn.push(yt.getStatusForPolicy({minHdcpVersion:En.qd}).then(function(qn){return function(Qa){Qa!="usable"||ot.minHdcpVersions.includes(qn.qd)||ot.minHdcpVersions.push(qn.qd)}}(En)));return L(On,Promise.all(wn),0)}On.u(0)}})},R=function(_e,Ve,yt,pt){var ze,Ft,Pt,ot,Xt,Ht,lt,wn,ti,kn;return z(function(En){switch(En.g){case 1:for(de(En,2),ze=Rr(w),Ft=T(ze.videoCapabilities),Pt=Ft.next();!Pt.done;Pt=Ft.next())ot=Pt.value,ot.encryptionScheme=Ve,ot.robustness=yt;for(Xt=T(ze.audioCapabilities),Ht=Xt.next();!Ht.done;Ht=Xt.next())lt=Ht.value,lt.encryptionScheme=Ve,lt.robustness=pt;return wn=Rr(ze),wn.persistentState="required",wn.sessionTypes=["persistent-license"],ti=[wn,ze],L(En,Wo(1,navigator.requestMediaKeySystemAccess(_e,ti)),4);case 4:return kn=En.h,L(En,P(_e,kn),5);case 5:Oe(En,0);break;case 2:ke(En),oe(En)}})},O=function(_e,Ve,yt,pt){var ze,Ft,Pt;return z(function(ot){switch(ot.g){case 1:return de(ot,2),ze={type:"media-source",video:{contentType:g[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:m[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:_e,video:{encryptionScheme:Ve,robustness:yt},audio:{encryptionScheme:Ve,robustness:pt}}},L(ot,Wo(1,navigator.mediaCapabilities.decodingInfo(ze)),4);case 4:return Ft=ot.h,Pt=Ft.keySystemAccess,L(ot,P(_e,Pt),5);case 5:Oe(ot,0);break;case 2:ke(ot),oe(ot)}})},j=T(e),_=j.next();!_.done;_=j.next())K=_.value,C.set(K,null);for(G=function(_e){return!(_e==="org.w3.clearkey"&&yu()||_e&&_e.match(/^com\.apple\.fps/)&&gu()||Fs(_e)&&(gh()||yo())||Fs(_e)&&Tt("Firefox")||_e==="com.huawei.wiseplay"&&(gu()||gh()))},W=[],q=T(E),F=q.next();!F.done;F=q.next())for(Q=F.value,H=T(e),Z=H.next();!Z.done;Z=H.next())$=Z.value,G($)&&(W.push(R($,Q,"","")),W.push(O($,Q,"","")));for(ie=T(e),fe=ie.next();!fe.done;fe=ie.next())for(re=fe.value,ae=T(p[re]||[]),me=ae.next();!me.done;me=ae.next())ye=me.value,G(re)&&(W.push(R(re,null,ye,"")),W.push(R(re,null,"",ye)),W.push(O(re,null,ye,"")),W.push(O(re,null,"",ye)));return L(Ce,Promise.all(W),2)}return Ce.return(Oc(C))})}function Hn(e){return z(function(t){if(t.g==1)return de(t,2),L(t,Wo(ko,Promise.all([e.close().catch(function(){}),e.closed])),4);if(t.g!=2)return Oe(t,0);ke(t),oe(t)})}function Mn(e){var t;return z(function(n){return t=Array.from(e.i.entries()),e.i.clear(),L(n,Promise.all(t.map(function(r){r=T(r);var i=r.next().value,o=r.next().value;return z(function(a){if(a.g==1)return de(a,2),e.ha||e.B.has(i.sessionId)||o.type!=="persistent-license"||e.g.persistentSessionOnlinePlayback?L(a,Hn(i),5):L(a,i.remove(),5);if(a.g!=2)return Oe(a,0);ke(a),oe(a)})})),0)})}function Ta(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function xa(e){e.i.forEach(function(t,n){var r=t.Lf,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Lf=i)})}function iu(e){return e=e.i.values(),Dc(e,function(t){return t.loaded})}function Qg(e){for(var t=T(e.h&&e.h.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.ba.get(n.value)!=="usable")return!1;return!0}function Ir(e,t){var n=[];for(t.forEach(function(r,i){n.push({keySystem:i,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=T(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function bc(e,t,n,r,i,o,a,f){var p=[];e=T(e);for(var g=e.next(),m={};!g.done;m={ua:void 0},g=e.next()){if(m.ua=g.value,t.includes(m.ua.encryptionScheme)||t.push(m.ua.encryptionScheme),m.ua.keySystem=="org.w3.clearkey"&&m.ua.licenseServerUri.startsWith("data:application/json;base64,")?p.includes(m.ua.licenseServerUri)||p.push(m.ua.licenseServerUri):n.includes(m.ua.licenseServerUri)||n.push(m.ua.licenseServerUri),i.includes(m.ua.serverCertificateUri)||i.push(m.ua.serverCertificateUri),m.ua.serverCertificate&&(r.some(function(C){return function(P){return po(P,C.ua.serverCertificate)}}(m))||r.push(m.ua.serverCertificate)),m.ua.initData){g=T(m.ua.initData);for(var w=g.next(),E={};!w.done;E={Af:void 0},w=g.next())E.Af=w.value,o.some(function(C){return function(P){var R=C.Af;return P.keyId&&P.keyId==R.keyId?!0:P.initDataType==R.initDataType&&po(P.initData,R.initData)}}(E))||o.push(E.Af)}if(m.ua.keyIds)for(g=T(m.ua.keyIds),w=g.next();!w.done;w=g.next())a.add(w.value);if(m.ua.keySystemUris&&f)for(m=T(m.ua.keySystemUris),g=m.next();!g.done;g=m.next())f.add(g.value)}if(p.length==1)n.push(p[0]);else if(0<p.length){for(t=[],p=T(p),r=p.next();!r.done;r=p.next())r=x.atob(r.value.split("data:application/json;base64,").pop()),r=JSON.parse(r),t.push.apply(t,te(r.keys));p=JSON.stringify({keys:t}),n.push("data:application/json;base64,"+x.btoa(p))}}function Rd(e,t,n,r){var i=e.keySystem;i&&(i!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&t.get(i)&&(t=t.get(i),e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(i))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),r[i]&&(e.keySystem=r[i]),x.cast&&x.cast.__platform__&&i=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}function Nc(e,t){if(e=es(e),e.size!=0){e=cd(e),t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}var ko=1,Ri=5,Ia=.5;function os(e,t,n){for(n=n===void 0?!0:n,this.h=e,this.g=new Set([e]),t=t||[],e=T(t),t=e.next();!t.done;t=e.next())this.add(t.value,n)}os.prototype.add=function(e,t){var n=this.h;t=t===void 0?!0:t;var r;if(!(r=!!n.audio!=!!e.audio||!!n.video!=!!e.video||n.language!=e.language)&&(r=n.audio&&e.audio)){r=n.audio;var i=e.audio;r=!(!((!r.channelsCount||!i.channelsCount||2<r.channelsCount||2<i.channelsCount)&&r.channelsCount!=i.channelsCount||r.spatialAudio!==i.spatialAudio||t&&!_c(r,i))&&Md(r.roles,i.roles)&&r.groupId===i.groupId)}return!r&&(r=n.video&&e.video)&&(n=n.video,r=e.video,r=!((!t||_c(n,r))&&Md(n.roles,r.roles))),r?!1:(this.g.add(e),!0)},os.prototype.values=function(){return this.g.values()};function _c(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(r){return Go(r)}),t=t.codecs.split(",").map(function(r){return Go(r)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Md(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=T(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}Re("shaka.media.AdaptationSet",os),Re("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});function Uc(){}Uc.prototype.create=function(){},Uc.prototype.configure=function(){},Re("shaka.media.AdaptationSetCriteria",Uc);function Nh(){this.g=us,this.i=new Map().set(us,2).set(hl,1),this.h=0}function Ld(e,t,n){e.i.set(us,n).set(hl,t)}var hl=0,us=1;function jc(e,t,n){var r=e.video&&e.video.hdr?e.video.hdr:"",i=e.audio&&e.audio.spatialAudio?e.audio.spatialAudio:!1,o=e.video&&e.video.videoLayout?e.video.videoLayout:"",a=e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,f=e.audio&&e.audio.codecs?e.audio.codecs:"";this.g=n(),this.g.configure({language:e.language,role:"",channelCount:a,Oc:r,spatialAudio:i,videoLayout:o,Gc:"",cd:"",codecSwitchingStrategy:t,audioCodec:f})}jc.prototype.create=function(e){return this.g.create(e)},jc.prototype.configure=function(){};/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Bc(e,t,n){this.g=e,this.i=t,this.h=n}function ls(e,t){return z(function(n){if(n.g==1)return L(n,Xg(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||Ic(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(Ci))throw new X(2,4,4032);return n.return(Ea(e,t))})}function bd(e,t){var n=e.g.restrictions;e=e.i;var r=!1;t=T(t.variants);for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=i.allowedByApplication;i.allowedByApplication=$l(i,n,e),o!=i.allowedByApplication&&(r=!0)}return r}function Ea(e,t){var n=bd(e,t);if(t){var r=e.h?e.h.h:null;if(r&&e.h.A)for(var i=T(t.variants),o=i.next();!o.done;o=i.next())o=o.value,ss(e,r.keySystem,o.video),ss(e,r.keySystem,o.audio);Nd(e,t)}return n}function ss(e,t,n){if(n){n=T(n.drmInfos);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.keySystem==t){r=T(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,ru(e.h,i.initDataType,i.initData)}}}function Nd(e,t){e=e.h?e.h.Vd():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var r=!1,i=!1,o=new Set,a=new Set;t=T(t.variants);for(var f=t.next();!f.done;f=t.next()){f=f.value;var p=[];f.audio&&p.push(f.audio),f.video&&p.push(f.video),p=T(p);for(var g=p.next();!g.done;g=p.next())if(g=g.value,g.keyIds.size){g=T(g.keyIds);for(var m=g.next();!m.done;m=g.next()){m=m.value;var w=e[n?"00":m];w?Vc.includes(w)&&a.add(w):o.add(m)}}f.allowedByApplication?f.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw e={hasAppRestrictions:i,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(a)},new X(2,4,4012,e)}var Vc=["output-restricted","internal-error"];function as(){}function _d(e,t){if(t){var n=fi[t.toLowerCase()];if(n)return n}throw new X(2,4,4e3,e,t)}Re("shaka.media.ManifestParser",as),as.unregisterParserByMime=function(e){delete fi[e]},as.registerParserByMime=function(e,t){fi[e]=t},as.registerParserByExtension=function(){Ot("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},as.AccessibilityPurpose={yk:"visually impaired",Pj:"hard of hearing"};var fi={};function _h(e,t){function n(){o=!0}function r(m){f.push(m),it(m)}var i=e=Ze(e),o=!1,a,f=[],p=[];if(new Bt().box("moov",r).box("trak",r).box("mdia",r).box("minf",r).box("stbl",r).S("stsd",function(m){a=m,f.push(m),Eo(m)}).S("encv",n).S("enca",n).S("dvav",function(m){p.push({box:m,Ya:1701733238})}).S("dva1",function(m){p.push({box:m,Ya:1701733238})}).S("dvh1",function(m){p.push({box:m,Ya:1701733238})}).S("dvhe",function(m){p.push({box:m,Ya:1701733238})}).S("dvc1",function(m){p.push({box:m,Ya:1701733238})}).S("dvi1",function(m){p.push({box:m,Ya:1701733238})}).S("hev1",function(m){p.push({box:m,Ya:1701733238})}).S("hvc1",function(m){p.push({box:m,Ya:1701733238})}).S("avc1",function(m){p.push({box:m,Ya:1701733238})}).S("avc3",function(m){p.push({box:m,Ya:1701733238})}).S("ac-3",function(m){p.push({box:m,Ya:1701733217})}).S("ec-3",function(m){p.push({box:m,Ya:1701733217})}).S("ac-4",function(m){p.push({box:m,Ya:1701733217})}).S("mp4a",function(m){p.push({box:m,Ya:1701733217})}).parse(e),o)return e;if(p.length==0||!a)throw Gn(e),new X(2,3,3019,t);p.reverse(),t=T(p);for(var g=t.next();!g.done;g=t.next())g=g.value,i=Ud(i,a,g.box,f,g.Ya);return xn()&&gu()&&!Gi()?(t=new Uint8Array(e.byteLength+i.byteLength),t.set(i),t.set(e,i.byteLength),t):i}function Ud(e,t,n,r,i){var o=Uh.value(),a=e.subarray(n.start,n.start+n.size),f=vr(a),p=new Uint8Array(n.size+o.byteLength);for(p.set(a,0),a=vr(p),a.setUint32(4,i),p.set(o,n.size),i=f.getUint32(4),a.setUint32(n.size+16,i),jd(p,0,p.byteLength),i=new Uint8Array(e.byteLength+p.byteLength),n=Gi()||xn()?n.start:n.start+n.size,o=e.subarray(n),i.set(e.subarray(0,n)),i.set(p,n),i.set(o,n+p.byteLength),e=T(r),r=e.next();!r.done;r=e.next())r=r.value,jd(i,r.start,r.size+p.byteLength);return p=vr(i,t.start),t=Oi(t),e=p.getUint32(t),p.setUint32(t,e+1),i}function jd(e,t,n){e=vr(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var Uh=new wi(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Er(e,t,n,r,i,o,a){this.N=e,this.Ma=t,this.va=n,this.Tc=r===void 0?null:r,this.timescale=i===void 0?null:i,this.g=o===void 0?null:o,this.aesKey=a===void 0?null:a,this.mimeType=this.codecs=null}Er.prototype.bc=function(){return this.Ma},Er.prototype.$b=function(){return this.va},Er.prototype.Pb=function(){return this.g};function Bd(e,t){return e===t?!0:e&&t?e.bc()==t.bc()&&e.$b()==t.$b()&&Vs(e.N().sort(),t.N().sort())&&po(e.Pb(),t.Pb()):e==t}Re("shaka.media.InitSegmentReference",Er),Er.prototype.getEndByte=Er.prototype.$b,Er.prototype.getStartByte=Er.prototype.bc;function Fe(e,t,n,r,i,o,a,f,p,g,m,w,E,C,P,R){for(g=g===void 0?[]:g,C=C===void 0?ou:C,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Ma=r,this.va=i,this.ca=o,this.timestampOffset=a,this.appendWindowStart=f,this.appendWindowEnd=p,this.g=g,this.tilesLayout=m===void 0?"":m,this.A=w===void 0?null:w,this.h=E===void 0?null:E,this.status=C,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=P===void 0?null:P,this.thumbnailSprite=null,this.i=-1,this.s=R===void 0?!1:R,this.F=this.o=!1,e=T(this.g),t=e.next();!t.done;t=e.next())t.value.Xg();this.s&&this.g.length&&this.g[this.g.length-1].Wg(),this.B=this.bandwidth=this.mimeType=this.codecs=null}h=Fe.prototype,h.N=function(){return this.C()},h.getStartTime=function(){return this.startTime},h.ei=function(){return this.endTime},h.bc=function(){return this.Ma},h.$b=function(){return this.va},h.xi=function(){return this.tilesLayout},h.wi=function(){return this.A},h.cc=function(){return this.status},h.Pi=function(){this.status=Vd},h.If=function(){this.preload=!0},h.isPreload=function(){return this.preload},h.Sc=function(){this.l=!1},h.Hi=function(){return this.l},h.Xg=function(){this.o=!0},h.Ji=function(){return this.o},h.Wg=function(){this.F=!0},h.Ii=function(){return this.F},h.Vg=function(){this.m=!0},h.Di=function(){return this.m},h.we=function(e){this.thumbnailSprite=e},h.vi=function(){return this.thumbnailSprite},h.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=T(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},h.fg=function(e){this.h==null?mi("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},h.qj=function(e){this.B=e},h.Pb=function(){return this.B};function jh(e,t){e.ca=t,e=T(e.g);for(var n=e.next();!n.done;n=e.next())jh(n.value,t)}Re("shaka.media.SegmentReference",Fe),Fe.prototype.getSegmentData=Fe.prototype.Pb,Fe.prototype.setSegmentData=Fe.prototype.qj,Fe.prototype.syncAgainst=Fe.prototype.fg,Fe.prototype.offset=Fe.prototype.offset,Fe.prototype.getThumbnailSprite=Fe.prototype.vi,Fe.prototype.setThumbnailSprite=Fe.prototype.we,Fe.prototype.hasByterangeOptimization=Fe.prototype.Di,Fe.prototype.markAsByterangeOptimization=Fe.prototype.Vg,Fe.prototype.isLastPartial=Fe.prototype.Ii,Fe.prototype.markAsLastPartial=Fe.prototype.Wg,Fe.prototype.isPartial=Fe.prototype.Ji,Fe.prototype.markAsPartial=Fe.prototype.Xg,Fe.prototype.isIndependent=Fe.prototype.Hi,Fe.prototype.markAsNonIndependent=Fe.prototype.Sc,Fe.prototype.isPreload=Fe.prototype.isPreload,Fe.prototype.markAsPreload=Fe.prototype.If,Fe.prototype.markAsUnavailable=Fe.prototype.Pi,Fe.prototype.getStatus=Fe.prototype.cc,Fe.prototype.getTileDuration=Fe.prototype.wi,Fe.prototype.getTilesLayout=Fe.prototype.xi,Fe.prototype.getEndByte=Fe.prototype.$b,Fe.prototype.getStartByte=Fe.prototype.bc,Fe.prototype.getEndTime=Fe.prototype.ei,Fe.prototype.getStartTime=Fe.prototype.getStartTime,Fe.prototype.getUris=Fe.prototype.N;var ou=0,Vd=1;Fe.Status={Aj:ou,wk:Vd,Xj:2};function cs(e){return e.length==1&&1e-4>e.end(0)-e.start(0)}function Fc(e){return!e||cs(e)?null:e.length?e.end(e.length-1):null}function fs(e,t){return!e||!e.length||cs(e)||t>e.end(e.length-1)?!1:t>=e.start(0)}function Bh(e,t){if(!e||!e.length||cs(e))return 0;var n=0;e=T(Lu(e));for(var r=e.next();!r.done;r=e.next()){var i=r.value;r=i.start,i=i.end,i>t&&(n+=i-Math.max(r,t))}return n}function Zg(e,t,n){return!e||!e.length||cs(e)?null:(e=Lu(e).findIndex(function(r,i,o){return r.start>t&&(i==0||o[i-1].end-t<=n)}),0<=e?e:null)}function Lu(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Mi(){}function Kc(e,t){var n=document.createElement("source");return n.src=e,n.type=t===void 0?"":t,n}function to(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Re("shaka.util.Dom",Mi),Mi.removeAllChildren=to;/*
 @license
 Shaka Player
 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Hc(){}function Fd(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Kd(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Ca(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function ds(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var r=Jt(Ze(e.data,1,n)),i=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var a=Jt(Ze(e.data,3+n,o)),f;return r==="-->"?f=Jt(Ze(e.data,4+n+o)):f=Kr(e.data.subarray(4+n+o)),t.mimeType=r,t.pictureType=i,t.description=a,t.data=f,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=Jt(Ze(e.data,1,r)),e=Jt(Ze(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=Jt(Ze(e.data,1,r)),e=Jt(Ze(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=Jt(Ze(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=Kr(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=Jt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=Jt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Kr(e.data),t):null}function uu(e){for(var t=0,n=[];Fd(e,t);){var r=Ca(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,r=t+r;t+10<r;){var i=e.subarray(t),o=Ca(i,4);i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:o,data:i.subarray(10,10+o)},(o=ds(i))&&n.push(o),t+=i.size+10}Kd(e,t)&&(t+=10)}return n}function bu(e,t){for(var n=t=t===void 0?0:t,r=0;Fd(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Ca(e,t+6),Kd(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}Re("shaka.util.Id3Utils",Hc),Hc.getID3Data=bu,Hc.getID3Frames=uu;function Vh(e,t){var n=null,r=null,i=null,o=e.R();return t&1&&(i=e.Yc()),t&2&&e.skip(4),t&8&&(n=e.R()),t&16&&(r=e.R()),{trackId:o,jd:n,Sd:r,Ak:i}}function ka(e,t){return t==1?(t=e.R(),e=e.R(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.R()}}function Aa(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.R(),e.skip(4),e=e.ma(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function Hd(e,t,n){var r=e.R(),i=[],o=null;n&1&&(o=e.R()),n&4&&e.skip(4);for(var a=0;a<r;a++){var f={Wf:null,sampleSize:null,se:null};n&256&&(f.Wf=e.R()),n&512&&(f.sampleSize=e.R()),n&1024&&e.skip(4),n&2048&&(f.se=t==0?e.R():e.fh()),i.push(f)}return{Ek:r,kh:i,Xh:o}}function qd(e){e.skip(6),e.skip(2),e.skip(8);var t=e.ma();return e.skip(2),e.skip(2),e.skip(2),e=e.ma()+e.ma()/65536,{channelCount:t,sampleRate:e}}function zd(e){return e=e.R(),{codec:br(e)}}function ev(e){var t=null,n=null,r=e.Ab(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),i+=String.fromCharCode(r[3]),i==="nclx"){switch(e.ma()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.ma(),e.ma(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Jd:n}}function tr(e,t){return t=t===void 0?!1:t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function an(e){return(10>e?"0":"")+e}function Ao(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&e[r]==3&&e[r-1]==0&&e[r-2]==0||(t[n]=e[r],n++);this.j=Ze(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function qc(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);r!==0&&(n.set(e.j.subarray(t,t+r)),e.h=new Mt(n,0).R(),e.g=8*r,e.i-=r)}function Cr(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,qc(e)}e.h<<=t,e.g-=t}function dt(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&qc(e),n=t-n,0<n?r<<n|dt(e,n):r}function zc(e){var t;for(t=0;t<e.g;++t)if((e.h&2147483648>>>t)!==0)return e.h<<=t,e.g-=t,t;return qc(e),t+zc(e)}function nr(e){Cr(e,1+zc(e))}function Pe(e){var t=zc(e);return dt(e,t+1)-1}function Nu(e){return e=Pe(e),1&e?1+e>>>1:-1*(e>>>1)}function Be(e){return dt(e,1)===1}function Ct(e){return dt(e,8)}function ps(e,t){for(var n=8,r=8,i=0;i<t;i++)r!==0&&(r=Nu(e),r=(n+r+256)%256),n=r===0?n:r}function Gd(e){return Ct(e),Pe(e),Pe(e)}Re("shaka.util.ExpGolomb",Ao);function Wt(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.s=null}h=Wt.prototype,h.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},h.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,ys(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(e[i]==71){var o=!!(e[i+1]&64),a=((e[i+1]&31)<<8)+e[i+2];if(1<(e[i+3]&48)>>4){var f=i+5+e[i+4];if(f==i+188)continue}else f=i+4;switch(a){case 0:o&&(f+=e[f]+1),this.G=(e[f+10]&31)<<8|e[f+11];break;case 17:case 8191:break;case this.G:o&&(f+=e[f]+1),o=e,a={audio:-1,video:-1,$d:-1,audioCodec:"",videoCodec:""};var p=f+3+((o[f+1]&15)<<8|o[f+2])-4;for(f+=12+((o[f+10]&15)<<8|o[f+11]);f<p;){var g=(o[f+1]&31)<<8|o[f+2],m=(o[f+3]&15)<<8|o[f+4];switch(o[f]){case 6:if(0<m)for(var w=f+5,E=m;2<E;){var C=o[w+1]+2;switch(o[w]){case 5:var P=Xs(o.subarray(w+2,w+C));a.audio==-1&&P==="Opus"?(a.audio=g,a.audioCodec="opus"):a.video==-1&&P==="AV01"&&(a.video=g,a.videoCodec="av1");break;case 106:a.audio==-1&&(a.audio=g,a.audioCodec="ac3");break;case 122:a.audio==-1&&(a.audio=g,a.audioCodec="ec3");break;case 124:a.audio==-1&&(a.audio=g,a.audioCodec="aac");break;case 127:a.audioCodec=="opus"&&(P=null,o[w+2]===128&&(P=o[w+3]),P!=null&&(this.F={channelCount:(P&15)===0?2:P&15,Rh:P,sampleRate:48e3}))}w+=C,E-=C}break;case 15:a.audio==-1&&(a.audio=g,a.audioCodec="aac");break;case 17:a.audio==-1&&(a.audio=g,a.audioCodec="aac-loas");break;case 21:a.$d==-1&&(a.$d=g);break;case 27:a.video==-1&&(a.video=g,a.videoCodec="avc");break;case 3:case 4:a.audio==-1&&(a.audio=g,a.audioCodec="mp3");break;case 36:a.video==-1&&(a.video=g,a.videoCodec="hvc");break;case 129:a.audio==-1&&(a.audio=g,a.audioCodec="ac3");break;case 132:case 135:a.audio==-1&&(a.audio=g,a.audioCodec="ec3")}f+=m+5}o=a,o.video!=-1&&(this.I=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.B=o.audio,this.A=o.audioCodec),o.$d!=-1&&(this.C=o.$d),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:f=e.subarray(f,i+188),o?this.j.push([f]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(f);break;case this.B:f=e.subarray(f,i+188),o?this.i.push([f]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(f);break;case this.C:f=e.subarray(f,i+188),o?this.l.push([f]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(f);break;default:r=!0}}return this};function Pa(e,t){if((t[0]<<16|t[1]<<8|t[2])!==1)return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(r&192){var i=536870912*(t[9]&14)+4194304*(t[10]&255)+16384*(t[11]&254)+128*(t[12]&255)+(t[13]&254)/2;e.s==null&&(e.s=i),n.pts=Gc(i,e.s),e.s=n.pts,n.dts=n.pts,r&64&&(r=536870912*(t[14]&14)+4194304*(t[15]&255)+16384*(t[16]&254)+128*(t[17]&255)+(t[18]&254)/2,e.o==null&&(e.o=r),n.dts=Gc(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}h.Vi=function(e){return Ot("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Of(e,{Bd:null,state:null})},h.Of=function(e,t){var n=e.pts?e.pts/9e4:null;e=e.data;var r=e.byteLength,i=1;this.m=="hvc"&&(i=2);var o=t.state||0,a=o,f=0,p=[],g=-1,m=0;for(o==-1&&(g=0,m=this.m=="hvc"?e[0]>>1&63:e[0]&31,o=0,f=1);f<r;){var w=e[f++];o?o===1?o=w?0:2:w?w==1?(w=f-o-1,0<=g?p.push({data:e.subarray(g+i,w),fullData:e.subarray(g,w),type:m,time:n,state:null}):(o=p.length?p[p.length-1]:t.Bd)&&(a&&f<=4-a&&o.state&&(o.data=o.data.subarray(0,o.data.byteLength-a),o.fullData=o.fullData.subarray(0,o.fullData.byteLength-a)),0<w&&(w=e.subarray(0,w),o.data=nn(o.data,w),o.fullData=nn(o.fullData,w),o.state=0)),f<r?(m=this.m=="hvc"?e[f]>>1&63:e[f]&31,g=f,o=0):o=-1):o=0:o=3:o=w?0:1}return 0<=g&&0<=o&&p.push({data:e.subarray(g+i,r),fullData:e.subarray(g,r),type:m,time:n,state:o}),!p.length&&t.Bd&&(n=p.length?p[p.length-1]:t.Bd)&&(n.data=nn(n.data,e),n.fullData=nn(n.fullData,e)),t.state=o,p},h.getMetadata=function(){for(var e=[],t=T(this.l),n=t.next();!n.done;n=t.next())n=nn.apply(ur,te(n.value)),(n=Pa(this,n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:uu(n.data),dts:n.dts,pts:n.pts});return e},h.fb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=T(this.i),n=t.next();!n.done;n=t.next()){var r=nn.apply(ur,te(n.value)),i=Pa(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&i.pts!=null&&i.dts!=null&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&(n=this.h.pop(),n.data=nn(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort(function(o,a){var f=(o.pts||0)-(a.pts||0);return(o.dts||0)-(a.dts||0)||f}))}return this.h},h.tc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=T(this.j),r=n.next();!r.done;r=n.next()){var i=nn.apply(ur,te(r.value)),o=Pa(this,i);r=this.g.length?this.g[this.g.length-1]:null,o&&o.pts!=null&&o.dts!=null&&(!r||r.pts!=o.pts&&r.dts!=o.dts)?(this.g.length&&o.dts<(r.dts||0)&&(t=!0),this.g.push(o)):this.g.length&&(i=o?o.data:i)&&(r=this.g.pop(),r.data=nn(r.data,i),this.g.push(r))}if(e){for(n={Bd:null,state:null},r=[],i=T(this.g),o=i.next();!o.done;o=i.next())o=o.value,o.nalus=this.Of(o,n),o.nalus.length&&(r.push(o),n.Bd=o.nalus[o.nalus.length-1]);this.g=r}t&&(this.g=this.g.sort(function(a,f){var p=(a.pts||0)-(f.pts||0);return(a.dts||0)-(f.dts||0)||p}))}return e?this.g:(e=this.g,this.g=[],e)},h.getStartTime=function(e){if(e=="audio"){e=null;var t=this.fb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.tc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},h.kd=function(){return{audio:this.A,video:this.m}},h.Zd=function(){for(var e=[],t=T(this.tc()),n=t.next();!n.done;n=t.next())e.push.apply(e,te(n.value.nalus));return e},h.Ai=function(){Ot("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.yf();return{height:e.height,width:e.width}},h.yf=function(){return this.m=="hvc"?Fh(this):tv(this)};function Da(e){var t=e.tc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function tv(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Zd();if(!n.length||(n=n.find(function(C){return C.type==7}),!n))return t;n=new Ao(n.data);var r=Ct(n),i=Ct(n),o=Ct(n);if(nr(n),lu.includes(r)){var a=Pe(n);if(a===3&&Cr(n,1),nr(n),nr(n),Cr(n,1),Be(n)){a=a!==3?8:12;for(var f=0;f<a;f++)Be(n)&&(6>f?ps(n,16):ps(n,64))}}if(nr(n),a=Pe(n),a===0)Pe(n);else if(a===1)for(Cr(n,1),nr(n),nr(n),a=Pe(n),f=0;f<a;f++)nr(n);nr(n),Cr(n,1),a=Pe(n),f=Pe(n);var p=dt(n,1);p===0&&Cr(n,1),Cr(n,1);var g=0,m=0,w=0,E=0;return Be(n)&&(g=Pe(n),m=Pe(n),w=Pe(n),E=Pe(n)),t.height=String((2-p)*(f+1)*16-2*w-2*E),t.width=String(16*(a+1)-2*g-2*m),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+o.toString(16).toUpperCase()).slice(-2),t.frameRate=Da(e),t}function Fh(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Zd();if(!n.length||(n=n.find(function(W){return W.type==33}),!n))return t;var r=new Ao(n.fullData,!0);Ct(r),Ct(r),dt(r,4);var i=dt(r,3);Be(r);var o=dt(r,2),a=dt(r,1),f=dt(r,5),p=dt(r,32);n=Ct(r);for(var g=Ct(r),m=Ct(r),w=Ct(r),E=Ct(r),C=Ct(r),P=Ct(r),R=[],O=[],j=0;j<i;j++)R.push(Be(r)),O.push(Be(r));if(0<i)for(j=i;8>j;j++)dt(r,2);for(j=0;j<i;j++)R[j]&&dt(r,88),O[j]&&Ct(r);Pe(r),i=Pe(r),i==3&&dt(r,1),R=Pe(r),O=Pe(r);var _=j=0,K=0,G=0;return Be(r)&&(j+=Pe(r),_+=Pe(r),K+=Pe(r),G+=Pe(r)),t.width=String(R-(j+_)*(i===1||i===2?2:1)),t.height=String(O-(K+G)*(i===1?2:1)),r=function(W){for(var q=0,F=0;32>F;F++)q|=(W>>F&1)<<31-F;return q>>>0}(p),a=a==1?"H":"L",o="hvc1"+("."+["","A","B","C"][o]+f),o+="."+r.toString(16).toUpperCase(),o+="."+a+P,C&&(o+="."+C.toString(16).toUpperCase()),E&&(o+="."+E.toString(16).toUpperCase()),w&&(o+="."+w.toString(16).toUpperCase()),m&&(o+="."+m.toString(16).toUpperCase()),g&&(o+="."+g.toString(16).toUpperCase()),n&&(o+="."+n.toString(16).toUpperCase()),t.codec=o,t.frameRate=Da(e),t}function Gc(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function hs(e){return!(0>ys(e))}function ys(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}Re("shaka.util.TsParser",Wt),Wt.syncOffset=ys,Wt.probe=hs,Wt.prototype.getVideoInfo=Wt.prototype.yf,Wt.prototype.getVideoResolution=Wt.prototype.Ai,Wt.prototype.getVideoNalus=Wt.prototype.Zd,Wt.prototype.getCodecs=Wt.prototype.kd,Wt.prototype.getStartTime=Wt.prototype.getStartTime,Wt.prototype.getVideoData=Wt.prototype.tc,Wt.prototype.getAudioData=Wt.prototype.fb,Wt.prototype.getMetadata=Wt.prototype.getMetadata,Wt.prototype.parseNalus=Wt.prototype.Of,Wt.prototype.parseAvcNalus=Wt.prototype.Vi,Wt.prototype.parse=Wt.prototype.parse,Wt.prototype.clearData=Wt.prototype.clearData,Wt.Timescale=9e4;var lu=[100,110,122,244,44,83,86,118,128,138,139,134];function Oa(e,t,n){this.g=null,this.o=-1,this.l=e,this.i=t,this.m=n,this.j=!1;e:{if(typeof libDPIModule>"u"&&ft("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,Ot("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{ft("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(ft("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||ft(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Wd(e){e.g&&e.i.classList.add("shaka-hidden")}Oa.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Wc(e,t,n){var r=0,i=-1;switch(t.mimeType){case"video/webm":r=1;break;case"video/mp4":r=2}switch(n){case"DASH":i=1;break;case"HLS":i=0}e.g&&(e.o=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(r),e.j||e.g.setStreamingFormat(i))}Re("shaka.lcevc.Dec",Oa),Oa.prototype.release=Oa.prototype.release;function Xd(e,t,n,r){var i=this;this.g=e,this.H=n,this.A=null,this.fa=t,this.i={},this.F={},this.Ia={},this.h=null,this.Ca=!1,this.da=r||null,this.o={},this.s=new At,this.j={},this.K=null,this.G=new bt,this.Ba="",this.Pa=!1,this.sa=!0,this.$=!1,this.B=this.L=null,this.l=Xc(this,this.G),this.I=!1,this.M=new Ou(function(){return nv(i)}),this.C=!1,this.ba="UNKNOWN",this.Ha=this.Na=!1,this.za=new bt,this.m=!1,this.pa=null,this.V={},this.ha=this.O=this.na=this.P=null,this.ga=new bt,this.g.remote&&(this.$=this.g.remote.state!="disconnected",this.s.D(this.g.remote,"connect",function(){i.$=i.g.remote.state!="disconnected"}),this.s.D(this.g.remote,"connecting",function(){i.$=i.g.remote.state!="disconnected"}),this.s.D(this.g.remote,"disconnect",function(){i.$=i.g.remote.state!="disconnected"}))}function Xc(e,t){if(e.sa=!0,x.ManagedMediaSource){e.B||(e.g.disableRemotePlayback=!0);var n=new ManagedMediaSource;e.s.D(n,"startstreaming",function(){e.sa=!0}),e.s.D(n,"endstreaming",function(){e.sa=!1})}else n=new MediaSource;return e.s.la(n,"sourceopen",function(){URL.revokeObjectURL(e.Ba),t.resolve()}),e.s.la(e.g,"playing",function(){e.Pa=!0}),e.Ba=Jr(n),e.g.removeAttribute("src"),e.L&&e.g.removeChild(e.L),e.B&&e.g.removeChild(e.B),e.L=Kc(e.Ba),e.g.appendChild(e.L),e.B&&e.g.appendChild(e.B),e.g.load(),n}function Ra(e,t,n){e.g&&x.ManagedMediaSource&&e.l&&(e.B&&e.g.removeChild(e.B),e.B=Kc(t,n),e.g.appendChild(e.B),e.g.disableRemotePlayback=!1)}function kr(e,t){var n,r,i,o,a,f,p,g,m,w,E;return z(function(C){if(C.g==1)return e.createSegmentIndex?L(C,e.createSegmentIndex(),2):C.u(2);if(!e.segmentIndex)return C.return(!1);if(e.segmentIndex.getNumReferences()==0)return C.return(!0);for(n=sn,r=new Set,i=T(e.segmentIndex),o=i.next();!o.done;o=i.next())if(a=o.value,f=a.mimeType||e.mimeType||"",p=a.codecs||e.codecs||"",(f!=e.mimeType||p!=e.codecs)&&(g=f+":"+p,!r.has(g))){if(r.add(g),t==n.wa){if(m=hn(f,p),!Iu(m))return C.return(!1)}else if(t==n.oa?p=ll(p):t==n.W&&(p=ai(p,f)),w=pd(e,f,p),E=zo(f,p),!bn(w)&&!wu(E))return C.return(!1)}return C.return(!0)})}h=Xd.prototype,h.destroy=function(){return this.M.destroy()};function nv(e){var t,n,r,i,o,a,f,p;return z(function(g){if(g.g==1){t=[];for(n in e.o)for(r=e.o[n],i=r[0],e.o[n]=r.slice(0,1),i&&t.push(i.p.catch(yd)),o=T(r.slice(1)),a=o.next();!a.done;a=o.next())f=a.value,f.p.reject(new X(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),L(g,Promise.all(t),2)}for(p in e.j)e.j[p].destroy();e.s&&(e.s.release(),e.s=null),e.g&&e.B&&e.g.removeChild(e.B),e.g&&e.L&&(e.g.removeChild(e.L),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.L=null,e.B=null,e.A=null,e.l=null,e.h=null,e.fa=null,e.i={},e.j={},e.K=null,e.o={},e.da=null,e.V={},e.H=null,oe(g)})}h.init=function(e,t,n,r){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,r=r===void 0?!1:r;var i=this,o,a,f,p,g,m;return z(function(w){switch(w.g){case 1:return o=sn,L(w,i.G,2);case 2:if(!yl(i)&&!Ke(i)){w.u(3);break}return mi("Expected MediaSource to be open during init(); reopening the media source."),i.G=new bt,i.l=Xc(i,i.G),L(w,i.G,3);case 3:i.C=t,i.ba=n,i.Na=r,i.Ha=!i.C&&i.ba=="HLS"&&!i.Na,i.V={},i.P=null,i.na=null,i.O=null,i.ha=null,i.ga=new bt,a=T(e.keys()),f=a.next();case 5:if(f.done){w.u(7);break}return p=f.value,g=e.get(p),L(w,Yc(i,p,g,g.codecs),8);case 8:i.m?(i.o[o.W]=[],i.o[o.oa]=[]):i.o[p]=[],f=a.next(),w.u(5);break;case 7:(m=e.get(o.W))&&m.isAudioMuxedInVideo&&(i.m=!0),oe(w)}})};function Yc(e,t,n,r){var i,o,a,f,p,g,m,w,E,C,P,R;return z(function(O){switch(O.g){case 1:return i=sn,o=tc,a=qf,L(O,kr(n,t),2);case 2:if(a.call(o,O.h,"Type negotiation should happen before MediaSourceEngine.init!"),f=hn(n.mimeType,r),t==i.wa){Wn(e,f,e.C,n.external),O.u(0);break}if(p=e.A.forceTransmux,(!bn(f)||!e.C&&xr.includes(f))&&(p=!0),g=zo(n.mimeType,r),!p){O.u(4);break}if(m=lr(i.W,(r||"").split(",")),w=lr(i.oa,(r||"").split(",")),!m||!w){O.u(5);break}return e.m=!0,L(O,Yc(e,i.W,n,m),6);case 6:return L(O,Yc(e,i.oa,n,w),7);case 7:return O.return();case 5:(E=wu(g))&&(C=E(),e.j[t]=C,f=C.convertCodecs(t,g));case 4:P=f+e.A.addExtraFeaturesToSourceBuffer(f),Kt(e.M);try{R=e.l.addSourceBuffer(P)}catch(j){throw new X(2,3,3015,j,"The mediaSource_ status was "+e.l.readyState+" expected 'open'",null)}e.C&&(R.mode=$t),e.s.D(R,"error",function(){var j=e.o[t][0];j.p.reject(new X(2,3,3014,e.g.error?e.g.error.code:0,j.uri))}),e.s.D(R,"updateend",function(){return Po(e,t)}),e.i[t]=R,e.F[t]=f,e.Ia[t]=!!n.drmInfos.length,oe(O)}})}h.configure=function(e){this.A=e,this.h&&(this.h.A=e.modifyCueCallback)};function $c(e){return e.sa&&!e.$&&!e.I}function Wn(e,t,n,r){e.h||(e.h=new $i(e.fa),e.h&&(e.h.A=e.A.modifyCueCallback));var i=e.h;r=r||e.Ca,e=e.ba,t=="application/cea-608"||t=="application/cea-708"?i.i=null:(i.i=(0,yn[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):Ot("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):Ot("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function yl(e){return e.I?!1:e.l?e.l.readyState=="ended":!0}function Ke(e){return e.I?!1:e.l?e.l.readyState=="closed":!0}function _u(e,t){return Object.keys(e.i).length?t==at?e=e.h.g:(e=gs(e,t),e=!e||cs(e)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null):e=null,e}function Uu(e,t){return Object.keys(e.i).length?t==at?e.h.h:Fc(gs(e,t)):null}function Kh(e,t,n){return t==at?(e=e.h,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=gs(e,t),Bh(e,n))}h.Eb=function(){var e={total:this.I?[]:Lu(this.g.buffered),audio:Lu(gs(this,"audio")),video:Lu(gs(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function gs(e,t){if(e.I||e.$)return null;try{return e.i[t].buffered}catch{return null}}function Ma(e,t,n,r,i,o){var a=null,f=[],p=Ze(n);if(xr.includes(o))t=uu(p),t.length&&r&&((n=t.find(function(C){return C.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=Math.round(n.data)/1e3),e.H.onMetadata([{cueTime:r.startTime,data:p,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(o.includes("/mp4")&&r&&r.ca&&r.ca.timescale){var g=r.ca.timescale;if(!isNaN(g)){var m=i.emsgSchemeIdUris!=null&&0<i.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes,w=0,E=!1;p=new Bt,m&&p.S("emsg",function(C){var P=i.emsgSchemeIdUris;if(C.version===0)var R=C.reader.zc(),O=C.reader.zc(),j=C.reader.R(),_=C.reader.R(),K=C.reader.R(),G=C.reader.R(),W=r.startTime+_/j;else j=C.reader.R(),W=C.reader.Yc()/j+r.timestampOffset,_=W-r.startTime,K=C.reader.R(),G=C.reader.R(),R=C.reader.zc(),O=C.reader.zc();C=C.reader.Ab(C.reader.getLength()-C.reader.xa()),(P&&P.includes(R)||e.A.dispatchAllEmsgBoxes)&&(R=="urn:mpeg:dash:event:2012"?e.H.Ui():(P=W+K/j,j=new Map().set("detail",{startTime:W,endTime:P,schemeIdUri:R,value:O,timescale:j,presentationTimeDelta:_,eventDuration:K,id:G,messageData:C}),j=new Te("emsg",j),j.cancelable=!0,e.H.onEvent(j),!j.defaultPrevented&&(R=="https://aomedia.org/emsg/ID3"||R=="https://developer.apple.com/streaming/emsg-id3")&&(R=uu(C),R.length)&&e.H.onMetadata([{cueTime:W,data:C,frames:R,dts:W,pts:W}],0,P)))}),p.S("prft",function(C){var P=C.reader,R=C.version;P.R(),C=P.R();var O=P.R();C=1e3*C+O/Math.pow(2,32)*1e3,R===0?P=P.R():(R=P.R(),P=P.R(),P=R*Math.pow(2,32)+P),C=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+C).getTime(),P=new Map().set("detail",{wallClockTime:C,programStartDate:new Date(C-P/g*1e3)}),P=new Te("prft",P),e.H.onEvent(P)}).box("moof",it).box("traf",it).S("tfdt",function(C){E||(w=ka(C.reader,C.version).baseMediaDecodeTime/g,E=!0,m||C.parser.stop())}).parse(n,!0),E&&r.timestampOffset==0&&(a=w)}}else o.includes("/mp4")||o.includes("/webm")||!hs(p)||(e.V[t]?e.V[t].clearData():e.V[t]=new Wt,f=e.V[t].parse(p),p=f.getStartTime(t),p!=null&&(a=p),f=f.getMetadata());return{timestamp:a,metadata:f}}function gl(e,t,n,r,i,o,a,f,p,g){a=a===void 0?!1:a,f=f===void 0?!1:f,p=p===void 0?!1:p,g=g===void 0?!1:g;var m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z;return z(function($){switch($.g){case 1:if(m=sn,t!=m.wa){$.u(2);break}if(e.ba!="HLS"){$.u(3);break}return L($,e.za,4);case 4:w=$.h,e.h.s=w;case 3:return L($,Gg(e.h,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return $.return();case 2:if(g||!e.m){$.u(6);break}return L($,gl(e,m.W,n,r,i,o,a,f,p,!0),7);case 7:return L($,gl(e,m.oa,n,r,i,o,a,f,p,!0),8);case 8:return $.return();case 6:if(!e.i[t])return $.return();if(E=e.i[t].timestampOffset,C=e.F[t],e.j[t]&&(C=e.j[t].getOriginalMimeType()),r&&(P=Ma(e,t,n,r,i,C),R=P.timestamp,O=P.metadata,R!=null&&(e.P==null&&t==m.oa&&(e.P=R,e.na=r.startTime,e.O!=null&&(j=0,e.na==e.ha&&(j=e.P-e.O),e.ga.resolve(j))),e.O==null&&t==m.W&&(e.O=R,e.ha=r.startTime,e.P!=null&&(_=0,e.na==e.ha&&(_=e.P-e.O),e.ga.resolve(_))),K=R,G=xr,!e.C&&G.includes(e.F[t])&&(K=0),W=r.startTime-K,q=Math.abs(E-W),(.001<=q||a||f)&&(!p||0<W||!E)&&(E=W,e.Ha&&(Zt(e,t,function(){return di(e,t)},null),Zt(e,t,function(){return vl(e,t,E)},null))),(t==m.oa||!(m.oa in e.i))&&e.za.resolve(E)),O.length)&&e.H.onMetadata(O,E,r?r.endTime:null),o&&t==m.oa&&(e.h||Wn(e,"application/cea-608",e.C,!1),e.K||(F=C.split(";",1)[0],e.K=new Zn(F)),r?(Q=e.K.i(n),Q.length&&Dh(e.h,Q,r.startTime,r.endTime,E)):e.K.init(n,f)),!e.j[t]){$.u(9);break}return L($,e.j[t].transmux(n,i,r,e.l.duration,t),10);case 10:n=$.h;case 9:if(n=Gh(e,n,r?r.startTime:null,t,r?r.N()[0]:null),!r||!e.C||t==m.wa){$.u(11);break}if(!a&&!f){$.u(11);break}if(H=r.startTime,e.ba!="HLS"||e.m||t!=m.W||!e.i[m.oa]){$.u(13);break}return L($,e.ga,14);case 14:Z=$.h,.1<Math.abs(Z)&&(H-=Z);case 13:Zt(e,t,function(){return di(e,t)},null),Zt(e,t,function(){return vl(e,t,H)},null);case 11:return L($,Zt(e,t,function(){var ie=n;if(t=="video"&&e.da){var fe=e.da;fe.g&&fe.g.appendBuffer(ie,"video",fe.o,-E)}e.i[t].appendBuffer(ie)},r?r.N()[0]:null),15);case 15:oe($)}})}function Yd(e,t){var n=Uu(e,"video")||0;Xl(e.h,t,n)}function Hh(e){e.h&&Xl(e.h,"",0)}h.remove=function(e,t,n){var r=this,i;return z(function(o){return o.g==1?(i=sn,e==i.wa?L(o,r.h.remove(t,n),0):L(o,Zt(r,e,function(){return $r(r,e,t,n)},null),4)):r.m?L(o,Zt(r,i.W,function(){return $r(r,i.W,t,n)},null),0):o.u(0)})};function $d(e,t){var n;return z(function(r){return r.g==1?(n=sn,t==n.wa?e.h?L(r,e.h.remove(0,1/0),0):r.return():L(r,Zt(e,t,function(){return $r(e,t,0,e.l.duration)},null),4)):e.m?L(r,Zt(e,n.W,function(){return $r(e,n.W,0,e.l.duration)},null),0):r.u(0)})}h.flush=function(e){var t=this,n;return z(function(r){return r.g==1?(n=sn,e==n.wa?r.return():L(r,Zt(t,e,function(){t.g.currentTime-=.001,Po(t,e)},null),2)):t.m?L(r,Zt(t,n.W,function(){var i=n.W;t.g.currentTime-=.001,Po(t,i)},null),0):r.u(0)})};function qh(e,t,n,r,i,o,a,f,p){var g,m,w;return z(function(E){return E.g==1?(g=sn,t==g.wa?(o||(e.h.s=n),Wg(e.h,r,i),E.return()):(m=[],L(E,Jc(e,t,a,f,p),2))):(w=E.h,w||(m.push(Zt(e,t,function(){return di(e,t)},null)),e.m&&m.push(Zt(e,g.W,function(){return di(e,g.W)},null))),o||(m.push(Zt(e,t,function(){return vl(e,t,n)},null)),e.m&&m.push(Zt(e,g.W,function(){return vl(e,g.W,n)},null))),(r!=0||i!=1/0)&&(m.push(Zt(e,t,function(){e.i[t].appendWindowStart=0,e.i[t].appendWindowEnd=i,e.i[t].appendWindowStart=r,Po(e,t)},null)),e.m&&m.push(Zt(e,g.W,function(){var C=g.W;e.i[C].appendWindowStart=0,e.i[C].appendWindowEnd=i,e.i[C].appendWindowStart=r,Po(e,C)},null))),m.length?L(E,Promise.all(m),0):E.u(0))})}function Jd(e,t,n){var r,i;return z(function(o){return o.g==1?(r=sn,t==r.wa||(t==r.oa&&(e.za=new bt),!e.C||(i=Uu(e,t))&&.1>Math.abs(i-n))?o.return():(Zt(e,t,function(){return di(e,t)},null),e.m&&Zt(e,r.W,function(){return di(e,r.W)},null),L(o,Zt(e,t,function(){return vl(e,t,n)},null),2))):e.m?L(o,Zt(e,r.W,function(){return vl(e,r.W,n)},null),0):o.u(0)})}h.endOfStream=function(e){var t=this;return z(function(n){return L(n,vs(t,function(){yl(t)||Ke(t)||(e?t.l.endOfStream(e):t.l.endOfStream())}),0)})},h.ab=function(e){var t=this;return z(function(n){return L(n,vs(t,function(){if(e<t.l.duration)for(var r in t.i){var i={start:function(){},p:new bt,uri:null};t.o[r].unshift(i)}t.l.duration=e,t.pa=e}),0)})},h.getDuration=function(){return this.l.duration};function Qd(e,t,n){z(function(r){return yl(e)||Ke(e)?r.return():L(r,vs(e,function(){yl(e)||Ke(e)||e.l.setLiveSeekableRange(t,n)}),0)})}function Xn(e){z(function(t){return yl(e)||Ke(e)?t.return():L(t,vs(e,function(){yl(e)||Ke(e)||e.l.clearLiveSeekableRange()}),0)})}function $r(e,t,n,r){r<=n?Po(e,t):e.i[t].remove(n,r)}function di(e,t){var n=e.i[t].appendWindowStart,r=e.i[t].appendWindowEnd;e.i[t].abort(),e.i[t].appendWindowStart=n,e.i[t].appendWindowEnd=r,Po(e,t)}function vl(e,t,n){0>n&&(n+=.001),e.i[t].timestampOffset=n,Po(e,t)}function Po(e,t){if(!e.I){var n=e.o[t][0];n&&(n.p.resolve(),Li(e,t))}}function Zt(e,t,n,r){return Kt(e.M),n={start:n,p:new bt,uri:r},e.o[t].push(n),e.o[t].length==1&&zh(e,t),n.p}function vs(e,t){var n,r,i,o,a,f,p,g,m,w,E,C;return z(function(P){switch(P.g){case 1:for(Kt(e.M),n=[],r=Object.keys(e.i),i=T(r),o=i.next(),a={};!o.done;a={ready:void 0},o=i.next())f=o.value,a.ready=new bt,p={start:function(R){return function(){return R.ready.resolve()}}(a),p:a.ready,uri:null},e.o[f].push(p),n.push(a.ready),e.o[f].length==1&&p.start();return de(P,2),L(P,Promise.all(n),4);case 4:Oe(P,3);break;case 2:throw g=ke(P),g;case 3:return de(P,5,6),L(P,t(),6);case 6:for(_t(P),m=T(r),w=m.next();!w.done;w=m.next())E=w.value,Li(e,E);Dt(P,0);break;case 5:throw C=ke(P),new X(2,3,3015,C,e.g.error||"No error in the media element",null)}})}function Li(e,t){e.o[t].shift(),zh(e,t)}function zh(e,t){var n=e.o[t][0];if(n)try{n.start()}catch(r){r.name=="QuotaExceededError"?n.p.reject(new X(2,3,3017,t)):n.p.reject(new X(2,3,3015,r,e.g.error||"No error in the media element",n.uri)),Li(e,t)}}function Gh(e,t,n,r,i){var o=n==null,a=e.Ia[r];return n=e.H.ji(),(o=e.A.insertFakeEncryptionInInit&&o&&a)&&(n=Fs(n),o=Or()||Gi()||Qf()||xn()&&gu()&&n),o&&ua(e.F[r])=="mp4"&&(t=_h(t,i)),t}function Wh(e,t,n,r){return Zt(e,t,function(){t!==at&&(du()&&(e.j[t]&&(e.j[t].destroy(),delete e.j[t]),r&&(e.j[t]=r),e.i[t].changeType(n+e.A.addExtraFeaturesToSourceBuffer(n)),e.F[t]=n),Po(e,t))},null)}function Xh(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K;return z(function(G){switch(G.g){case 1:n=sn,e.I=!0,e.m=!1,r=e.g.currentTime,i=e.g.autoplay,o=e.g.paused,e.Pa&&(e.g.autoplay=!1),qe(G,2),e.s.La();for(a in e.j)e.j[a].destroy();for(f in e.i){p=e.i[f];try{e.l.removeSourceBuffer(p)}catch{}}return e.j={},e.i={},g=e.l.duration,e.G=new bt,e.l=Xc(e,e.G),L(G,e.G,4);case 4:!isNaN(g)&&g?e.l.duration=g:!isNaN(e.pa)&&e.pa&&(e.l.duration=e.pa),m=new bt,w=e.l.sourceBuffers,E=t.size,C=0,P=function(){C++,C===E&&(m.resolve(),e.s.bb(w,"addsourcebuffer",P))},e.s.D(w,"addsourcebuffer",P),R=T(t.keys()),O=R.next();case 5:return O.done?((K=t.get(n.W))&&K.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.o[n.W]&&(e.o[n.W]=[]),e.g.currentTime=r,L(G,m,2)):(j=O.value,_=t.get(j),L(G,Yc(e,j,_,_.codecs),6));case 6:O=R.next(),G.u(5);break;case 2:_t(G),e.I=!1,Kt(e.M),e.s.la(e.g,"canplaythrough",function(){e.M.g||(e.g.autoplay=i,o||e.g.play())}),Dt(G,0)}})}function Zd(e,t){return vs(e,function(){return Xh(e,t)})}function Yh(e,t,n,r){var i=!1,o=lr("audio",(r||"").split(",")),a=lr("video",(r||"").split(",")),f=a;t=="audio"&&(f=o),f||(f=r),r=hn(n,f);var p=e.A.forceTransmux;if((!bn(r)||!e.C&&xr.includes(r))&&(p=!0),p&&(e=zo(n,f),n=wu(e))){var g=n();o&&a&&(i=!0),r=g.convertCodecs(t,e)}return t=Rn(Tr(r)),{jg:g,sj:i,vg:wr(r),codec:t,mimeType:r}}function Jc(e,t,n,r,i){var o,a,f,p,g,m,w,E,C,P,R,O,j,_;return z(function(K){return K.g==1?(o=sn,t==o.wa?K.return(!1):(a=Rn(Tr(e.F[t])),f=wr(e.F[t]),p=Yh(e,t,n,r),g=p.jg,m=p.sj,w=p.vg,E=p.codec,C=p.mimeType,P=!0,m&&(R=Yh(e,o.W,n,r),O=Rn(Tr(e.F[o.W])),j=wr(e.F[o.W]),P=O==R.codec&&j==R.vg,R.jg&&R.jg.destroy()),a===E&&f===w&&P?(e.j[t]&&!g?(e.j[t].destroy(),delete e.j[t]):!e.j[t]&&g?e.j[t]=g:g&&(e.j[t]&&e.j[t].transmux!=g.transmux?(e.j[t].destroy(),delete e.j[t],e.j[t]=g):g.destroy()),K.return(!1)):(_=!0,(e.m||m&&g&&!e.j[t])&&(_=!1),_&&e.A.codecSwitchingStrategy==="smooth"&&du()?L(K,Wh(e,t,C,g),3):(g&&g.destroy(),L(K,Zd(e,i),3))))):K.return(!0)})}function ep(e,t,n,r){if(t==at)var i=!1;else{i=Rn(Tr(e.F[t]));var o=wr(e.F[t]),a=hn(n,r),f=e.A.forceTransmux;(!bn(a)||!e.C&&xr.includes(a))&&(f=!0),n=zo(n,r),f&&(f=wu(n))&&(f=f(),a=f.convertCodecs(t,n),f.destroy()),t=Rn(Tr(a)),a=wr(a),i=i!==t||o!==a}return i?e.A.codecSwitchingStrategy!=="smooth"||!du()||e.m:!1}var Jr=x.URL.createObjectURL,$t="sequence";function Me(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=n===void 0?!0:n,this.G=0,this.s=!1,this.m=e}h=Me.prototype,h.getDuration=function(){return this.l},h.li=function(){return this.h},h.rh=function(e){this.i=e},h.ab=function(e){this.l=e},h.pi=function(){return this.i},h.ph=function(e){this.A=e},h.Cc=function(e){e&&!this.B&&(this.I=!0),this.B=e},h.ve=function(e){this.o=e},h.Yd=function(){return this.o},h.$f=function(e){this.C=e},h.di=function(){return this.C},h.ah=function(e,t){if(e.length!=0){var n=(Date.now()+this.A)/1e3;if(e=e.filter(function(i){return i.start+t<n}),e.length!=0){var r=e[e.length-1].end+t;this.ie(e[0].start+t),this.h=e.reduce(function(i,o){return Math.max(i,o.end-o.start)},this.h),this.g=Math.max(this.g,r),this.i!=null&&this.F&&!this.s&&(this.i=n-this.g-this.h)}}},h.Cd=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3;e=T(e);for(var i=e.next();!i.done;i=e.next())i=i.value,r<i.startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.ie(t),this.g=Math.max(this.g,n),this.i!=null&&this.F&&!this.s&&(this.i=r-this.g-this.h)}},h.$g=function(e,t){this.ie(e),t==1/0||this.T()||(this.g=Math.max(this.g,t))},h.mi=function(){return this.g},h.de=function(){this.s=!0},h.Ki=function(){return this.s},h.qh=function(e){this.m=e},h.ii=function(){return this.m},h.ie=function(e){this.j==null?this.j=e:this.I||(this.j=Math.min(this.j,e))},h.Jf=function(e){this.h=Math.max(this.h,e)},h.offset=function(e){this.j!=null&&(this.j+=e),this.g!=null&&(this.g+=e)},h.T=function(){return this.l==1/0&&!this.B},h.vc=function(){return this.l!=1/0&&!this.B},h.nb=function(){return Math.max(this.H,this.ac()-this.o)},h.uh=function(e){this.H=e},h.ac=function(){return this.T()||this.vc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},h.nd=function(e){var t=Math.max(this.j,this.H);return this.o==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.ac()-this.o+e,this.wb()))},h.Ob=function(){return this.nd(0)},h.wb=function(){return Math.max(0,this.ac()-(this.T()||this.vc()?this.C:0))},h.Ch=function(){return!(this.i==null||this.g!=null&&this.F)},h.oh=function(e){this.G=e},h.ai=function(){return this.G},Re("shaka.media.PresentationTimeline",Me),Me.prototype.getAvailabilityTimeOffset=Me.prototype.ai,Me.prototype.setAvailabilityTimeOffset=Me.prototype.oh,Me.prototype.usingPresentationStartTime=Me.prototype.Ch,Me.prototype.getSeekRangeEnd=Me.prototype.wb,Me.prototype.getSeekRangeStart=Me.prototype.Ob,Me.prototype.getSafeSeekRangeStart=Me.prototype.nd,Me.prototype.getSegmentAvailabilityEnd=Me.prototype.ac,Me.prototype.setUserSeekStart=Me.prototype.uh,Me.prototype.getSegmentAvailabilityStart=Me.prototype.nb,Me.prototype.isInProgress=Me.prototype.vc,Me.prototype.isLive=Me.prototype.T,Me.prototype.offset=Me.prototype.offset,Me.prototype.notifyMaxSegmentDuration=Me.prototype.Jf,Me.prototype.notifyMinSegmentStartTime=Me.prototype.ie,Me.prototype.getInitialProgramDateTime=Me.prototype.ii,Me.prototype.setInitialProgramDateTime=Me.prototype.qh,Me.prototype.isStartTimeLocked=Me.prototype.Ki,Me.prototype.lockStartTime=Me.prototype.de,Me.prototype.getMaxSegmentEndTime=Me.prototype.mi,Me.prototype.notifyPeriodDuration=Me.prototype.$g,Me.prototype.notifySegments=Me.prototype.Cd,Me.prototype.notifyTimeRange=Me.prototype.ah,Me.prototype.getDelay=Me.prototype.di,Me.prototype.setDelay=Me.prototype.$f,Me.prototype.getSegmentAvailabilityDuration=Me.prototype.Yd,Me.prototype.setSegmentAvailabilityDuration=Me.prototype.ve,Me.prototype.setStatic=Me.prototype.Cc,Me.prototype.setClockOffset=Me.prototype.ph,Me.prototype.getPresentationStartTime=Me.prototype.pi,Me.prototype.setDuration=Me.prototype.ab,Me.prototype.setPresentationStartTime=Me.prototype.rh,Me.prototype.getMaxSegmentDuration=Me.prototype.li,Me.prototype.getDuration=Me.prototype.getDuration;function Un(e,t,n){this.j=n,this.l=e,this.s=ml(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.A=t,this.i=function(){}}Un.prototype.release=function(){this.j=this.l=null,this.i=function(){}};function fr(e,t){e.i=t}function pi(e){this.g=e}function ml(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=T(Lu(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function jn(e,t,n,r,i){var o=this;this.A=i,this.g=e,this.C=t,this.o=n,this.m=new At,this.l=this.B=!1,this.G=e.readyState,this.F=this.i=0,this.h=r,this.s=!1,this.m.D(e,"waiting",function(){return su(o)}),this.j=new st(function(){su(o)})}jn.prototype.release=function(){this.m&&(this.m.release(),this.m=null),this.j!=null&&(this.j.stop(),this.j=null),this.h&&(this.h.release(),this.h=null),this.g=this.C=this.A=null},jn.prototype.Mf=function(){this.s=!0,su(this)};function su(e){if(e.g.readyState!=0&&e.B){if(e.g.seeking){if(!e.l)return}else e.l=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){e.g.readyState!=e.G&&(e.G=e.g.readyState);var t;if(!(t=!e.h)){t=e.h;var n=t.l,r=ml(n),i=n.g.currentTime,o=Date.now()/1e3;(t.g!=i||t.s!=r)&&(t.m=o,t.g=i,t.s=r,t.h=!1),i=o-t.m,(r=i>=t.A&&r&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=n.g.currentTime,t.o++,t.j(new Te("stalldetected"))),t=!r}t&&(t=e.g.currentTime,n=e.g.buffered,r=Zg(n,t,e.o.gapDetectionThreshold),r!=null&&(r!=0||e.s))&&(i=n.start(r),(navigator.userAgent.match(/Edge\//)||Gi()||Or())&&(i=Math.ceil(100*(i+e.o.gapPadding))/100),i>=e.C.wb()||.001>i-t||(r!=0&&n.end(r-1),e.g.currentTime=i,t==e.i&&(e.i=i),e.F++,e.A(new Te("gapjumped"))))}}}function bi(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Qc.value().get(t),n.la(e,t,r))}var Qc=new wi(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Zc(e,t,n,r){var i=this;this.g=e,this.m=t,this.s=n,this.l=null,this.j=function(){return i.l==null&&(i.l=r()),i.l},this.o=!1,this.h=new At,this.i=new Do(e),bi(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){ef(i,i.j())})}Zc.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function Sl(e){return e.o?e.g.currentTime:e.j()}function Nr(e,t){0<e.g.readyState?La(e.i,t):bi(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){ef(e,e.j())})}function ef(e,t){.001>Math.abs(e.g.currentTime-t)?wl(e):(e.h.la(e.g,"seeking",function(){wl(e)}),La(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function wl(e){e.o=!0,e.h.D(e.g,"seeking",function(){return e.m()}),e.s(e.g.currentTime)}function Do(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new st(function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}Do.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null};function La(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.Aa(.1)}function tf(e){this.h=e,this.j=!1,this.g=null,this.i=new At}h=tf.prototype,h.ready=function(){function e(){if(t.g==null||t.g==0&&t.h.duration!=1/0)t.j=!0;else{var n=t.h.currentTime,r=t.g;0>t.g&&(r=Math.max(0,n+t.g)),n!=r?(t.i.la(t.h,"seeking",function(){t.j=!0}),t.h.currentTime=r):t.j=!0}}var t=this;bi(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},h.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},h.Qe=function(e){this.g=this.j?this.g:e},h.Kd=function(){return(this.j?this.h.currentTime:this.g)||0},h.rg=function(){return 0},h.qg=function(){return 0},h.Zg=function(){};function au(e,t,n,r,i,o){var a=this;this.i=e,this.g=t.presentationTimeline,this.l=n,this.A=i,this.s=null,this.o=_a(e,n,o),this.j=new jn(e,t.presentationTimeline,n,this.o,o),this.h=new Zc(e,function(){e:{var f=a.j;f.l=!0,f.s=!1,su(f);var p=Sl(a.h);if(f=cu(a,p),.001<Math.abs(f-p)){if(p=!1,!mr()||mr()&&vu())p=!0;else{var g=Date.now()/1e3,m=mr()&&Tt("Fuchsia")?3:1;(!a.s||a.s<g-m)&&(a.s=g,p=!0)}if(p){Nr(a.h,f),f=void 0;break e}}a.A(),f=void 0}return f},function(f){var p=a.j;p.B=!0,p.g.seeking&&!p.l&&(p.l=!0,p.i=f),p.j&&p.j.Aa(p.o.gapJumpTimerTime),su(p)},function(){var f=r;return f==null?f=1/0>a.g.getDuration()?a.g.Ob():a.g.wb():0>f&&(f=a.g.wb()+f),ba(a,Na(a,f))}),this.m=new st(function(){if(a.i.readyState!=0&&!a.i.paused){var f=Sl(a.h),p=a.g.Ob(),g=a.g.wb();3>g-p&&(p=g-3),f<p&&(f=cu(a,f),a.i.currentTime=f)}})}h=au.prototype,h.ready=function(){this.m.Aa(.25)},h.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.A=function(){}},h.Qe=function(e){Nr(this.h,e)},h.Kd=function(){var e=Sl(this.h);return 0<this.i.readyState&&!this.i.paused?Na(this,e):e},h.rg=function(){return this.o?this.o.o:0},h.qg=function(){return this.j.F},h.Zg=function(){this.j.Mf()};function ba(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function cu(e,t){var n=e.l.rebufferingGoal,r=e.l.safeSeekOffset,i=e.g.Ob(),o=e.g.wb(),a=e.g.getDuration();3>o-i&&(i=o-3);var f=e.g.nd(n),p=e.g.nd(r);return n=e.g.nd(n+r),t>=a?ba(e,t):t>o?o-e.l.safeSeekEndOffset:t<i?fs(e.i.buffered,p)?p:n:t>=f||fs(e.i.buffered,t)?t:n}function Na(e,t){var n=e.g.Ob();return t<n?n:(e=e.g.wb(),t>e?e:t)}function _a(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return t=new Un(new pi(e),t.stallThreshold,n),fr(t,function(){r?e.currentTime+=r:(e.pause(),e.play())}),t}function St(e){this.g=e,this.m=null,this.i=0,this.o=!1}h=St.prototype,h.getNumReferences=function(){return this.g.length},h.getNumEvicted=function(){return this.i},h.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},h.Qi=function(){this.o=!0},h.Db=function(e){for(var t=T(this.g),n=t.next();!n.done;n=t.next())e(n.value)};function Qr(e){return e.g[0]||null}h.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},h.get=function(e){return this.g.length==0?null:(e-=this.i,0>e||e>=this.g.length?null:this.g[e])},h.offset=function(e){if(!this.o)for(var t=T(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},h.fe=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,te(e))}},h.yd=function(e,t){var n=this;e=e.filter(function(r){return r.endTime>t&&(n.g.length==0||r.endTime>n.g[0].startTime)}),this.fe(e),this.Ja(t)},h.Ja=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},h.Lc=function(e,t,n){if(n=n===void 0?!1:n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],t=new Fe(e.startTime,t,e.C,e.Ma,e.va,e.ca,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.A,e.h,e.status,e.aesKey),t.mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},h.Be=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new st(function(){var r=t();r?n.g.push.apply(n.g,te(r)):(n.m.stop(),n.m=null)}),this.m.Aa(e))},St.prototype[Symbol.iterator]=function(){return this.Nb(0)},St.prototype.Nb=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?!1:n;var r=this.find(e);if(r==null)return null;var i=this.get(r);n?r++:r--;var o=-1;if(i&&0<i.g.length)for(var a=i.g.length-1;0<=a;--a){var f=i.g[a];if(e>=f.startTime&&e<f.endTime){if(!t){for(;a&&!f.l;)a--,f=i.g[a];if(!f.l)return mi("No independent partial segment found!"),null}n?r--:r++,o=a-1;break}}return new Sn(this,r,o,n)};function Tl(e,t,n){return e=new Fe(e,e+t,function(){return n},0,null,null,e,e,e+t),new St([e])}Re("shaka.media.SegmentIndex",St),St.forSingleSegment=Tl,St.prototype.getIteratorForTime=St.prototype.Nb,St.prototype.updateEvery=St.prototype.Be,St.prototype.fit=St.prototype.Lc,St.prototype.evict=St.prototype.Ja,St.prototype.mergeAndEvict=St.prototype.yd,St.prototype.offset=St.prototype.offset,St.prototype.get=St.prototype.get,St.prototype.find=St.prototype.find,St.prototype.markImmutable=St.prototype.Qi,St.prototype.release=St.prototype.release,St.prototype.getNumEvicted=St.prototype.getNumEvicted,St.prototype.getNumReferences=St.prototype.getNumReferences;function Sn(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}h=Sn.prototype,h.bd=function(e){this.reverse=e},h.Wh=function(){return this.h},h.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.s&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},h.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.s&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},h.Uf=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},Re("shaka.media.SegmentIterator",Sn),Sn.prototype.resetToLastIndependent=Sn.prototype.Uf,Sn.prototype.next=Sn.prototype.next,Sn.prototype.current=Sn.prototype.current,Sn.prototype.currentPosition=Sn.prototype.Wh,Sn.prototype.setReverse=Sn.prototype.bd;function zt(){St.call(this,[]),this.h=[]}mt(zt,St),h=zt.prototype,h.clone=function(){var e=new zt;return e.h=this.h.slice(),e.i=this.i,e},h.release=function(){for(var e=T(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},h.Db=function(e){for(var t=T(this.h),n=t.next();!n.done;n=t.next())n.value.Db(e)},h.find=function(e){for(var t=this.i,n=T(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.find(e);if(i!=null)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},h.get=function(e){for(var t=this.i,n=T(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},h.offset=function(){},h.fe=function(){},h.Ja=function(e){for(var t=T(this.h),n=t.next();!n.done;n=t.next())n.value.Ja(e);for(;1<this.h.length&&this.h[0].getNumReferences()==0;)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},h.yd=function(){},h.Lc=function(){},h.Be=function(){},Re("shaka.media.MetaSegmentIndex",zt),zt.prototype.updateEvery=zt.prototype.Be,zt.prototype.fit=zt.prototype.Lc,zt.prototype.mergeAndEvict=zt.prototype.yd,zt.prototype.evict=zt.prototype.Ja,zt.prototype.merge=zt.prototype.fe,zt.prototype.offset=zt.prototype.offset,zt.prototype.get=zt.prototype.get,zt.prototype.find=zt.prototype.find,zt.prototype.forEachTopLevelReference=zt.prototype.Db,zt.prototype.release=zt.prototype.release;function _r(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Xd(),this.h=new st(function(){t.g.Yg(.25*t.i)})}_r.prototype.release=function(){this.set(this.qc()),this.h&&(this.h.stop(),this.h=null),this.g=null},_r.prototype.set=function(e){this.i=e,Ar(this)},_r.prototype.qc=function(){return this.g.qc()};function Ar(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.Xd()!=t&&e.g.cg(t);return}catch{}e.h.Aa(.25),e.g.Xd()!=0&&e.g.cg(0)}function tp(e){var t=this;this.h=e,this.g=new Set,this.i=new st(function(){nf(t,!1)}).Aa(.25)}tp.prototype.release=function(){this.i.stop();for(var e=T(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function nf(e,t){for(var n=T(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function ms(e){xt.call(this),this.g=new Map,this.h=e}mt(ms,xt),ms.prototype.release=function(){this.g.clear(),xt.prototype.release.call(this)};function rv(e,t){var n=e.g.get(t);return n||(n={Gd:[],$e:null,contentType:t},e.g.set(t,n)),n}function ju(e,t,n){var r=rv(e,t.contentType);rp(e,r),e={Tc:t,position:n},r=r.Gd,t=r.findIndex(function(i){return i.position>=n}),0<=t?r.splice(t,r[t].position==n?1:0,e):r.push(e)}ms.prototype.j=function(e){for(var t=T(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;var r=n.$e;e:{for(var i=n.Gd,o=i.length-1;0<=o;o--){var a=i[o];if(a.position<=e){i=a.Tc;break e}}i=null}o=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),a=i&&r&&i.label&&r.label&&r.label!==i.label;var f=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!Vs(r.roles,i.roles),(a||f||r)&&np(this,e,i.contentType)&&(n.$e=i,r=new Te("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),o&&np(this,e,i.contentType)&&(n.$e=i,JSON.stringify(i),n=new Te("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}};function np(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function rp(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.Gd;t.Gd=i.filter(function(o,a){return!(o.position<=n&&a+1<i.length&&i[a+1].position<=n||o.position>=r)})}else t.Gd=[]}function Oo(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return e.type=="video"&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),e.type=="audio"&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function Ua(e){xt.call(this);var t=this;this.g=new Set,this.i=e,this.h=new st(function(){for(var n=t.i(),r=T(t.g),i=r.next();!i.done;i=r.next())i=i.value,i.endTime<n.start&&(t.g.delete(i),i=new Te("regionremove",new Map([["region",i]])),t.dispatchEvent(i))}).Aa(2)}mt(Ua,xt),Ua.prototype.release=function(){this.g.clear(),this.h.stop(),xt.prototype.release.call(this)};function Ro(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function $h(e,t){e.l=t,e=T(e.h.values());for(var n=e.next();!n.done;n=e.next())n.value.g=t}function Ss(e,t,n){if(n=n===void 0?!1:n,!e.i.segmentIndex||(e.g||(e.g=e.i.segmentIndex.Nb(t,!0,e.o)),!e.g))return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value,!!n);){var r=!0;n.isPreload()&&n.va!=null&&(r=!1),n.cc()==2&&(r=!1),n.Pb()&&(r=!1),r&&n.ca&&t.push(rf(e,n.ca)),r&&!e.h.has(n)&&(r=new up(e.l),t.push(xl(r,n,e.i)),e.h.set(n,r))}return ip(e),Promise.all(t)}function rf(e,t){if(!e.i.segmentIndex||t.Pb()||Array.from(e.j.keys()).some(function(i){return Bd(i,t)}))return Promise.resolve();var n=new up(e.l),r=xl(n,t,e.i);return e.j.set(t,n),r}function ja(e,t){t=T(t.keys());for(var n=t.next();!n.done;n=t.next())(n=n.value)&&ro(e,n)}function no(e){ja(e,e.h),ja(e,e.j),e.g=null}Ro.prototype.Ja=function(e,t){t=t===void 0?!1:t;for(var n=T(this.h.keys()),r=n.next();!r.done;r=n.next())r=r.value,e>r.endTime&&ro(this,r);t&&ip(this)},Ro.prototype.bd=function(e){this.o=e,this.g&&this.g.bd(e)};function ip(e){for(var t=Array.from(e.h.keys()),n=T(e.j.keys()),r=n.next(),i={};!r.done;i={Bf:void 0},r=n.next())i.Bf=r.value,t.some(function(o){return function(a){return Bd(a.ca,o.Bf)}}(i))||ro(e,i.Bf)}function op(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&ro(e,r)}ip(e)}function Jh(e,t){t&&t!==e.i&&(no(e),e.i=t)}function ro(e,t){var n=e.h;t instanceof Er&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function up(e){this.g=e,this.Ed=this.eg=null}function xl(e,t,n){var r=new Uint8Array(0);return e.Ed=e.g(t,n,function(i){return z(function(o){if(o.g==1)return 0<r.byteLength?r=nn(r,i):r=i,e.eg?L(o,e.eg(r),3):o.u(0);r=new Uint8Array(0),oe(o)})}),e.Ed.promise.catch(function(i){return i instanceof X&&i.code==7001?Promise.resolve():Promise.reject(i)})}up.prototype.abort=function(){this.Ed&&this.Ed.abort()};function Ba(e){var t=wr(e),n=t.split("/")[0];return e=Tr(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Jd:null,colorGamut:null,frameRate:null}}function Ln(e,t,n){function r(F){j=F.name;var Q=F.reader;Q.skip(24);var H=Q.ma(),Z=Q.ma();Q.skip(50),E=String(H),w=String(Z),F.reader.ta()&&it(F)}function i(F){var Q=qd(F.reader);C=Q.channelCount,P=Q.sampleRate,o(F.name)}function o(F){switch(F=F.toLowerCase(),F){case"avc1":case"avc3":f.push(F+".42E01E"),g=!0;break;case"hev1":case"hvc1":f.push(F+".1.6.L93.90"),g=!0;break;case"dvh1":case"dvhe":f.push(F+".05.04"),g=!0;break;case"vp09":f.push(F+".00.10.08"),g=!0;break;case"av01":f.push(F+".0.01M.08"),g=!0;break;case"mp4a":a.push("mp4a.40.2"),p=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":a.push(F),p=!0}}var a=[],f=[],p=!1,g=!1,m=null,w=null,E=null,C=null,P=null,R=null,O=null,j;if(new Bt().box("moov",it).box("trak",it).box("mdia",it).S("mdhd",function(F){m=Aa(F.reader,F.version).language}).box("minf",it).box("stbl",it).S("stsd",Eo).box("mp4a",function(F){var Q=qd(F.reader);C=Q.channelCount,P=Q.sampleRate,F.reader.ta()?it(F):o(F.name)}).box("esds",function(F){F=F.reader;for(var Q="mp4a",H,Z;F.ta();){H=F.U();for(var $=F.U();$&128;)$=F.U();if(H==3)F.ma(),$=F.U(),$&128&&F.ma(),$&64&&F.skip(F.U()),$&32&&F.ma();else if(H==4)Z=F.U(),F.skip(12);else if(H==5)break}Z&&(Q+="."+tr(Z),H==5&&F.ta()&&(H=F.U(),Z=(H&248)>>3,Z===31&&F.ta()&&(Z=32+((H&7)<<3)+((F.U()&224)>>5)),Q+="."+Z)),a.push(Q),p=!0}).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("avc1",r).box("avc3",r).box("hev1",r).box("hvc1",r).box("dva1",r).box("dvav",r).box("dvh1",r).box("dvhe",r).box("vp09",r).box("av01",r).box("avcC",function(F){var Q=j||"";switch(j){case"dvav":Q="avc3";break;case"dva1":Q="avc1"}F=F.reader,F.skip(1),F=Q+"."+tr(F.U())+tr(F.U())+tr(F.U()),f.push(F),g=!0}).box("hvcC",function(F){var Q=j||"";switch(j){case"dvh1":Q="hvc1";break;case"dvhe":Q="hev1"}var H=F.reader;H.skip(1),F=H.U();var Z=["","A","B","C"][F>>6],$=F&31,ie=H.R(),fe=(F&32)>>5?"H":"L";F=[H.U(),H.U(),H.U(),H.U(),H.U(),H.U()],H=H.U();for(var re=0,ae=0;32>ae&&(re|=ie&1,ae!=31);ae++)re<<=1,ie>>=1;for(Q=Q+("."+Z+$)+("."+tr(re,!0)),Q+="."+fe+H,Z="",$=F.length;$--;)((fe=F[$])||Z)&&(Z="."+fe.toString(16).toUpperCase()+Z);Q+=Z,f.push(Q),g=!0}).box("dvcC",function(F){var Q=j||"";switch(j){case"hvc1":Q="dvh1";break;case"hev1":Q="dvhe";break;case"avc1":Q="dva1";break;case"avc3":Q="dvav";break;case"av01":Q="dav1"}var H=F.reader;H.skip(2),F=H.U(),H=H.U(),f.push(Q+"."+an(F>>1&127)+"."+an(F<<5&32|H>>3&31)),g=!0}).box("dvvC",function(F){var Q=j||"";switch(j){case"hvc1":Q="dvh1";break;case"hev1":Q="dvhe";break;case"avc1":Q="dva1";break;case"avc3":Q="dvav";break;case"av01":Q="dav1"}var H=F.reader;H.skip(2),F=H.U(),H=H.U(),f.push(Q+"."+an(F>>1&127)+"."+an(F<<5&32|H>>3&31)),g=!0}).S("vpcC",function(F){var Q=j||"",H=F.reader;F=H.U();var Z=H.U();H=H.U()>>4&15,f.push(Q+"."+an(F)+"."+an(Z)+"."+an(H)),g=!0}).box("av1C",function(F){var Q=j||"";switch(j){case"dav1":Q="av01"}var H=F.reader;H.skip(1),F=H.U(),H=H.U();var Z=F>>>5,$=(H&64)>>6;f.push(Q+"."+Z+"."+an(F&31)+(H>>>7?"H":"M")+"."+an(Z===2&&$?(H&32)>>5?12:10:$?10:8)+"."+((H&16)>>4)+"."+((H&8)>>3)+((H&4)>>2)+(H&3)+"."+an(1)+"."+an(1)+"."+an(1)+".0"),g=!0}).box("enca",ga).box("encv",cr).box("sinf",it).box("frma",function(F){F=zd(F.reader).codec,o(F)}).box("colr",function(F){f=f.map(function(Z){if(Z.startsWith("av01.")){var $=F.reader,ie=$.xa(),fe=$.Ab(4),re=String.fromCharCode(fe[0]);if(re+=String.fromCharCode(fe[1]),re+=String.fromCharCode(fe[2]),re+=String.fromCharCode(fe[3]),re==="nclx"){fe=$.ma(),re=$.ma();var ae=$.ma(),me=$.U()>>7,ye=Z.split(".");ye.length==10&&(ye[6]=an(fe),ye[7]=an(re),ye[8]=an(ae),ye[9]=String(me),Z=ye.join("."))}$.seek(ie)}return Z});var Q=ev(F.reader),H=Q.colorGamut;R=Q.Jd,O=H}).parse(e||t,!0),!a.length&&!f.length)return null;var _=p&&!g,K=new Map;if(g&&!n){n=new Zn("video/mp4"),e&&n.init(e);try{n.i(t);for(var G=T(n.j()),W=G.next();!W.done;W=G.next()){var q=W.value;K.set(q,q)}}catch{}n.g()}return{type:_?"audio":"video",mimeType:_?"audio/mp4":"video/mp4",codecs:lp(a.concat(f)).join(", "),language:m,height:w,width:E,channelCount:C,sampleRate:P,closedCaptions:K,Jd:R,colorGamut:O,frameRate:null}}function lp(e){var t=new Set,n=[];e=T(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=Go(r);t.has(i)||(n.push(r),t.add(i))}return t=fd("audio",n),r=fd("video",n),e=fd(at,n),r=Qh(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function Qh(e){if(1>=e.length)return e;var t=e.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?bn('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(n){return n!=t}):e}function iv(e){var t=null;return new Bt().box("moov",it).box("trak",it).box("mdia",it).box("minf",it).box("stbl",it).S("stsd",Eo).box("encv",cr).box("enca",ga).box("sinf",it).box("schi",it).S("tenc",function(n){n=n.reader,n.U(),n.U(),n.U(),n.U(),t=Gn(n.Ab(16))}).parse(e,!0),t}function of(e,t,n){var r,i,o,a,f;return z(function(p){if(p.g==1)return r=t,r.cryptoKey?p.u(2):L(p,r.fetchKey(),3);if(i=r.iv,!i)for(i=Ze(new ArrayBuffer(16)),o=r.firstMediaSequenceNumber+n,a=i.byteLength-1;0<=a;a--)i[a]=o&255,o>>=8;return t.blockCipherMode=="CBC"?f={name:"AES-CBC",iv:i}:f={name:"AES-CTR",counter:i,length:64},p.return(x.crypto.subtle.decrypt(f,r.cryptoKey,e))})}function Il(e,t,n,r,i){return e=wt(e,r,i),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function sp(e,t){var n=this;this.g=t,this.l=e,this.h=null,this.H=new Map,this.C=1,this.s=this.j=null,this.K=0,this.i=new Map,this.G=!1,this.L=null,this.B=!1,this.m=new Ou(function(){return ov(n)}),this.M=Date.now()/1e3,this.o=new Map,this.I={projection:null,hfov:null},this.P=0,this.O=1/0,this.F=null,this.A=new st(function(){if(n.l&&n.g)if(n.l.presentationTimeline.T()){var r=n.l.presentationTimeline.Ob(),i=n.l.presentationTimeline.wb();1<i-r?Qd(n.g.Z,r,i):Xn(n.g.Z)}else Xn(n.g.Z),n.A&&n.A.stop()})}h=sp.prototype,h.destroy=function(){return this.m.destroy()};function ov(e){var t,n,r,i,o,a,f;return z(function(p){if(p.g==1){for(t=[],n=T(e.i.values()),r=n.next();!r.done;r=n.next())i=r.value,Ha(i),t.push(Vu(i)),i.X&&(no(i.X),i.X=null);for(o=T(e.o.values()),a=o.next();!a.done;a=o.next())f=a.value,no(f);return L(p,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.l=null,e.h=null,e.A&&e.A.stop(),e.A=null,oe(p)})}h.configure=function(e){if(this.h=e,this.L=new da({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.X&&(no(t.X),t.X=null),t=T(this.o.keys());for(var n=t.next();!n.done;n=t.next())n=n.value,no(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(at))&&t.X&&(no(t.X),t.X=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.X&&(no(t.X),t.X=null),t=T(this.i.keys()),n=t.next();!n.done;n=t.next())n=this.i.get(n.value),n.X?(op(n.X,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(no(n.X),n.X=null)):0<e.segmentPrefetchLimit&&(n.X=sf(this,n.stream));e.disableAudioPrefetch||ey(this)};function Ni(e,t,n){e.l.presentationTimeline.T()||(e.P=t,e.O=n)}h.start=function(e){var t=this;return z(function(n){if(n.g==1)return L(n,fp(t,e||new Map),2);Kt(t.m),t.G=!0,oe(n)})};function ap(e,t){var n,r,i,o,a,f;z(function(p){switch(p.g){case 1:return n=sn,e.K++,r=e.K,de(p,2),L(p,$d(e.g.Z,n.wa),4);case 4:Oe(p,3);break;case 2:i=ke(p),e.g&&e.g.onError(i);case 3:o=hn(t.mimeType,t.codecs),Wn(e.g.Z,o,e.l.sequenceMode,t.external),a=e.g.Z.fa,(a.isTextVisible()||e.h.alwaysStreamText)&&e.K==r&&(f=Zh(e,t),e.i.set(n.wa,f),Yn(e,f,0)),oe(p)}})}function uv(e){var t=e.i.get(at);t&&(Ha(t),Vu(t).catch(function(){}),e.F=e.i.get(at),e.i.delete(at)),e.s=null}function Mo(e,t){for(var n=0>e.g.mb(),r=T(e.i.values()),i=r.next();!i.done;i=r.next())i=i.value,i.ja&&i.ja.bd(n),i.X&&i.X.bd(n);for(r=T(e.o.values()),i=r.next();!i.done;i=r.next())i.value.bd(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.fc&&(Bu(e,t,!1,0,!1),n.fc=r):(t=n.fc)&&(n.fc=null,Bu(e,t,!0,0,!1)))}function Va(e,t,n,r,i,o){n=n===void 0?!1:n,r=r===void 0?0:r,i=i===void 0?!1:i,o=o===void 0?!1:o,e.j=t,e.G&&(t.video&&Bu(e,t.video,n,r,i,o),t.audio&&Bu(e,t.audio,n,r,i,o))}function Lo(e,t){z(function(n){if(n.g==1)return e.F=null,e.s=t,e.G?t.segmentIndex?n.u(2):L(n,t.createSegmentIndex(),2):n.return();Bu(e,t,!0,0,!1),oe(n)})}function uf(e,t){for(var n=T(e.H.entries()),r=n.next();!r.done;r=n.next()){var i=T(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.H.delete(r))}}function Bu(e,t,n,r,i,o){var a=e.i.get(t.type);a||t.type!=at?a&&(a.fc&&(t.trickModeVideo?(a.fc=t,t=t.trickModeVideo):a.fc=null),a.stream!=t||i)&&(e.o.has(t)?a.X=e.o.get(t):a.X&&Jh(a.X,t),t.type==at&&(i=hn(t.mimeType,t.codecs),Wn(e.g.Z,i,e.l.sequenceMode,t.external)),!e.o.has(a.stream)&&a.stream.closeSegmentIndex&&(a.Fa?(i="("+a.type+":"+a.stream.id+")",e.H.has(i)||e.H.set(i,a.stream.closeSegmentIndex)):a.stream.closeSegmentIndex()),i=a.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,a.stream=t,a.ja=null,a.sg=!!o,i?c(e,!0,!1):(n?a.fd?a.Ke=!0:a.Fa?(a.lc=!0,a.Rd=r,a.Ke=!0):(Ha(a),yp(e,a,!0,r).catch(function(f){e.g&&e.g.onError(f)})):a.Fa||a.jb||Yn(e,a,0),cp(e,a).catch(function(f){e.g&&e.g.onError(f)}))):ap(e,t)}function cp(e,t){var n,r;return z(function(i){if(i.g==1)return t.pb?(n=t.stream,r=t.pb,n.segmentIndex?i.u(2):L(i,n.createSegmentIndex(),2)):i.return();if(t.pb!=r||t.stream!=n)return i.return();var o=e.g.md(),a=Uu(e.g.Z,t.type),f=t.stream.segmentIndex.find(t.Xa?t.Xa.endTime:o),p=f==null?null:t.stream.segmentIndex.get(f);f=p&&p.va?p.va-p.Ma:null,p&&!f&&(f=(p.endTime-p.getStartTime())*(t.stream.bandwidth||0)/8),f?((p=p.ca)&&(f+=(p.va?p.va-p.Ma:null)||0),p=e.g.getBandwidthEstimate(),o=8*f/p<(a||0)-o-e.h.rebufferingGoal||t.pb.h.g>f):o=!1,o&&t.pb.abort(),oe(i)})}h.$c=function(){if(this.g)for(var e=this.g.md(),t=T(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.Z;if(r==at?(i=i.h,i=i.g==null||i.h==null?!1:e>=i.g&&e<i.h):(i=gs(i,r),i=fs(i,e)),!i){if(n.X&&(n.X.g=null),n.type==="audio"){i=T(this.o.values());for(var o=i.next();!o.done;o=i.next())o.value.g=null}n.ja=null,(Uu(this.g.Z,r)!=null||n.Fa)&&lf(this,n),n.pb&&(n.pb.abort(),n.pb=null),r===at&&(r=this.g.Z,r.K&&r.K.g()),n.$c=!0}}};function lf(e,t){t.fd||t.lc||(t.Fa?(t.lc=!0,t.Rd=0):_u(e.g.Z,t.type)==null?t.jb==null&&Yn(e,t,0):(Ha(t),yp(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function fp(e,t){var n,r,i,o,a,f,p,g,m,w;return z(function(E){if(E.g==1){if(n=sn,!e.j)throw new X(2,5,5006);return r=new Map,i=new Set,e.j.audio&&(r.set(n.W,e.j.audio),i.add(e.j.audio)),e.j.video&&(r.set(n.oa,e.j.video),i.add(e.j.video)),e.s&&(r.set(n.wa,e.s),i.add(e.s)),o=e.g.Z,L(E,o.init(r,e.l.sequenceMode,e.l.type,e.l.ignoreManifestTimestampsInSegmentsMode),2)}for(Kt(e.m),e.updateDuration(),a=T(r.keys()),f=a.next();!f.done;f=a.next())p=f.value,g=r.get(p),e.i.has(p)||(m=Zh(e,g),t.has(g.id)&&(w=t.get(g.id),$h(w,function(C,P,R){return El(C,P,R||null,e.h.retryParameters,e.g.Tb)}),m.X=w),e.i.set(p,m),Yn(e,m,0));oe(E)})}function Zh(e,t){return{stream:t,type:t.type,ja:null,X:sf(e,t),Xa:null,Rc:null,ce:null,xc:null,wc:null,fc:null,endOfStream:!1,Fa:!1,jb:null,lc:!1,Rd:0,Ke:!1,fd:!1,$c:!0,Sf:!1,pd:!1,pb:null}}function sf(e,t){if(t.type==="video"&&e.h.disableVideoPrefetch||t.type==="audio"&&e.h.disableAudioPrefetch||t.type===at&&(t.mimeType=="application/cea-608"||t.mimeType=="application/cea-708")||t.type===at&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.X)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new Ro(e.h.segmentPrefetchLimit,t,function(r,i,o){return El(r,i,o||null,e.h.retryParameters,e.g.Tb)},0>e.g.mb()):null}function ey(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=T(e.l.variants),i=r.next(),o={};!i.done;o={sb:void 0},i=r.next())if(o.sb=i.value,o.sb.audio)if(e.o.has(o.sb.audio)){if(i=e.o.get(o.sb.audio),op(i,t),!(0<t&&n.some(function(f){return function(p){return Eu(f.sb.audio.language,p)}}(o)))){var a=e.i.get(o.sb.audio.type);i!==(a&&a.X)&&no(i),e.o.delete(o.sb.audio)}}else 0>=t||!n.some(function(f){return function(p){return Eu(f.sb.audio.language,p)}}(o))||!(i=sf(e,o.sb.audio))||(o.sb.audio.segmentIndex||o.sb.audio.createSegmentIndex(),e.o.set(o.sb.audio,i))}h.updateDuration=function(){var e=(e=x.ManagedMediaSource||x.MediaSource)&&e.prototype?!!e.prototype.setLiveSeekableRange&&!!e.prototype.clearLiveSeekableRange:!1,t=this.l.presentationTimeline.getDuration();1/0>t?(e&&(this.A&&this.A.stop(),Xn(this.g.Z)),this.g.Z.ab(t)):e?(this.A&&this.A.Aa(.5),this.g.Z.ab(1/0)):this.g.Z.ab(Math.pow(2,32))};function af(e,t){var n,r,i,o,a,f;return z(function(p){switch(p.g){case 1:if(Kt(e.m),t.Fa||t.jb==null||t.fd)return p.return();if(t.jb=null,!t.lc){p.u(2);break}return L(p,yp(e,t,t.Ke,t.Rd),3);case 3:return p.return();case 2:if(uf(e,t),t.stream.segmentIndex){p.u(4);break}return n=t.stream,de(p,5),L(p,t.stream.createSegmentIndex(),7);case 7:Oe(p,6);break;case 5:return r=ke(p),L(p,u(e,t,r),8);case 8:return p.return();case 6:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Fa||t.jb||Yn(e,t,0),p.return();case 4:de(p,9),i=cf(e,t),i!=null&&(Yn(e,t,i),t.pd=!1),Oe(p,10);break;case 9:return o=ke(p),L(p,u(e,t,o),11);case 11:return p.return();case 10:if(a=Array.from(e.i.values()),!e.G||!a.every(function(g){return g.endOfStream})){p.u(0);break}return L(p,e.g.Z.endOfStream(),13);case 13:Kt(e.m),f=e.g.Z.getDuration(),f!=0&&f<e.l.presentationTimeline.getDuration()&&e.l.presentationTimeline.ab(f),oe(p)}})}function cf(e,t){if(ff(t))return Yd(e.g.Z,t.stream.originalId||""),null;if(t.type==at&&Hh(e.g.Z),t.stream.isAudioMuxedInVideo)return null;if(!$c(e.g.Z)&&t.type!=at)return e.h.updateIntervalSeconds/2;var n=e.g.md();if(t.type==="audio")for(var r=T(e.o.keys()),i=r.next();!i.done;i=r.next())i=e.o.get(i.value),i.Ja(n,!0),Ss(i,n);r=t.Xa?t.Xa.endTime:n;var o=Kh(e.g.Z,t.type,n),a=Math.max(1,Math.max(e.h.rebufferingGoal,e.h.bufferingGoal)*e.C),f=e.l.presentationTimeline.getDuration()-r;if(i=Uu(e.g.Z,t.type),1e-6>f&&i)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(at))&&ff(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,o>=a)return e.h.updateIntervalSeconds/2;if(a=!t.ja,i=ty(e,t,n,i),!i)return e.h.updateIntervalSeconds;o=!1,a&&t.sg&&(o=!0,t.sg=!1),a=1/0,f=Array.from(e.i.values()),f=T(f);for(var p=f.next();!p.done;p=f.next())p=p.value,ff(p)||p.ja&&!p.ja.current()||(a=Math.min(a,p.Xa?p.Xa.endTime:n));return r>=a+e.l.presentationTimeline.h?e.h.updateIntervalSeconds:(t.X&&t.ja&&!e.o.has(t.stream)&&(t.X.Ja(i.startTime),Ss(t.X,i.startTime)),dp(e,t,n,i,o).catch(function(){}),null)}function ty(e,t,n,r){if(t.ja)return t.ja.current();if(t.Xa||r)return n=t.Xa?t.Xa.endTime:r,e=0>e.g.mb(),t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Nb(n,!1,e)),t.ja&&t.ja.next().value;r=e.l.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.mb();var o=null;return r&&(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Nb(i,!1,e)),o=t.ja&&t.ja.next().value),o||(t.stream.segmentIndex&&(t.ja=t.stream.segmentIndex.Nb(n,!1,e)),o=t.ja&&t.ja.next().value),o}function dp(e,t,n,r,i){var o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){switch(W.g){case 1:if(o=sn,a=t.stream,f=t.ja,t.Fa=!0,de(W,2),r.cc()==2)throw new X(1,1,1011);return L(W,pp(e,t,r,i),4);case 4:return Kt(e.m),e.B?W.return():(p=a.mimeType=="video/mp4"||a.mimeType=="audio/mp4",g=x.ReadableStream,e.h.lowLatencyMode&&e.l.isLowLatency&&g&&p&&(e.l.type!="HLS"||r.m)?(E=new Uint8Array(0),P=C=!1,O=function(q){var F,Q,H;return z(function(Z){switch(Z.g){case 1:if(C||(P=!0,Kt(e.m),e.B))return Z.return();if(de(Z,2),E=lv(E,q),F=!1,Q=0,new Bt().box("mdat",function($){Q=$.size+$.start,F=!0}).parse(E,!1,!0),!F){Z.u(4);break}return H=E.subarray(0,Q),E=E.subarray(Q),L(Z,Ka(e,t,n,a,r,H,!0,i),5);case 5:t.X&&t.ja&&Ss(t.X,r.startTime,!0);case 4:Oe(Z,0);break;case 2:R=ke(Z),oe(Z)}})},L(W,hp(e,t,r,O),9)):(m=hp(e,t,r),L(W,m,7)));case 7:return w=W.h,Kt(e.m),e.B?W.return():(Kt(e.m),t.lc?(t.Fa=!1,Yn(e,t,0),W.return()):L(W,Ka(e,t,n,a,r,w,!1,i),6));case 9:if(j=W.h,R)throw R;if(P){W.u(10);break}return C=!0,Kt(e.m),e.B?W.return():t.lc?(t.Fa=!1,Yn(e,t,0),W.return()):L(W,Ka(e,t,n,a,r,j,!1,i),10);case 10:t.X&&t.ja&&Ss(t.X,r.startTime,!0);case 6:if(Kt(e.m),e.B)return W.return();t.Xa=r,f.next(),t.Fa=!1,t.Sf=!1,_=e.g.Z.Eb(),K=_[t.type],JSON.stringify(K),t.lc||e.g.Mf(r,t.stream),Yn(e,t,0),Oe(W,0);break;case 2:if(G=ke(W),Kt(e.m,G),e.B)return W.return();if(t.Fa=!1,G.code==7001)t.Fa=!1,Ha(t),Yn(e,t,0),W.u(0);else if(t.type==o.wa&&e.h.ignoreTextStreamFailures)e.i.delete(o.wa),W.u(0);else return G.code==3017?L(W,ny(e,t,G),0):(t.pd=!0,G.category==1&&t.X&&ro(t.X,r),G.severity=2,L(W,u(e,t,G),0))}})}function lv(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function ny(e,t,n){var r,i,o,a;return z(function(f){if(f.g==1){if(r=Array.from(e.i.values()),r.some(function(p){return p!=t&&p.Sf}))return f.u(2);if(i=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,i))return f.return();if(o=Math.round(100*e.C),20<o)e.C-=.2;else if(4<o)e.C-=.04;else return t.pd=!0,e.B=!0,e.g.onError(n),f.return();return t.Sf=!0,a=e.g.md(),L(f,ws(e,t,a),2)}Yn(e,t,4),oe(f)})}function pp(e,t,n,r){var i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K;return z(function(G){switch(G.g){case 1:if(i=sn,o=t.Xa==null,a=[],f=Math.max(0,Math.max(n.appendWindowStart,e.P)-.1),p=Math.min(n.appendWindowEnd,e.O)+.01,g=n.codecs||t.stream.codecs,m=Go(g),w=wr(n.mimeType||t.stream.mimeType),E=n.timestampOffset,E==t.ce&&f==t.xc&&p==t.wc&&m==t.Ff&&w==t.Gf){G.u(2);break}if(C=t.Ff&&t.Gf&&ep(e.g.Z,t.type,w,g),!C){G.u(3);break}if(P=null,t.type===i.oa?P=e.i.get(i.W):t.type===i.W&&(P=e.i.get(i.oa)),!P){G.u(3);break}return L(G,Vu(P).catch(function(){}),5);case 5:P.Rc=null,P.xc=null,P.wc=null,lf(e,P);case 3:return L(G,Fa(e,t,E,f,p,n,m,w),2);case 2:return Bd(n.ca,t.Rc)||(t.Rc=n.ca,n.l&&n.ca&&(R=hp(e,t,n.ca),O=function(){var W,q,F,Q,H,Z,$;return z(function(ie){switch(ie.g){case 1:return de(ie,2),L(ie,R,4);case 4:return W=ie.h,Kt(e.m),q=null,F=new Map,Q={projection:null,hfov:null},H=new Bt,H.box("moov",it).box("trak",it).box("mdia",it).S("mdhd",function(fe){q=Aa(fe.reader,fe.version).timescale}).box("hdlr",function(fe){switch(fe=fe.reader,fe.skip(8),fe.zc()){case"soun":F.set(i.W,q);break;case"vide":F.set(i.oa,q)}q=null}).box("minf",it).box("stbl",it).S("stsd",Eo).box("encv",cr).box("avc1",cr).box("avc3",cr).box("hev1",cr).box("hvc1",cr).box("dvav",cr).box("dva1",cr).box("dvh1",cr).box("dvhe",cr).box("dvc1",cr).box("dvi1",cr).box("vexu",it).box("proj",it).S("prji",function(fe){fe=fe.reader.zc(),Q.projection=fe}).box("hfov",function(fe){fe=fe.reader.R()/1e3,Q.hfov=fe}).parse(W),y(e,Q),F.has(t.type)?n.ca.timescale=F.get(t.type):q!=null&&(n.ca.timescale=q),Z=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,L(ie,e.g.wg(t.type,W),5);case 5:return L(ie,gl(e.g.Z,t.type,W,null,t.stream,Z,t.$c,r),6);case 6:Oe(ie,0);break;case 2:throw $=ke(ie),t.Rc=null,$}})},j=n.startTime,o&&(_=Uu(e.g.Z,t.type),_!=null&&(j=_)),e.g.Ti(j,n.ca),a.push(O()))),K=t.Xa?t.Xa.i:null,n.i!=K&&a.push(Jd(e.g.Z,t.type,n.startTime)),L(G,Promise.all(a),0)}})}function Fa(e,t,n,r,i,o,a,f){var p,g,m,w;return z(function(E){if(E.g==1)return p=sn,g=new Map,e.j.audio&&g.set(p.W,e.j.audio),e.j.video&&g.set(p.oa,e.j.video),de(E,2),t.xc=r,t.wc=i,a&&(t.Ff=a),f&&(t.Gf=f),t.ce=n,m=e.l.sequenceMode||e.l.type=="HLS",L(E,qh(e.g.Z,t.type,n,r,i,m,o.mimeType||t.stream.mimeType,o.codecs||t.stream.codecs,g),4);if(E.g!=2)return Oe(E,0);throw w=ke(E),t.xc=null,t.wc=null,t.Ff=null,t.Gf=null,t.ce=null,w})}function Ka(e,t,n,r,i,o,a,f){a=a===void 0?!1:a,f=f===void 0?!1:f;var p,g,m,w,E,C;return z(function(P){switch(P.g){case 1:return p=r.closedCaptions&&0<r.closedCaptions.size,e.h.shouldFixTimestampOffset&&(m=r.mimeType=="video/mp4"||r.mimeType=="audio/mp4",w=null,i.ca&&(w=i.ca.timescale),(E=m&&w&&r.type==="video"&&e.l.type=="DASH")&&(g=new Bt),E&&g.box("moof",it).box("traf",it).S("tfdt",function(R){var O,j,_,K,G,W;return z(function(q){return O=ka(R.reader,R.version),j=O.baseMediaDecodeTime,j?(_=-j/w,K=Number(t.ce)||0,K<_?(G=t.xc,W=t.wc,L(q,Fa(e,t,_,G,W,i),0)):q.u(0)):q.return()})}),E&&g.parse(o,!1,a)),L(P,ws(e,t,n),2);case 2:return Kt(e.m),C=t.$c,t.$c=!1,L(P,e.g.wg(t.type,o),3);case 3:return L(P,gl(e.g.Z,t.type,o,i,r,p,C,f,a),4);case 4:Kt(e.m),oe(P)}})}function ws(e,t,n){var r,i,o,a,f;return z(function(p){if(p.g==1)return r=t.stream.segmentIndex,r instanceof zt&&r.Ja(e.l.presentationTimeline.nb()),i=Math.max(e.h.bufferBehind*e.C,e.l.presentationTimeline.h),o=_u(e.g.Z,t.type),o==null?(e.F==t&&(e.F=null),p.return()):(a=n-o,f=a-i,f<=e.h.evictionGoal?p.return():L(p,e.g.Z.remove(t.type,o,o+f),2));if(p.g!=4)return Kt(e.m),e.F?L(p,ws(e,e.F,n),4):p.u(0);Kt(e.m),oe(p)})}function ff(e){return e&&e.type==at&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function hp(e,t,n,r){var i,o,a,f,p;return z(function(g){switch(g.g){case 1:if(i=n.Pb())return g.return(i);if(o=null,t.X){var m=t.X,w=m.h;n instanceof Er&&(w=m.j),w.has(n)?(m=w.get(n),r&&(m.eg=r),o=m.Ed):o=null}return o||(o=El(n,t.stream,r||null,e.h.retryParameters,e.g.Tb)),a=0,t.ja&&(a=t.ja.h),t.pb=o,L(g,o.promise,2);case 2:if(f=g.h,t.pb=null,p=f.data,!n.aesKey){g.u(3);break}return L(g,of(p,n.aesKey,a),4);case 4:p=g.h;case 3:return g.return(p)}})}function El(e,t,n,r,i,o){o=o===void 0?!1:o;var a=e instanceof Fe?e:void 0,f=a?1:0;return e=Il(e.N(),e.Ma,e.va,r,n),e.contentType=t.type,i.request(Lr,e,{type:f,stream:t,segment:a,isPreload:o})}function yp(e,t,n,r){var i,o;return z(function(a){if(a.g==1)return t.lc=!1,t.Ke=!1,t.Rd=0,t.fd=!0,t.Xa=null,t.ja=null,t.X&&!e.o.has(t.stream)&&no(t.X),r?(i=e.g.md(),o=e.g.Z.getDuration(),L(a,e.g.Z.remove(t.type,i+r,o),3)):L(a,$d(e.g.Z,t.type),4);if(a.g!=3)return Kt(e.m),n?L(a,e.g.Z.flush(t.type),3):a.u(3);Kt(e.m),t.fd=!1,t.endOfStream=!1,t.Fa||t.jb||Yn(e,t,0),oe(a)})}function Yn(e,t,n){var r=t.type;(r!=at||e.i.has(r))&&(t.jb=new Bl(function(){var i;return z(function(o){if(o.g==1)return de(o,2),L(o,af(e,t),4);if(o.g!=2)return Oe(o,0);i=ke(o),e.g&&e.g.onError(i),oe(o)})}).aa(n))}function Ha(e){e.jb!=null&&(e.jb.stop(),e.jb=null)}function Vu(e){return z(function(t){return e.pb?L(t,e.pb.abort(),0):t.u(0)})}function u(e,t,n){var r;return z(function(i){if(i.g==1)return L(i,kc(e.L),2);if(Kt(e.m),n.category===1&&n.code!=1003){if(t.fc)return Mo(e,!1),i.return();r=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}(!n.handled||n.code!=1011)&&e.g.onError(n),n.handled||e.h.failureCallback(n),oe(i)})}function c(e,t,n){t=t===void 0?!1:t,n=n===void 0?!0:n;var r,i,o,a,f,p;return z(function(g){if(g.g==1){if(r=Date.now()/1e3,i=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||r-e.M<i)return g.return(!1);e.M=r}return o=sn,(a=e.i.get(o.W))&&(a.Rc=null,a.xc=null,a.wc=null,n&&lf(e,a),Vu(a).catch(function(){}),a.ja&&a.ja.Uf()),(f=e.i.get(o.oa))&&(f.Rc=null,f.xc=null,f.wc=null,n&&lf(e,f),Vu(f).catch(function(){}),f.ja&&f.ja.Uf()),p=new Map,e.j.audio&&p.set(o.W,e.j.audio),e.j.video&&p.set(o.oa,e.j.video),L(g,Zd(e.g.Z,p),2)}return!f||f.Fa||f.jb||Yn(e,f,0),!a||a.Fa||a.jb||Yn(e,a,0),g.return(!0)})}function y(e,t){if(e.I.projection!=t.projection||e.I.hfov!=t.hfov){if(t.projection!=null||t.hfov!=null){var n=new Map().set("detail",t);n=new Te("spatialvideoinfo",n)}else n=new Te("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.I=t}}function S(){}function k(e,t,n,r,i){var o=i in r,a=o?n.constructor==Object&&Object.keys(r).length==0:n.constructor==Object&&Object.keys(n).length==0,f=o||a,p=!0,g;for(g in t){var m=i+"."+g,w=o?r[i]:n[g];f||g in n?t[g]===void 0?w===void 0||f?delete e[g]:e[g]=Rr(w):a?e[g]=t[g]:w.constructor==Object&&t[g]&&t[g].constructor==Object?(e[g]||(e[g]=Rr(w)),m=k(e[g],t[g],w,r,m),p=p&&m):typeof t[g]!=typeof w||t[g]==null||typeof t[g]!="function"&&t[g].constructor!=w.constructor?(mi("Invalid config, wrong type for "+m),p=!1):(typeof n[g]=="function"&&n[g].length!=t[g].length&&ft("Unexpected number of arguments for "+m),e[g]=t[g]):(mi("Invalid config, unrecognized key "+m),p=!1)}return p}function D(e,t){for(var n={},r=n,i=0,o=0;i=e.indexOf(".",i),!(0>i);)(i==0||e[i-1]!="\\")&&(o=e.substring(o,i).replace(/\\\./g,"."),r[o]={},r=r[o],o=i+1),i+=1;return r[e.substring(o).replace(/\\\./g,".")]=t,n}function B(e,t){return e&&t}function J(e,t){function n(a){for(var f=T(Object.keys(a)),p=f.next();!p.done;p=f.next())p=p.value,o(a[p])&&Object.keys(a[p]).length===0||i(a[p])||typeof a[p]=="function"?delete a[p]:o(a[p])&&(n(a[p]),Object.keys(a[p]).length===0&&delete a[p])}function r(a,f){return Object.keys(a).reduce(function(p,g){var m=a[g];return f.hasOwnProperty(g)?o(m)&&o(f[g])?(m=r(m,f[g]),(0<Object.keys(m).length||!o(m))&&(p[g]=m)):i(m)&&i(f[g])||Number.isNaN(m)&&Number.isNaN(f[g])||m!==f[g]&&(p[g]=m):p[g]=m,p},{})}function i(a){return Array.isArray(a)&&a.length===0}function o(a){return a&&typeof a=="object"&&!Array.isArray(a)}return e=r(e,t),n(e),e}Re("shaka.util.ConfigUtils",S),S.getDifferenceFromConfigObjects=J,S.convertToConfigObject=D,S.mergeConfigObjects=k;function ee(){this.g=null}ee.prototype.configure=function(e){this.g=e},ee.prototype.create=function(e){var t=[];t=ve(e,this.g.language);var n=e.filter(function(r){return r.primary});return t=t.length?t:n.length?n:e,e=Ee(t,this.g.role),e.length&&(t=e),this.g.videoLayout&&(e=tt(t,this.g.videoLayout),e.length&&(t=e)),this.g.Oc&&(e=et(t,this.g.Oc),e.length&&(t=e)),this.g.channelCount&&(e=He(t,this.g.channelCount),e.length&&(t=e)),this.g.Gc&&(e=Ae(t,this.g.Gc),e.length&&(t=e)),this.g.cd&&(e=xe(t,this.g.cd),e.length&&(t=e)),e=Bn(t,this.g.spatialAudio),e.length&&(t=e),this.g.audioCodec&&(e=ce(t,this.g.audioCodec),e.length&&(t=e)),new os(t[0],t,!(this.g.codecSwitchingStrategy=="smooth"&&du()))};function ve(e,t){t=Et(t);var n=la(t,e.map(function(r){return vd(r)}));return n?e.filter(function(r){return n==vd(r)}):[]}function Ee(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function Ae(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function xe(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function He(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount!=t)})}function et(e,t){return t=="AUTO"&&(t=x.matchMedia("(color-gamut: p3)").matches?e.some(function(n){return!!(n.video&&n.video.hdr&&n.video.hdr=="HLG")})?"HLG":"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function tt(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function Bn(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function ce(e,t){return e.filter(function(n){return!(n.audio&&n.audio.codecs!=t)})}function ne(){}function he(e){return e=Ut(e),new pn(e).ub}function De(e,t,n){function r(f){vr(o).setUint32(a,f.byteLength,!0),a+=4,o.set(Ze(f),a),a+=f.byteLength}if(!n||!n.byteLength)throw new X(2,6,6015);var i;typeof t=="string"?i=lc(t,!0):i=t,e=Ut(e),e=lc(e,!0);var o=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),a=0;return r(e),r(i),r(n),o}function nt(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=Ut(e).split("skd://").pop(),De(e,n,t))}function ct(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")}Re("shaka.util.FairPlayUtils",ne),ne.commonFairPlayResponse=function(e,t){if(e===2){try{var n=Jt(t.data)}catch{return}e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch{}e&&(t.data=Kr(li(n)))}},ne.expressplayFairPlayRequest=function(e,t){ct(e,t)},ne.conaxFairPlayRequest=function(e,t){ct(e,t)},ne.ezdrmFairPlayRequest=function(e,t){ct(e,t)},ne.verimatrixFairPlayRequest=function(e,t){e===2&&(e=Ze(t.body),e=Ho(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=ri("spc="+e))},ne.expressplayInitDataTransform=function(e,t,n){return nt(e,t,n)},ne.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=Ut(e).split("skd://").pop().split("?").shift(),n=x.atob(n);var r=new ArrayBuffer(2*n.length);r=$f(r);for(var i=0,o=n.length;i<o;i++)r[i]=n.charCodeAt(i);return De(e,r,t)},ne.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=Ut(e).split(";").pop(),De(e,n,t))},ne.verimatrixInitDataTransform=function(e,t,n){return nt(e,t,n)},ne.initDataTransform=De,ne.defaultGetContentId=he,ne.isFairPlaySupported=function(){var e;return z(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},de(t,2),L(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(ke(t),t.return(!1))})};function ut(){}function ht(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:ki(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(m,w,E){return Ws()&&w=="skd"&&(w=E.serverCertificate,E=he(m),m=De(m,E,w)),m},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Gi(),minHdcpVersion:"",ignoreDuplicateInitData:!Tt("Tizen 2"),defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"};(Gi()||Ti())&&t.preferredKeySystems.push("com.microsoft.playready");var n="reload",r=!1;!du()||Or()||Ti()||zr()||qr()&&Gs()===79||!(!mr()||mr()&&vu()||mr()&&Tt("Fuchsia"))||gu()&&xn()||(n="smooth",r=!0),r={retryParameters:ki(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:df,manifestPreprocessorTXml:ry,sequenceMode:!1,multiTypeVariantsAllowed:r,useStreamOnceInPeriodFlattening:!1,updatePeriod:-1,enableFastSwitching:!0,ignoreSupplementalCodecs:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:!(zs()||Tt("Tizen 2")||qr()&&Gs()===38||Ti()),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,updatePeriod:-1,allowLowLatencyByteRangeOptimization:!0,ignoreSupplementalCodecs:!1},mss:{manifestPreprocessor:df,manifestPreprocessorTXml:ry,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var i={retryParameters:ki(),failureCallback:function(m){return B([m])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:.01,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:0,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:Ti()||zr(),dontChooseCodecs:!1,shouldFixTimestampOffset:qr()||Or()};(qr()||Or()||mr()||Gr())&&(i.stallSkip=0),Or()&&(i.gapPadding=2);var o={trackSelectionCallback:function(m){return z(function(w){return w.return(m)})},downloadSizeCallback:function(m){var w;return z(function(E){return E.g==1?navigator.storage&&navigator.storage.estimate?L(E,navigator.storage.estimate(),3):E.return(!0):(w=E.h,E.return(w.usage+m<.95*w.quota))})},progressCallback:function(m,w){return B([m,w])},usePersistentLicense:!0,numberOfParallelDownloads:5};e={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:yo()?.5:0,preferNetworkInformationBandwidth:!1},n={codecSwitchingStrategy:n,addExtraFeaturesToSourceBuffer:function(m){return B([m],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(m,w){return B([m,w])},dispatchAllEmsgBoxes:!1};var a=!1,f=!1,p=!0;$u()&&(f=a=!0,p=!1);var g={drm:t,manifest:r,streaming:i,mediaSource:n,offline:o,abrFactory:function(){return new Qt},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(ee,[null].concat(te(It.apply(0,arguments)))))},abr:e,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:a,skipPlayDetection:f,supportsMultipleMediaElements:p,disableHLSInterstitial:!1,disableDASHInterstitial:!1},ignoreHardwareResolution:!1};return o.trackSelectionCallback=function(m){return z(function(w){return w.return(Fu(m,g.preferredAudioLanguage,g.preferredVideoHdrLevel))})},g}function $n(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function Nt(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return k(e,t,n||ht(),r,"")}function Fu(e,t,n){var r=n;r=="AUTO"&&(r=x.matchMedia("(color-gamut: p3)").matches?e.some(function(f){return!!(f.hdr&&f.hdr=="HLG")})?"HLG":"PQ":"SDR");var i=e.filter(function(f){return!(f.type!="variant"||f.hdr&&f.hdr!=r)});n=[];var o=la(t,i.map(function(f){return f.language}));o&&(n=i.filter(function(f){return Et(f.language)==o})),n.length==0&&(n=i.filter(function(f){return f.primary})),n.length==0&&(i.map(function(f){return f.language}),n=i);var a=n.filter(function(f){return f.height&&480>=f.height});for(a.length&&(a.sort(function(f,p){return p.height-f.height}),n=a.filter(function(f){return f.height==a[0].height})),t=[],n.length&&(i=Math.floor(n.length/2),n.sort(function(f,p){return f.bandwidth-p.bandwidth}),t.push(n[i])),e=T(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=at&&n.type!="image"||t.push(n);return t}function df(e){return B([e],e)}function ry(e){return B([e],e)}Re("shaka.util.PlayerConfiguration",ut),ut.mergeConfigObjects=Nt,ut.createDefaultForLL=$n,ut.createDefault=ht;function T2(){this.g=null,this.h=[]}function sv(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=T(e.h);for(var r=e.next();!r.done;r=e.next())r=r.value,n+=r.state==t?r.duration:0;return n}function x2(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],r=T(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}function I2(){this.i=this.h=null,this.g=[]}function av(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function iy(){this.mc=this.Ug=this.s=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.P=this.V=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new T2,this.h=new I2}function Cl(e,t,n,r){xt.call(this),this.M=e,this.V=t,this.za=r.networkingEngine,this.B=n,this.o=null,this.sa=0,this.Na=r.Ic,this.F=r.Ni,this.Pa=r.Oi,this.g=r.config,this.j=this.G=this.h=null,this.ga=!1,this.H=r.Yi,this.na=!1,this.l=null,this.da=!1,this.i=this.C=null,this.ba=!1,this.L=new Map,this.pa=!1,this.Ba=r.Xi,this.$=new iy,this.fa=new bt,this.m=new bt,this.O=null,this.s=!1,this.Ia=r.Nh,this.ha=null,this.Ha=r.Mh,this.P=!1,this.K=[],this.I=[],this.A=!0}mt(Cl,xt);function gp(e,t,n){(e=t?e.I:e.K)?e.push(n):n()}function E2(e){if(e.I)for(var t=T(e.I),n=t.next();!n.done;n=t.next())n=n.value,n();e.I=null}function j0(e,t){if(e.O=t,e.P=!0,e.K){t=T(e.K);for(var n=t.next();!n.done;n=t.next())n=n.value,n()}e.K=null}h=Cl.prototype,h.getStartTime=function(){return this.B},h.Nc=function(){return this.M},h.uf=function(){return this.h};function C2(e){return e.ba=!0,e.i}function k2(e){return e.na=!0,e.H}h.getStats=function(){return this.$};function A2(e){return e.da=!0,e.l}function P2(e){return e.pa=!0,e.L}h.start=function(){var e=this;(function(){var t;return z(function(n){switch(n.g){case 1:return L(n,Promise.resolve(),2);case 2:return de(n,3),L(n,D2(e),5);case 5:return pf(e),L(n,O2(e),6);case 6:return pf(e),L(n,R2(e),7);case 7:return pf(e),L(n,Od(e.l),8);case 8:pf(e),e.m.resolve(),Oe(n,0);break;case 3:t=ke(n),t instanceof X&&(t.code==7001||t.code==7003)||e.m.reject(t),oe(n)}})})()},h.dispatchEvent=function(e){return this.O?this.O.dispatchEvent(e):xt.prototype.dispatchEvent.call(this,e)},h.onError=function(e){e.severity===2&&(this.m.reject(e),this.destroy());var t=new Map().set("detail",e);t=new Te("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)};function pf(e){if(e.s)throw new X(2,7,7003)}function cv(e,t){e.dispatchEvent(new Te("onstatechange",new Map().set("state",t)))}function D2(e){var t,n,r,i,o,a,f,p,g;return z(function(m){switch(m.g){case 1:if(cv(e,"manifest-parser"),e.j||(e.G=_d(e.M,e.V),e.j=e.G(),e.j.configure(e.g.manifest,function(){return e.A})),t=Date.now()/1e3,cv(e,"manifest"),e.h){m.u(2);break}return L(m,e.j.start(e.M,e.Pa),3);case 3:if(e.h=m.h,e.h.variants.length!=1){m.u(2);break}for(n=[],r=e.h.variants[0],i=T([r.video,r.audio]),o=i.next();!o.done;o=i.next())(a=o.value)&&!a.segmentIndex&&n.push(a.createSegmentIndex());if(!(0<n.length)){m.u(2);break}return L(m,Promise.all(n),2);case 2:return e.fa.resolve(),f=new Te("manifestparsed",void 0),L(m,Promise.resolve(),7);case 7:if(e.dispatchEvent(f),e.h.variants.length==0)throw new X(2,4,4036);M2(e.h),p=Date.now()/1e3,g=p-t,e.$.H=g,oe(m)}})}function O2(e){var t,n,r,i,o;return z(function(a){switch(a.g){case 1:if(cv(e,"drm-engine"),e.sa=Date.now()/1e3,e.l=e.Na(),e.F.h=e.l,e.l.configure(e.g.drm,function(){return e.A}),t=bd(e.F,e.h),!t){a.u(2);break}return n=new Te("trackschanged",void 0),L(a,Promise.resolve(),3);case 3:pf(e),e.dispatchEvent(n);case 2:return r=gn(e.h.variants),L(a,nu(e.l,r,e.h.offlineSessionIds),4);case 4:return pf(e),L(a,ls(e.F,e.h),5);case 5:if(i=a.h,!i){a.u(0);break}return o=new Te("trackschanged",void 0),L(a,Promise.resolve(),7);case 7:e.dispatchEvent(o),oe(a)}})}h.configure=function(e,t){e=D(e,t),Nt(this.g,e)},h.getConfiguration=function(){return Rr(this.g)};function R2(e){var t,n,r,i,o,a;return z(function(f){return e.o||(e.o=e.g.adaptationSetCriteriaFactory(),e.o.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredVariantRole,channelCount:e.g.preferredAudioChannelCount,Oc:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,Gc:e.g.preferredAudioLabel,cd:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:""})),e.Ha&&(t=e.g.abrFactory,e.C=t,e.i=t(),e.i.configure(e.g.abr)),!e.Ia||(n=e.h.presentationTimeline.T(),r=gn(e.h.variants),i=e.o.create(r),e.i.configure(e.g.abr),e.i.setVariants(Array.from(i.values())),o=e.i.chooseVariant(),!o)?f.u(0):(a=[],e.ha=o,o.video&&a.push(B0(e,o.video,n)),o.audio&&a.push(B0(e,o.audio,n)),L(f,Promise.all(a),0))})}function B0(e,t,n){var r,i,o,a,f;return z(function(p){return p.g==1?(r=e.g.streaming.segmentPrefetchLimit||2,i=new Ro(r,t,function(g,m,w){return El(g,m,w||null,e.g.streaming.retryParameters,e.za,e.A)},!1),e.L.set(t.id,i),t.segmentIndex?p.u(2):L(p,t.createSegmentIndex(),2)):(o=e.B||0,(f=(a=t.segmentIndex.Nb(o))?a.current():null)||(f=Qr(t.segmentIndex)),f?n?f.ca?L(p,rf(i,f.ca),0):p.u(0):L(p,Ss(i,f.startTime),0):p.u(0))})}h.yj=function(){return this.m},h.destroy=function(){var e=this,t,n,r;return z(function(i){switch(i.g){case 1:if(e.s=!0,!e.j||e.ga){i.u(2);break}return L(i,e.j.stop(),2);case 2:if(!e.i||e.ba){i.u(4);break}return L(i,e.i.stop(),4);case 4:if(e.H&&!e.na&&e.H.release(),!e.l||e.da){i.u(6);break}return L(i,e.l.destroy(),6);case 6:if(0<e.L.size&&!e.pa)for(t=T(e.L.values()),n=t.next();!n.done;n=t.next())r=n.value,no(r);oe(i)}})};function M2(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}Re("shaka.media.PreloadManager",Cl),Cl.prototype.destroy=Cl.prototype.destroy,Cl.prototype.waitForFinish=Cl.prototype.yj;function oy(e,t){xt.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Fc:null,Ec:hf,uc:function(r,i){return qa(n,"enter",r,i)}},{Fc:vp,Ec:hf,uc:function(r,i){return qa(n,"enter",r,i)}},{Fc:mp,Ec:hf,uc:function(r,i){return qa(n,"enter",r,i)}},{Fc:hf,Ec:vp,uc:function(r,i){return qa(n,"exit",r,i)}},{Fc:hf,Ec:mp,uc:function(r,i){return qa(n,"exit",r,i)}},{Fc:vp,Ec:mp,uc:function(r,i){return qa(n,"skip",r,i)}},{Fc:mp,Ec:vp,uc:function(r,i){return qa(n,"skip",r,i)}}],this.h=new At,this.h.D(this.i,"regionremove",function(r){n.g.delete(r.region)})}mt(oy,xt),oy.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,xt.prototype.release.call(this)},oy.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=T(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=e<r.startTime?vp:e>r.endTime?mp:hf;this.g.set(r,o);for(var a=T(this.m),f=a.next();!f.done;f=a.next())f=f.value,f.Fc==i&&f.Ec==o&&f.uc(r,t)}}};function qa(e,t,n,r){t=new Te(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}var vp=1,hf=2,mp=3;function za(e,t,n){var r,i,o,a,f,p,g;return z(function(m){switch(m.g){case 1:var w=new pn(e).Za.split("/").pop().split(".");return r=w.length==1?"":w.pop().toLowerCase(),(i=L2[r])?m.return(i):(o=0,a=wt([e],n),de(m,2),a.method="HEAD",L(m,t.request(o,a).promise,4));case 4:f=m.h,i=f.headers["content-type"],Oe(m,3);break;case 2:if(p=ke(m),!p||p.code!=1002&&p.code!=1001){m.u(3);break}return a.method="GET",L(m,t.request(o,a).promise,6);case 6:g=m.h,i=g.headers["content-type"];case 3:return m.return(i?i.toLowerCase().split(";").shift():"")}})}var L2={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",mov:"video/quicktime",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav",sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",html:"text/html",htm:"text/html"};function V0(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(a){return V0(a,e)}).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=ql,i=e.fontStyle==zl,o=e.textDecoration.includes(Bo);return r&&n.push(["b"]),i&&n.push(["i"]),o&&n.push(["u"]),i=e.color,i==""&&t&&(i=t.color),r="",(i=F0(i))&&(r+="."+i),i=e.backgroundColor,i==""&&t&&(i=t.backgroundColor),(t=F0(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight(function(a,f){var p=T(f);return f=p.next().value,p=p.next().value,"<"+f+(p===void 0?"":p)+">"+a+"</"+f+">"},e.payload)}function F0(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function fv(e,t){var n=[];e=T(K0(e));for(var r=e.next();!r.done;r=e.next())if(r=r.value,r.isContainer)n.push.apply(n,te(fv(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=V0(r,t),n.push(i)}return n}function K0(e){var t=[];e=T(e);for(var n=e.next(),r={};!n.done;r={Xe:void 0},n=e.next())r.Xe=n.value,t.some(function(i){return function(o){return cc(i.Xe,o)}}(r))||t.push(r.Xe);return t}function b2(e){function t(r){for(var i=5381,o=r.length;o;)i=33*i^r.charCodeAt(--o);return(i>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch{}return e.textAlign=="center"&&n.align!="center"&&(n.align="middle"),e.writingMode=="vertical-lr"?n.vertical="lr":e.writingMode=="vertical-rl"&&(n.vertical="rl"),e.lineInterpretation==1&&(n.snapToLines=!1),e.line!=null&&(n.line=e.line),e.position!=null&&(n.position=e.position),n}function N2(e){if(e.endTime===1/0||e.endTime<e.startTime)return null;var t=new qt(e.startTime,e.endTime,e.text);return t.line=typeof e.line=="number"?e.line:null,e.lineAlign&&(t.lineAlign=e.lineAlign),t.lineInterpretation=e.snapToLines?nl:1,t.position=typeof e.position=="number"?e.position:null,e.positionAlign&&(t.positionAlign=e.positionAlign),t.size=e.size,t.textAlign=e.align,e.vertical==="lr"?t.writingMode="vertical-lr":e.vertical==="rl"&&(t.writingMode="vertical-rl"),e.region&&(t.region.id=e.region.id,t.region.height=e.region.lines,t.region.heightUnits=2,t.region.regionAnchorX=e.region.regionAnchorX,t.region.regionAnchorY=e.region.regionAnchorY,t.region.scroll=e.region.scroll,t.region.viewportAnchorX=e.region.viewportAnchorX,t.region.viewportAnchorY=e.region.viewportAnchorY,t.region.viewportAnchorUnits=zn,t.region.width=e.region.width,t.region.widthUnits=zn),fc(t),t}function dr(e,t){for(this.h=e,this.i=t,this.g=null,e=T(Array.from(this.h.textTracks)),t=e.next();!t.done;t=e.next())t=t.value,t.kind!=="metadata"&&t.kind!=="chapters"&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}h=dr.prototype,h.configure=function(){},h.remove=function(e,t){return this.g?(q0(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},h.append=function(e){if(this.g){var t=fv(e),n=[];e=this.g.cues?Array.from(this.g.cues):[],t=T(t);for(var r=t.next(),i={};!r.done;i={Pc:void 0},r=t.next())i.Pc=r.value,!e.some(function(o){return function(a){return a.startTime==o.Pc.startTime&&a.endTime==o.Pc.endTime&&a.text==o.Pc.payload}}(i))&&i.Pc.payload&&(r=b2(i.Pc))&&n.push(r);for(e=n.slice().sort(function(o,a){return o.startTime!=a.startTime?o.startTime-a.startTime:o.endTime!=a.endTime?o.endTime-a.startTime:"line"in VTTCue.prototype?n.indexOf(a)-n.indexOf(o):n.indexOf(o)-n.indexOf(a)}),e=T(e),t=e.next();!t.done;t=e.next())this.g.addCue(t.value)}},h.destroy=function(){return this.g&&(q0(this.g,function(){return!0}),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},h.isTextVisible=function(){return this.g?this.g.mode=="showing":!1},h.setTextVisibility=function(e){e&&!this.g&&H0(this),this.g&&(this.g.mode=e?"showing":"hidden")},h.setTextLanguage=function(){},h.enableTextDisplayer=function(){H0(this)};function H0(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function q0(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var r=T(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}Re("shaka.text.SimpleTextDisplayer",dr),dr.prototype.enableTextDisplayer=dr.prototype.enableTextDisplayer,dr.prototype.setTextLanguage=dr.prototype.setTextLanguage,dr.prototype.setTextVisibility=dr.prototype.setTextVisibility,dr.prototype.isTextVisible=dr.prototype.isTextVisible,dr.prototype.destroy=dr.prototype.destroy,dr.prototype.append=dr.prototype.append,dr.prototype.remove=dr.prototype.remove,dr.prototype.configure=dr.prototype.configure;function pr(){}h=pr.prototype,h.configure=function(){},h.remove=function(){},h.append=function(){},h.destroy=function(){},h.isTextVisible=function(){return!1},h.setTextVisibility=function(){},h.setTextLanguage=function(){},h.enableTextDisplayer=function(){},Re("shaka.text.StubTextDisplayer",pr),pr.prototype.enableTextDisplayer=pr.prototype.enableTextDisplayer,pr.prototype.setTextLanguage=pr.prototype.setTextLanguage,pr.prototype.setTextVisibility=pr.prototype.setTextVisibility,pr.prototype.isTextVisible=pr.prototype.isTextVisible,pr.prototype.destroy=pr.prototype.destroy,pr.prototype.append=pr.prototype.append,pr.prototype.remove=pr.prototype.remove,pr.prototype.configure=pr.prototype.configure;function hr(e,t){var n=this;document.fullscreenEnabled||ft("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.m=!1,this.h=[],this.A=e,this.s=t,this.l=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.s.appendChild(this.g),this.C=new st(function(){n.A.paused||Ga(n)}).Aa(.25),this.i=new Map,this.j=new At,this.j.D(document,"fullscreenchange",function(){Ga(n,!0)}),this.j.D(this.A,"seeking",function(){Ga(n,!0)}),this.j.D(this.A,"resize",function(){var r=n.A,i=r.videoWidth;r=r.videoHeight,i&&r?n.l=i/r:n.l=null}),this.o=null,"ResizeObserver"in x&&(this.o=new ResizeObserver(function(){Ga(n,!0)}),this.o.observe(this.g)),this.B=new Map}h=hr.prototype,h.configure=function(e){this.C&&this.C.Aa(e.captionsUpdatePeriod)},h.append=function(e){var t=[].concat(te(this.h));e=T(K0(e));for(var n=e.next(),r={};!n.done;r={Ye:void 0},n=e.next())r.Ye=n.value,t.some(function(i){return function(o){return cc(o,i.Ye)}}(r))||this.h.push(r.Ye);Ga(this)},h.destroy=function(){return this.g&&(this.s.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.C&&this.C.stop(),this.i.clear(),this.j&&(this.j.release(),this.j=null),this.o&&(this.o.disconnect(),this.o=null)),Promise.resolve()},h.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(r){return r.startTime<e||r.endTime>=t}),Ga(this,n>this.h.length),!0},h.isTextVisible=function(){return this.m},h.setTextVisibility=function(e){this.m=e,Ga(this,!0)},h.setTextLanguage=function(e){e&&e!="und"?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},h.enableTextDisplayer=function(){};function _2(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function z0(e,t,n,r,i){var o=!1,a=[],f=[];t=T(t);for(var p=t.next();!p.done;p=t.next()){p=p.value,i.push(p);var g=e.i.get(p),m=p.startTime<=r&&p.endTime>r,w=g?g.Fh:null;g&&(a.push(g.Ze),g.Bc&&a.push(g.Bc),m||(o=!0,e.i.delete(p),g=null)),m&&(f.push(p),g?_2(e,w)||(o=!0):(U2(e,p,i),g=e.i.get(p),w=g.Fh,o=!0)),0<p.nestedCues.length&&w&&z0(e,p.nestedCues,w,r,i),i.pop()}if(o){for(r=T(a),i=r.next();!i.done;i=r.next())i=i.value,i.parentElement&&i.parentElement.removeChild(i);for(f.sort(function(E,C){return E.startTime!=C.startTime?E.startTime-C.startTime:E.endTime-C.endTime}),f=T(f),r=f.next();!r.done;r=f.next())r=e.i.get(r.value),r.Bc?(r.Bc.contains(n)&&r.Bc.removeChild(n),n.appendChild(r.Bc),r.Bc.appendChild(r.Ze)):n.appendChild(r.Ze)}}function Ga(e,t){if(e.g){var n=e.A.currentTime;if(!e.m||t!==void 0&&t){t=T(e.B.values());for(var r=t.next();!r.done;r=t.next())to(r.value);to(e.g),e.i.clear(),e.B.clear()}e.m&&z0(e,e.h,e.g,n,[])}}function U2(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var o=document.createElement(i);if(i!="br"&&B2(e,o,t,n,r),n=null,t.region&&t.region.id){var a=t.region,f=e.l===4/3?2.5:1.9;if(n=a.id+"_"+a.width+"x"+a.height+(a.heightUnits==zn?"%":"px")+"-"+a.viewportAnchorX+"x"+a.viewportAnchorY+(a.viewportAnchorUnits==zn?"%":"px"),e.B.has(n))n=e.B.get(n);else{i=document.createElement("span");var p=a.heightUnits==zn?"%":"px",g=a.widthUnits==zn?"%":"px",m=a.viewportAnchorUnits==zn?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var w=a.height,E=a.width;a.heightUnits===2&&(w=5.33*a.height,p="%"),a.widthUnits===2&&(E=a.width*f,g="%"),i.style.height=w+p,i.style.width=E+g,a.viewportAnchorUnits===2?(f=a.viewportAnchorY/75*100,p=a.viewportAnchorX/(e.l===4/3?160:210)*100,f-=a.regionAnchorY*w/100,p-=a.regionAnchorX*E/100,i.style.top=f+"%",i.style.left=p+"%"):(i.style.top=a.viewportAnchorY-a.regionAnchorY*w/100+m,i.style.left=a.viewportAnchorX-a.regionAnchorX*E/100+m),a.heightUnits!==0&&a.widthUnits!==0&&a.viewportAnchorUnits!==0&&(a=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=a+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.B.set(n,i),n=i}}i=o,r&&(i=document.createElement("span"),i.classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",o.appendChild(i)),e.i.set(t,{Ze:o,Fh:i,Bc:n})}function j2(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==pc?n:e==="left"||e==="start"&&t===ta||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===ta?"line-right":"center"}function B2(e,t,n,r,i){var o=t.style,a=n.nestedCues.length==0,f=1<r.length;o.whiteSpace="pre-wrap";var p=n.payload.replace(/\s+$/g,function(m){return"".repeat(m.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=dv(n.linePadding,n,e.s),o.paddingRight=dv(n.linePadding,n,e.s),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",n.backgroundColor&&(o.backgroundColor=n.backgroundColor),o.width="100%",o.height="100%";else{if(n.nestedCues.length)var g=t;else g=document.createElement("span"),t.appendChild(g);n.border&&(g.style.border=n.border),i||((t=V2(r,function(m){return m.backgroundColor}))?g.style.backgroundColor=t:p&&(g.style.backgroundColor="rgba(0, 0, 0, 0.8)")),p&&(g.textContent=p)}f&&!r[r.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",n.textAlign=="left"||n.textAlign=="start"?(o.width="100%",o.alignItems="start"):(n.textAlign=="right"||n.textAlign=="end")&&(o.width="100%",o.alignItems="end"),o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),a||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=dv(n.fontSize,n,e.s),r=n.line,r!=null&&(a=n.lineInterpretation,a==nl&&(a=1,f=16,e.l&&1>e.l&&(f=32),r=0>r?100+r/f*100:r/f*100),a==1&&(o.position="absolute",n.writingMode==tl?(o.width="100%",n.lineAlign==rl?o.top=r+"%":n.lineAlign=="end"&&(o.bottom=100-r+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==rl?o.left=r+"%":n.lineAlign=="end"&&(o.right=100-r+"%")):(o.height="100%",n.lineAlign==rl?o.right=r+"%":n.lineAlign=="end"&&(o.left=100-r+"%")))),o.lineHeight=n.lineHeight,e=j2(n),e=="line-left"?(o.cssFloat="left",n.position!==null&&(o.position="absolute",n.writingMode==tl?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%")):e=="line-right"?(o.cssFloat="right",n.position!==null&&(o.position="absolute",n.writingMode==tl?(o.right=100-n.position+"%",o.width="auto"):o.bottom=n.position+"%")):n.position!==null&&n.position!=50&&(o.position="absolute",n.writingMode==tl?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==tl?o.width=n.size+"%":o.height=n.size+"%")}function dv(e,t,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;var i=r.value;switch(r.unit){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function V2(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||r===0)return r}return null}Re("shaka.text.UITextDisplayer",hr),hr.prototype.enableTextDisplayer=hr.prototype.enableTextDisplayer,hr.prototype.setTextLanguage=hr.prototype.setTextLanguage,hr.prototype.setTextVisibility=hr.prototype.setTextVisibility,hr.prototype.isTextVisible=hr.prototype.isTextVisible,hr.prototype.remove=hr.prototype.remove,hr.prototype.destroy=hr.prototype.destroy,hr.prototype.append=hr.prototype.append,hr.prototype.configure=hr.prototype.configure;function F2(e,t){function n(o){for(var a=o,f=T(t),p=f.next();!p.done;p=f.next())p=p.value,p.end&&p.start<o&&(a+=p.end-p.start);return o=Math.floor(a/3600),f=Math.floor(a/60%60),p=Math.floor(a%60),a=Math.floor(1e3*a%1e3),(10>o?"0":"")+o+":"+(10>f?"0":"")+f+":"+(10>p?"0":"")+p+"."+(100>a?10>a?"00":"0":"")+a}var r=fv(e);e=`WEBVTT

`,r=T(r);for(var i=r.next();!i.done;i=r.next())i=i.value,e+=n(i.startTime)+" --> "+n(i.endTime)+function(o){var a=[];switch(o.textAlign){case"left":a.push("align:left");break;case"right":a.push("align:right");break;case So:a.push("align:middle");break;case"start":a.push("align:start");break;case"end":a.push("align:end")}switch(o.writingMode){case"vertical-lr":a.push("vertical:lr");break;case"vertical-rl":a.push("vertical:rl")}return a.length?" "+a.join(" "):""}(i)+`
`,e+=i.payload+`

`;return e}Re("shaka.text.WebVttGenerator",function(){});function pv(e,t){this.h=e,this.g=t,this.i=void 0,this.s=!1,this.F=!0,this.l=this.B=!1,this.o=this.m=void 0,this.A=0,this.G=!1,this.C=new At,this.j=null}pv.prototype.setMediaElement=function(e){this.j=e,G2(this)},pv.prototype.configure=function(e){this.g=e};function K2(e){e.s=!1,e.F=!0,e.B=!1,e.l=!1,e.m=0,e.o=0,e.A=0,e.G=!1,e.j=null,e.C.La()}function H2(e,t){e.l=t,e.l?e.i==fy?e.i=dy:e.i==py&&(e.i=hy):e.i==dy?e.i=fy:e.i==hy&&(e.i=py)}function q2(e,t){if(e.j){var n=e.j.play();n&&n.then(function(){e.A=t}).catch(function(){e.A=0})}}function z2(e,t,n){try{if(!e.g.enabled)return t;var r=hv(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=ly;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=ay;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=W0;break e}i=void 0}r.ot=i,r.su=!0;var o=uy(r);return yv(t,o)}catch(a){return Si("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),t}}function G2(e){e.C.la(e.j,"play",function(){e.m||(e.m=Date.now())}),e.C.la(e.j,"playing",function(){e.o||(e.o=Date.now())})}function hv(e){return e.g.sessionId||(e.g.sessionId=x.crypto.randomUUID()),{v:e.g.version,sf:e.i,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function yf(e,t,n){n=n===void 0?{}:n;var r=r===void 0?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,hv(e)),n.pr=e.h.mb();var i=n.ot===sy||n.ot===ay;if(e.B&&i&&(n.bs=!0,n.su=!0,e.B=!1),n.su==null&&(n.su=e.F),n.v===Z2&&(e.h.T()&&(n.ltc=e.h.Wd()),i=!e.G&&e.o&&e.m?e.o-(e.A||e.m):void 0,i!=null&&(n.msd=i,e.G=!0)),e=W2(e,n),r)r=J2(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var o=uy(e);o&&(t.uris=t.uris.map(function(a){return yv(a,o)}))}}}function W2(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce(function(r,i){return n.includes(i)&&(r[i]=t[i]),r},{}):t}function X2(e){if(e.type===0)return Q2;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?ay:sy;if(t=="audio")return ly;if(t=="text")return e.mimeType==="application/mp4"?cy:gv}}function Y2(e,t){if(t=e.h.Eb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):NaN}function G0(e,t){if(t=e.h.Eb()[t],!t.length)return 0;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):0}function $2(e,t){var n=e.h.sc();if(!n.length)return NaN;e=n[0],n=T(n);for(var r=n.next();!r.done;r=n.next())r=r.value,r.type==="variant"&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case sy:return e.videoBandwidth||NaN;case ly:return e.audioBandwidth||NaN;default:return e.bandwidth}}function uy(e){function t(w){return 100*n(w/100)}function n(w){return Math.round(w)}function r(w){return!Number.isNaN(w)&&w!=null&&w!==""&&w!==!1}var i=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(w){return encodeURIComponent(w)},rtp:t,tb:n},a=Object.keys(e||{}).sort();a=T(a);for(var f=a.next();!f.done;f=a.next()){f=f.value;var p=e[f];if(r(p)&&(f!=="v"||p!==1)&&(f!="pr"||p!==1)){var g=o[f];g&&(p=g(p)),g=typeof p;var m=void 0;m=g==="string"&&f!=="ot"&&f!=="sf"&&f!=="st"?f+"="+JSON.stringify(p):g==="boolean"?f:g==="symbol"?f+"="+p.description:f+"="+p,i.push(m)}}return i.join(",")}function J2(e){var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3};t=T(t);for(var a=t.next();!a.done;a=t.next())a=a.value,i[o[a]!=null?o[a]:1][a]=e[a];for(e=0;e<i.length;e++)(o=uy(i[e]))&&(n["CMCD-"+r[e]]=o);return n}function yv(e,t){return!t||e.includes("offline:")?e:(e=new pn(e),e.g.set("CMCD",t),e.toString())}var W0="m",ly="a",sy="v",ay="av",Q2="i",gv="c",cy="tt",Z2=2,fy="d",dy="ld",py="h",hy="lh";Re("shaka.util.CmcdManager.StreamingFormat",{DASH:fy,Tj:dy,HLS:py,Uj:hy,gk:"s",OTHER:"o"});function io(e){this.h=e,this.g=null}h=io.prototype,h.configure=function(e){this.h=e},h.Lg=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has($0)?1e3*this.g.get($0):null},h.Jg=function(){return this.h.enabled&&this.g&&this.g.has(Y0)?1e3*this.g.get(Y0):null},h.ri=function(){return this.h.enabled&&this.g&&this.g.has(J0)?this.g.get(J0):null},h.si=function(){return this.h.enabled&&this.g&&this.g.has(Q0)?this.g.get(Q0):null},h.getBandwidthEstimate=function(e){var t=this.Jg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function X0(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}Re("shaka.util.CmsdManager",io),io.prototype.getBandwidthEstimate=io.prototype.getBandwidthEstimate,io.prototype.getRoundTripTime=io.prototype.si,io.prototype.getResponseDelay=io.prototype.ri,io.prototype.getEstimatedThroughput=io.prototype.Jg,io.prototype.getMaxBitrate=io.prototype.Lg;var Y0="etp",$0="mb",J0="rd",Q0="rtt";function Z0(){this.g=null,this.h=[]}function vv(e,t){return z(function(n){if(n.g==1)return e.g?L(n,new Promise(function(r){return e.h.push(r)}),2):n.u(2);e.g=t,oe(n)})}Z0.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function pe(e,t,n){t=t===void 0?null:t,xt.call(this);var r=this;this.m=my,this.h=null,this.oe=t,this.na=!1,this.ze=new At,this.vd=new At,this.l=new At,this.Ia=new At,this.Cb=new At,this.G=this.I=this.C=this.F=null,this.Je=0,this.ba=new Z0,this.ha=this.Na=this.V=this.i=this.Pa=this.H=this.j=this.dc=this.M=this.pg=this.fa=this.L=this.td=this.O=this.pa=this.K=this.Mb=null,this.sa=!1,this.Ba=this.o=null,this.og=1e9,this.Dd=[],this.ng=-1,this.g=kl(this),this.Me=$n(),this.P=null,this.Le=-1,this.Ha=null,this.ga={width:1/0,height:1/0},this.me=new Bc(this.g,this.ga,null),this.re=[],this.A=null,this.$=this.g.adaptationSetCriteriaFactory(),this.$.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredVariantRole,channelCount:this.g.preferredAudioChannelCount,Oc:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,Gc:this.g.preferredAudioLabel,cd:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),this.Lb=this.g.preferredTextLanguage,this.zd=this.g.preferredTextRole,this.xd=this.g.preferForcedSubs,this.wd=[],n&&n(this),this.L=pI(this),this.fa=new io(this.g.cmsd),this.F=u1(this),this.F.ag(this.g.streaming.forceHTTP),this.F.bg(this.g.streaming.forceHTTPS),this.F.o=this.g.streaming.minBytesForProgressEvents,this.Qb=this.da=this.s=null,this.Oe=!1,this.Ne=new st(function(){return z(function(i){if(i.g==1)return r.da?L(i,r.Xb(r.Qb,!0),3):i.u(0);if(i.g!=4)return L(i,r.load(r.da),4);r.Oe?r.Qb.pause():r.Qb.play(),r.da=null,r.Oe=!1,oe(i)})}),Sy&&(this.s=Sy(),this.s.configure(this.g.ads),this.Cb.D(this.s,"ad-content-pause-requested",function(i){var o;return z(function(a){if(a.g==1)return r.Ne.stop(),r.da?a.u(0):(r.Qb=r.h,r.Oe=r.Qc(),o=i.saveLivePosition||!1,L(a,r.Cg(!0,o),3));r.da=a.h,oe(a)})}),this.Cb.D(this.s,"ad-content-resume-requested",function(i){if(i=i.offset||0,r.da){var o=r.da;o.B&&i&&(o.B+=i)}r.Ne.aa(.1)}),this.Cb.D(this.s,"ad-content-attach-requested",function(){return z(function(i){return r.h||!r.Qb?i.u(0):L(i,r.Xb(r.Qb,!0),0)})})),this.ze.D(x,"online",function(){Cv(r),r.Vf()}),this.pe=new st(function(){for(var i=Date.now()/1e3,o=!1,a=!0,f=T(r.i.variants),p=f.next();!p.done;p=f.next())p=p.value,0<p.disabledUntilTime&&p.disabledUntilTime<=i&&(p.disabledUntilTime=0,o=!0),0<p.disabledUntilTime&&(a=!1);a&&r.pe.stop(),o&&mf(r,!1,void 0,!1,!1)}),this.za=null,e&&(Ot("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Xb(e,!0)),this.B=null}mt(pe,xt);function yy(e){e.M!=null&&(Wd(e.M),e.M.release(),e.M=null)}function eI(e,t){t.lcevc.enabled?(yy(e),e.M==null&&(e.M=new Oa(e.h,e.pg,t.lcevc),e.I&&(e.I.da=e.M))):yy(e)}function en(e,t){return new Te(e,t)}h=pe.prototype,h.destroy=function(){var e=this,t;return z(function(n){switch(n.g){case 1:return e.m==bo?n.return():(yy(e),t=e.detach(),e.m=bo,L(n,t,2));case 2:return L(n,e.af(),3);case 3:if(e.ze&&(e.ze.release(),e.ze=null),e.vd&&(e.vd.release(),e.vd=null),e.l&&(e.l.release(),e.l=null),e.Ia&&(e.Ia.release(),e.Ia=null),e.Cb&&(e.Cb.release(),e.Cb=null),e.Ba=null,e.g=null,e.A=null,e.oe=null,e.L=null,e.fa=null,!e.F){n.u(4);break}return L(n,e.F.destroy(),5);case 5:e.F=null;case 4:e.o&&(e.o.release(),e.o=null),xt.prototype.release.call(e),oe(n)}})};function gf(e,t){e.dispatchEvent(en("onstatechange",new Map().set("state",t)))}h.Xb=function(e,t){t=t===void 0?!0:t;var n=this,r,i,o;return z(function(a){switch(a.g){case 1:if(n.m==bo)throw new X(2,7,7e3);if(r=n.h&&n.h==e,!n.h||n.h==e){a.u(2);break}return L(a,n.detach(),2);case 2:return L(a,mv(n,"attach"),4);case 4:if(a.h)return a.return();if(de(a,5,6),r||(gf(n,"attach"),i=function(){var f=kv(n,!1);f&&Sf(n,f)},n.vd.D(e,"error",i),n.h=e,n.L&&n.L.setMediaElement(e)),!t||!zi()||n.I){a.u(6);break}return L(a,Sv(n),6);case 6:_t(a),n.ba.release(),Dt(a,0);break;case 5:return o=ke(a),L(a,n.detach(),10);case 10:throw o}})},h.Oh=function(e){this.pg=e},h.detach=function(e){e=e===void 0?!1:e;var t=this;return z(function(n){if(n.g==1){if(t.m==bo)throw new X(2,7,7e3);return L(n,t.kc(!1,e),2)}if(n.g!=3)return L(n,mv(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.vd.La(),t.h=null),gf(t,"detach"),t.s&&!e&&t.s.release()}finally{t.ba.release()}oe(n)})};function mv(e,t){var n;return z(function(r){return r.g==1?(n=++e.Je,L(r,vv(e.ba,t),2)):n!=e.Je?(e.ba.release(),r.return(!0)):r.return(!1)})}h.kc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r,i,o,a,f,p,g,m,w,E;return z(function(C){switch(C.g){case 1:return n.m!=bo&&(n.m=my),L(C,mv(n,"unload"),2);case 2:return C.h?C.return():(qe(C,3),n.sa=!1,gf(n,"unload"),e&&!zi()&&(e=!1),yy(n),r=n.wd.map(function(P){return P()}),n.wd=[],L(C,Promise.all(r),5));case 5:if(n.dispatchEvent(en("unloading")),n.td&&(n.td.release(),n.td=null),n.h&&(n.l.La(),n.Ia.La()),n.pe.stop(),n.Mb&&(n.Mb.release(),n.Mb=null),n.pa&&(n.pa.stop(),n.pa=null),!n.H){C.u(6);break}return L(C,n.H.stop(),7);case 7:n.H=null,n.Pa=null;case 6:if(!n.o){C.u(8);break}return L(C,n.o.stop(),8);case 8:if(!n.j){C.u(10);break}return L(C,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.K&&(n.K.release(),n.K=null),n.G&&(n.G.release(),n.G=null),!Ws("webkit")||!n.C){C.u(12);break}return L(C,n.C.destroy(),13);case 13:n.C=null;case 12:if(!n.I){C.u(14);break}return L(C,n.I.destroy(),15);case 15:n.I=null;case 14:if(n.s&&!t&&n.s.onAssetUnload(),n.da&&!t&&(n.da.destroy(),n.da=null),t||n.Ne.stop(),n.L&&K2(n.L),n.fa&&(n.fa.g=null),!n.B){C.u(16);break}return L(C,n.B.destroy(),17);case 17:n.B=null;case 16:if(n.h&&(to(n.h),n.h.src&&(n.h.removeAttribute("src"),n.h.load())),!n.C){C.u(18);break}return L(C,n.C.destroy(),19);case 19:n.C=null;case 18:if(n.za&&n.V!=n.za.Nc()&&(n.za.s||n.za.destroy(),n.za=null),n.V=null,n.Na=null,n.O=null,n.i){for(i=T(n.i.variants),o=i.next();!o.done;o=i.next())for(a=o.value,f=T([a.audio,a.video]),p=f.next();!p.done;p=f.next())(g=p.value)&&g.segmentIndex&&g.segmentIndex.release();for(m=T(n.i.textStreams),w=m.next();!w.done;w=m.next())E=w.value,E.segmentIndex&&E.segmentIndex.release()}n.g&&n.g.streaming.clearDecodingCache&&(Pu={},Hs.clear()),n.i=null,n.A=new iy,n.He=null,n.Ha=null,n.P=null,n.Le=-1,n.Dd=[],n.ng=-1,n.F&&n.F.yg(),Iv(n);case 3:_t(C),n.ba.release(),Dt(C,4);break;case 4:if(e&&zi()&&!n.I&&n.h)return L(C,Sv(n),0);C.u(0)}})},h.xj=function(e){this.ha=e},h.load=function(e,t,n){t=t===void 0?null:t;var r=this,i,o,a,f,p,g,m,w,E,C,P,R,O;return z(function(j){switch(j.g){case 1:if(r.m==bo)throw new X(2,7,7e3);return i=null,o="",e instanceof Cl?(i=e,o=i.Nc()||""):o=e||"",L(j,vv(r.ba,"load"),2);case 2:if(r.ba.release(),!r.h)throw new X(2,7,7002);if(!r.V){j.u(3);break}return r.V=o,L(j,r.kc(!1),3);case 3:if(a=++r.Je,f=function(){return z(function(_){if(_.g==1)return r.Je==a?_.u(0):i?L(_,i.destroy(),3):_.u(3);throw new X(2,7,7e3)})},p=function(_,K){return z(function(G){switch(G.g){case 1:return qe(G,2),L(G,vv(r.ba,K),4);case 4:return L(G,f(),5);case 5:return L(G,_(),6);case 6:return L(G,f(),7);case 7:i&&r.g&&(i.g=r.g);case 2:_t(G),r.ba.release(),Dt(G,0)}})},de(j,5,6),t==null&&i&&(t=i.getStartTime()),r.ha=t,r.sa=!1,r.dispatchEvent(en("loading")),i){n=i.V,j.u(8);break}if(n){j.u(8);break}return L(j,p(function(){return z(function(_){if(_.g==1)return L(_,r1(r,o),2);n=_.h,oe(_)})},"guessMimeType_"),8);case 8:if(g=!!i,i){j0(i,r),r.A=i.getStats(),j.u(11);break}return L(j,t1(r,o,t,n,!0),12);case 12:(i=j.h)?(i.A=!1,j0(i,r),r.A=i.getStats(),i.start(),i.m.catch(function(){})):r.A=new iy;case 11:return m=!i,w=Date.now()/1e3,r.A=i?i.getStats():new iy,r.V=o,r.Na=n||null,m?L(j,p(function(){return z(function(_){return L(_,iI(r,n),0)})},"initializeSrcEqualsDrmInner_"),21):L(j,p(function(){return z(function(_){if(_.g==1)return L(_,Promise.race([i.fa,i.m]),2);r.Pa=i.G;var K=i;K.ga=!0,r.H=K.j,r.i=i.uf(),oe(_)})},"waitForFinish"),15);case 15:if(r.I){j.u(16);break}return L(j,p(function(){return z(function(_){return L(_,Sv(r),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return r.i&&r.i.textStreams.length&&(r.B.enableTextDisplayer?r.B.enableTextDisplayer():Ot("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),L(j,p(function(){return z(function(_){return L(_,i.m,0)})},"waitForFinish"),18);case 18:return r.g=i.getConfiguration(),r.me=i.F,r.H&&r.H.setMediaElement&&r.h&&r.H.setMediaElement(r.h),r.td=k2(i),r.dc=i.Ba,(E=i.o)&&(r.$=E),g&&r.h&&r.h.nodeName==="AUDIO"&&(tI(r),r.configure("manifest.disableVideo",!0)),r.C=A2(i),L(j,p(function(){return z(function(_){return L(_,r.C.Xb(r.h),0)})},"drmEngine_.attach"),19);case 19:return!(C=i.C)||r.Ba&&r.Ba==C||(r.o=C2(i),r.Ba=i.C,typeof r.o.setMediaElement!="function"&&(Ot("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),r.o.setMediaElement=function(){}),typeof r.o.setCmsdManager!="function"&&(Ot("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),r.o.setCmsdManager=function(){}),typeof r.o.trySuggestStreams!="function"&&(Ot("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),r.o.trySuggestStreams=function(){})),P=P2(i),R=i.ha,L(j,p(function(){return z(function(_){return L(_,rI(r,w,R,P),0)})},"loadInner_"),20);case 20:E2(i),r.Na&&yu()&&xc(r.Na)&&Ra(r.I,r.V,r.Na),j.u(14);break;case 21:return L(j,p(function(){return z(function(_){return L(_,oI(r,w,n),0)})},"srcEqualsInner_"),14);case 14:r.dispatchEvent(en("loaded"));case 6:if(_t(j),!i){j.u(23);break}return L(j,i.destroy(),23);case 23:r.za=null,Dt(j,0);break;case 5:if(O=ke(j),!O||O.code==7e3){j.u(25);break}return L(j,r.kc(!1),25);case 25:throw O}})};function tI(e){for(var t=T(e.i.variants),n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(r){return r.audio})}h.tj=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r;return z(function(i){return i.g==1?L(i,e1(n),2):i.g!=3?(r=i.h,L(i,n.kc(e,t),3)):i.return(r)})},h.Cg=function(e,t){e=e===void 0?!1:e,t=t===void 0?!1:t;var n=this,r;return z(function(i){return i.g==1?L(i,e1(n,t),2):i.g!=3?(r=i.h,L(i,n.detach(e),3)):i.return(r)})};function e1(e,t){t=t===void 0?!1:t;var n,r;return z(function(i){if(i.g==1)return n=null,e.i&&e.H&&e.Pa&&e.V?(r=e.h.currentTime,e.T()&&!t&&(r=null),L(i,n1(e,e.V,r,e.Na,!0,!1,!1),3)):i.u(2);if(i.g!=2){n=i.h,e.re.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var o=n,a=e.H,f=e.Pa;o.h=e.i,o.j=a,o.G=f,o=n,a=e.Ba,o.i=e.o,o.C=a,n.o=e.$,n.start(),e.i=null,e.H=null,e.Pa=null,e.o=null,e.Ba=null}return i.return(n)})}h.preload=function(e,t,n){t=t===void 0?null:t;var r=this,i;return z(function(o){return o.g==1?L(o,t1(r,e,t,n),2):((i=o.h)?i.start():Sf(r,new X(2,7,7005)),o.return(i))})},h.af=function(){var e=this,t,n,r,i;return z(function(o){for(t=[],n=T(e.re),r=n.next();!r.done;r=n.next())i=r.value,i.s||t.push(i.destroy());return e.re=[],L(o,Promise.all(t),0)})};function t1(e,t,n,r,i){i=i===void 0?!1:i;var o,a,f;return z(function(p){return p.g==1?r?p.u(2):L(p,r1(e,t),3):(p.g!=2&&(r=p.h),nI(e,r)?p.return(null):(o=!1,a=!0,i&&(e.o&&e.Ba==e.g.abrFactory&&(a=!1),e.h&&e.h.nodeName==="AUDIO"&&(o=!0)),f=n1(e,t,n,r||null,!i,o,a),f=i?f.then(function(g){return g.A=!1,g}):f.then(function(g){return e.re.push(g),g}),p.return(f)))})}function n1(e,t,n,r,i,o,a){i=i===void 0?!0:i,o=o===void 0?!1:o,a=a===void 0?!0:a;var f,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){return W.g==1?(f=null,p=Rr(e.g),o&&(p.manifest.disableVideo=!0),g=function(){return f.P&&f.s?null:f},m=function(){return g()?g().getConfiguration():e.g},e.ga.width!=1/0||e.ga.height!=1/0||e.g.ignoreHardwareResolution?W.u(2):L(W,oc(),3)):(W.g!=2&&(w=W.h,e.ga.width=w.width,e.ga.height=w.height),E=new Bc(p,e.ga,null),C={networkingEngine:e.F,filter:function(q){var F,Q;return z(function(H){if(H.g==1)return L(H,ls(E,q),2);if(H.g!=4)return F=H.h,F?(Q=en("trackschanged"),L(H,Promise.resolve(),4)):H.u(0);f.dispatchEvent(Q),oe(H)})},makeTextStreamsForClosedCaptions:function(q){return gI(e,q)},onTimelineRegionAdded:function(q){var F=f.H;e:{for(var Q=T(F.g),H=Q.next();!H.done;H=Q.next())if(H=H.value,H.schemeIdUri==q.schemeIdUri&&H.id==q.id&&H.startTime==q.startTime&&H.endTime==q.endTime){Q=H;break e}Q=null}Q==null&&(F.g.add(q),q=new Te("regionadd",new Map([["region",q]])),F.dispatchEvent(q))},onEvent:function(q){return f.dispatchEvent(q)},onError:function(q){return f.onError(q)},isLowLatencyMode:function(){return m().streaming.lowLatencyMode},updateDuration:function(){e.j&&f.P&&e.j.updateDuration()},newDrmInfo:function(q){var F=f.l,Q=F?F.h:null;Q&&F.A&&ss(E,Q.keySystem,q)},onManifestUpdated:function(){var q=new Map().set("isLive",e.T());f.dispatchEvent(en("manifestupdated",q)),gp(f,!1,function(){e.s&&e.s.onManifestUpdated(e.T())})},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(q,F,Q,H){var Z=q;q=="com.apple.hls.interstitial"&&(Z="com.apple.quicktime.HLS",q={startTime:F,endTime:Q,values:H},e.s)&&e.s.onHLSInterstitialMetadata(e,e.h,q),H=T(H),q=H.next();for(var $={};!q.done;$={Qf:void 0},q=H.next())$.Qf=q.value,$.Qf.name!="ID"&&gp(f,!1,function(ie){return function(){wv(e,F,Q,Z,ie.Qf)}}($))},disableStream:function(q){return e.disableStream(q,e.g.streaming.maxDisabledTime)},addFont:function(q,F){return e.addFont(q,F)}},P=new Ua(function(){return e.$a()}),P.addEventListener("regionadd",function(q){var F=q.region;Tp(e,"timelineregionadded",F,f),gp(f,!1,function(){e.s&&(e.s.onDashTimedMetadata(F),e.s.onDASHInterstitialMetadata(e,e.h,F))})}),R=null,p.streaming.observeQualityChanges&&(R=new ms(function(){return e.Eb()}),R.addEventListener("qualitychange",function(q){S1(e,q.quality,q.position)}),R.addEventListener("audiotrackchange",function(q){S1(e,q.quality,q.position,!0)})),O=!0,j={Tb:e.F,onError:function(q){return f.onError(q)},ke:function(q){gp(f,!0,function(){e:{var F=q,Q=en("keystatuschanged");e.dispatchEvent(Q);var H=Object.keys(F);H.length==1&&H[0]==""&&(H=["00"],F={"00":F[""]}),Q=H.length==1&&H[0]=="00";var Z=!1;if(H.length){H=T(e.i.variants);for(var $=H.next();!$.done;$=H.next()){$=$.value;var ie=[];$.audio&&ie.push($.audio),$.video&&ie.push($.video),ie=T(ie);for(var fe=ie.next();!fe.done;fe=ie.next()){var re=fe.value;if(fe=$.allowedByKeySystem,re.keyIds.size){$.allowedByKeySystem=!0,re=T(re.keyIds);for(var ae=re.next();!ae.done;ae=re.next())ae=ae.value,((ae=F[Q?"00":ae])||e.C.F)&&($.allowedByKeySystem=$.allowedByKeySystem&&!!ae&&!Vc.includes(ae))}fe!=$.allowedByKeySystem&&(Z=!0)}}}if(Z&&(Zr(e),!Wa(e)))break e;(F=e.j.j)&&!F.allowedByKeySystem&&mf(e)}})},onExpirationUpdated:function(q,F){var Q=en("expirationupdated");f.dispatchEvent(Q),(Q=f.j)&&Q.onExpirationUpdated&&Q.onExpirationUpdated(q,F)},onEvent:function(q){f.dispatchEvent(q),q.type=="drmsessionupdate"&&O&&(O=!1,q=Date.now()/1e3-f.sa,(e.A||f.getStats()).j=q,e.M&&Wd(e.M))}},_=u1(e,g),Yr(e.F,_),K=function(){return e.Ic(j)},G={config:p,Oi:C,Yi:P,Xi:R,Ic:K,Ni:E,networkingEngine:_,Nh:i,Mh:a},f=new Cl(t,r,n,G),W.return(f))})}function r1(e,t){var n,r;return z(function(i){return i.g==1?(n=e.g.manifest.retryParameters,L(i,za(t,e.F,n),2)):(r=i.h,r=="application/x-mpegurl"&&yo()&&(r="application/vnd.apple.mpegurl"),i.return(r))})}function nI(e,t){if(!zi())return!0;if(t){if((e.h||vh()).canPlayType(t)=="")return!1;if(!(zi()&&t in fi))return!0;if(xc(t))return yo()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if(t==="application/dash+xml"||t==="video/vnd.mpeg.dash.mpd")return e.g.streaming.preferNativeDash}return!1}function i1(e){var t=e.g.textDisplayFactory;t!==e.He&&(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):Ot("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.He=t,e.B.setTextVisibility(e.na))}function Sv(e){var t,n,r;return z(function(i){if(i.g==1)return gf(e,"media-source"),e.h.removeAttribute("src"),to(e.h),i1(e),t=dI(e.h,e.B,{ji:function(){return e.keySystem()},onMetadata:function(o,a,f){o=T(o);for(var p=o.next();!p.done;p=o.next())if(p=p.value,p.data&&typeof p.cueTime=="number"&&p.frames){var g=p.cueTime+a,m=f;m&&g>m&&(m=g);for(var w=T(p.frames),E=w.next();!E.done;E=w.next())wv(e,g,m,"org.id3",E.value);e.s&&e.s.onHlsTimedMetadata(p,g)}},onEvent:function(o){return e.dispatchEvent(o)},Ui:function(){e.H&&e.H.update&&e.H.update()}},e.M),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.Ca=r,L(i,t.G,2);e.I=t,oe(i)})}function o1(e,t,n){function r(){return Ev(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",function(){var i=e.h.playbackRate;i!=0&&(e.K&&e.K.set(i),i=en("ratechange"),e.dispatchEvent(i))}),t.remote&&(e.l.D(t.remote,"connect",function(){return Zr(e)}),e.l.D(t.remote,"connecting",function(){return Zr(e)}),e.l.D(t.remote,"disconnect",function(){return z(function(i){if(i.g==1)return e.j&&t.remote.state=="disconnected"?L(i,c(e.j),2):i.u(2);Zr(e),oe(i)})})),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",function(){return Zr(e)}),e.l.D(t.audioTracks,"removetrack",function(){return Zr(e)}),e.l.D(t.audioTracks,"change",function(){return Zr(e)})),t.textTracks&&(e.l.D(t.textTracks,"addtrack",function(i){if(i.track)switch(i=i.track,i.kind){case"metadata":sI(e,i);break;case"chapters":aI(e,i);break;default:Zr(e)}}),e.l.D(t.textTracks,"removetrack",function(){return Zr(e)}),e.l.D(t.textTracks,"change",function(){return Zr(e)})),t.preload!="none"&&e.l.la(t,"loadedmetadata",function(){e.A.C=Date.now()/1e3-n})}function rI(e,t,n,r){var i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q;return z(function(H){switch(H.g){case 1:gf(e,"load"),i=e.h,e.K=new _r({Xd:function(){return i.playbackRate},qc:function(){return i.defaultPlaybackRate},cg:function(Z){i.playbackRate=Z},Yg:function(Z){i.currentTime+=Z}}),o1(e,i,t),eI(e,e.g),e.Lb=e.g.preferredTextLanguage,e.zd=e.g.preferredTextRole,e.xd=e.g.preferForcedSubs,Av(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init(function(Z,$,ie){e.i&&e.j&&Z!=e.j.j&&Sp(e,Z,!0,$===void 0?!1:$,ie===void 0?0:ie)}),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=hI(e),e.j.configure(e.g.streaming),e.m=Ur,e.dispatchEvent(en("streaming")),o=n;case 2:for((f=e.j.j)||o||(o=Wa(e)?e.o.chooseVariant():null),p=[],a=f||o,g=T([a.video,a.audio]),m=g.next();!m.done;m=g.next())(w=m.value)&&!w.segmentIndex&&p.push(w.createSegmentIndex());if(!(0<p.length)){H.u(4);break}return L(H,Promise.all(p),4);case 4:if(!a||a.disabledUntilTime!=0){H.u(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(a),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Me):ft("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.L&&(H2(e.L,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),q2(e.L,1e3*t)),Av(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),Ni(e.j,e.g.playRangeStart,e.g.playRangeEnd),E=function(Z){e.G=cI(e,Z),e.Mb=fI(e,Z),l1(e,i,e.g.streaming.rebufferingGoal)},e.g.streaming.startAtSegmentBoundary||(C=e.ha,C==null&&e.i.startTime&&(C=e.i.startTime),E(C)),f){H.u(7);break}if(!e.g.streaming.startAtSegmentBoundary){H.u(8);break}return P=e.i.presentationTimeline,R=e.ha||e.h.currentTime,e.ha==null&&e.i.startTime&&(R=e.i.startTime),O=P.Ob(),j=P.wb(),R<O?R=O:R>j&&(R=j),L(H,vI(o,R),9);case 9:_=H.h,E(_);case 8:Sp(e,o,!0,!1,0);case 7:return e.G.ready(),K=e.rc().find(function(Z){return Z.active}),K||((G=on(e.i.textStreams,e.Lb,e.zd,e.xd)[0]||null)&&av(e.A.h,G,!0),o&&(G?(mI(e,o.audio,G)&&(e.na=!0),e.na&&e.B.setTextVisibility(!0),v1(e)):e.na=!1),G&&(e.g.streaming.alwaysStreamText||e.Df())&&(Lo(e.j,G),wp(e))),L(H,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),m1(e)),Zr(e),Wa(e),e.i.variants.some(function(Z){return Z.primary}),((W=e.T())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(q=function(){return h1(e)},e.l.D(i,"timeupdate",q)),W||(F=function(){return gy(e)},e.l.D(i,"timeupdate",F),gy(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(Q=function(){var Z;return z(function($){if($.g==1)return Z=e.$a().end-e.h.currentTime,isNaN(Z)||!(Z<=e.g.streaming.preloadNextUrlWindow)?$.u(0):(e.l.bb(i,"timeupdate",Q),L($,e.preload(e.i.nextUrl),4));e.za=$.h,oe($)})},e.l.D(i,"timeupdate",Q)),e.l.D(i,"ended",function(){e.load(e.za||e.i.nextUrl)}))),e.s&&e.s.onManifestUpdated(W),e.sa=!0,oe(H)}})}function iI(e,t){var n,r,i,o,a;return z(function(f){return f.g==1?(n=sn,r=Date.now()/1e3,i=!0,e.C=e.Ic({Tb:e.F,onError:function(p){Sf(e,p)},ke:function(){},onExpirationUpdated:function(){var p=en("expirationupdated");e.dispatchEvent(p)},onEvent:function(p){e.dispatchEvent(p),p.type=="drmsessionupdate"&&i&&(i=!1,e.A.j=Date.now()/1e3-r)}}),e.C.configure(e.g.drm),o={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},a={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?wr(t):"",codecs:t?Tr(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.oa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1},a.fullMimeTypes.add(hn(a.mimeType,a.codecs)),t.startsWith("audio/")?(a.type=n.W,o.audio=a):o.video=a,e.C.da=!0,L(f,nu(e.C,[o],[]),2)):L(f,e.C.Xb(e.h),0)})}function oI(e,t,n){var r,i,o,a,f,p,g,m,w,E,C,P;return z(function(R){switch(R.g){case 1:if(gf(e,"src-equals"),r=e.h,e.G=new tf(r),i=!1,e.wd.push(function(){i=!0}),e.ha!=null&&e.G.Qe(e.ha),e.K=new _r({Xd:function(){return r.playbackRate},qc:function(){return r.defaultPlaybackRate},cg:function(O){r.playbackRate=O},Yg:function(O){r.currentTime+=O}}),o=e.g.streaming.rebufferingGoal,l1(e,r,o),r.textTracks&&(i1(e),a=function(){var O=vf(e).find(function(j){return j.mode!=="disabled"});O&&(O.mode="showing")},f=function(){var O=vf(e).find(function(j){return j.mode!=="disabled"});O&&(O.mode="hidden")},e.l.D(r,"enterpictureinpicture",function(){return a()}),e.l.D(r,"leavepictureinpicture",function(){return f()}),r.remote?(e.l.D(r.remote,"connect",function(){return f()}),e.l.D(r.remote,"connecting",function(){return f()}),e.l.D(r.remote,"disconnect",function(){return f()})):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",function(){return f()}),p=r,p.webkitSupportsFullscreen&&e.l.D(p,"webkitpresentationmodechanged",function(){p.webkitPresentationMode!="inline"?a():f()})),o1(e,r,t),g=z2(e.L,e.V,n),!g.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(g+="#t=",0<e.g.playRangeStart&&(g+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(g+=","+e.g.playRangeEnd)),!e.I){R.u(2);break}return L(R,e.I.destroy(),3);case 3:e.I=null;case 2:return to(r),r.src=g,(Or()||qr())&&r.load(),r.preload!="none"&&!r.autoplay&&xc(n)&&yu()&&r.load(),e.m=hi,e.dispatchEvent(en("streaming")),m=new bt,bi(r,HTMLMediaElement.HAVE_METADATA,e.l,function(){e.G.ready(),m.resolve()}),bi(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,function(){var O,j,_,K,G;return z(function(W){if(W.g==1)return uI(e),O=vf(e),O.find(function(q){return q.mode!="disabled"})?(0<O.length&&(e.na=!0,e.B.setTextVisibility(!0)),W.u(2)):L(W,new Promise(function(q){e.l.la(r.textTracks,"change",q),new st(q).aa(1)}),2);if(i)return W.return();for(vf(e).length&&(e.B.enableTextDisplayer?e.B.enableTextDisplayer():Ot("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),j=!1,_=T(O),K=_.next();!K.done;K=_.next())G=K.value,G.mode!=="disabled"&&(j?(G.mode="disabled",ft("Found more than one enabled text track, disabling it",G)):(c1(e,G),j=!0));lI(e),oe(W)})}),r.error?m.reject(kv(e)):r.preload=="none"&&(ft('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),m.resolve()),e.l.la(r,"error",function(){m.reject(kv(e))}),L(R,Wo(e.g.streaming.loadTimeout,m),4);case 4:((w=e.T())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(E=function(){return h1(e)},e.l.D(r,"timeupdate",E)),w||(C=function(){return gy(e)},e.l.D(r,"timeupdate",C),gy(e)),e.s&&(e.s.onManifestUpdated(w),w&&(P=e.$a().end,e.l.D(r,"progress",function(){var O=e.$a().end;P!=O&&(e.s.onManifestUpdated(e.T()),P=O)}))),e.sa=!0,oe(R)}})}function uI(e){var t=e.g.preferredAudioLanguage;t!=""&&e.lh(t,e.g.preferredVariantRole)}function lI(e){var t=e.g.preferredTextLanguage;t!=""&&e.Xf(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function sI(e,t){if(t.kind=="metadata"){t.mode="hidden",e.l.D(t,"cuechange",function(){if(t.activeCues)for(var r=T(t.activeCues),i=r.next();!i.done;i=r.next())i=i.value,wv(e,i.startTime,i.endTime,i.type,i.value),e.s&&e.s.onCueMetadataChange(i.value);if(t.cues){r=[],i=T(t.cues);for(var o=i.next(),a={};!o.done;a={Zb:void 0},o=i.next())a.Zb=o.value,a.Zb.type=="com.apple.quicktime.HLS"&&a.Zb.startTime!=null&&(o=r.find(function(f){return function(p){return p.startTime==f.Zb.startTime&&p.endTime==f.Zb.endTime}}(a)),o||(o={startTime:a.Zb.startTime,endTime:a.Zb.endTime,values:[]},r.push(o)),o.values.push(a.Zb.value));for(r=T(r),i=r.next();!i.done;i=r.next())i=i.value,i.values.some(function(f){return f.key=="X-ASSET-URI"||f.key=="X-ASSET-LIST"})&&e.s&&(i.values.push({key:"CUE",description:"",data:i.startTime!=0||e.T()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.s.onHLSInterstitialMetadata(e,e.h,i))}});var n=new st(function(){var r=yI(e);r=T(r);for(var i=r.next();!i.done;i=r.next())i.value.mode="hidden"}).Hb().aa(.5);e.wd.push(function(){n.stop()})}}function wv(e,t,n,r,i){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(en("metadata",t))}function aI(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new st(function(){t.mode="hidden"}).Hb().aa(.5);e.wd.push(function(){n.stop()})}}h.bj=function(){for(var e=this.ba;e.g;)e.release()},h.Ic=function(e){return new ts(e)};function u1(e,t){function n(i){t()?t().dispatchEvent(i):e.dispatchEvent(i)}function r(i){t()?gp(t(),!0,i):i()}return t||(t=function(){return null}),new jt(function(i,o,a,f){var p=t()?t().i:e.o;p&&p.segmentDownloaded(i,o,a,f)},function(i,o,a){o=new Map().set("headers",i).set("request",o).set("requestType",a),n(en("downloadheadersreceived",o)),r(function(){if(e.fa){var f=e.fa;if(f.h.enabled){var p=i["cmsd-static"];if(p)try{var g=new Map,m=p.split(",");for(p=0;p<m.length;p++){var w=m[p].split("=");g.set(w[0],X0(w[1]))}}catch{}if(g=i["cmsd-dynamic"]){try{var E=new Map,C=g.split(";");for(g=1;g<C.length;g++){var P=C[g].split("=");E.set(P[0],X0(P[1]))}var R=E}catch{R=null}R&&(f.g=R)}}}})},function(i,o){i=new Map().set("request",i).set("response",o),n(en("downloadcompleted",i))},function(i,o,a,f){i=new Map().set("request",i).set("error",o).set("httpResponseCode",a).set("aborted",f),n(en("downloadfailed",i))},function(i,o,a){r(function(){var f=e.L,p=a;if(p=p===void 0?{}:p,f.g.enabled)if(o.method==="HEAD")yf(f,o);else switch(i){case 0:try{if(f.g.enabled){if(p.type){e:{switch(p.type){case 4:var g=f.l?dy:fy;break e;case 3:case 2:g=f.l?hy:py;break e;case 5:g="s";break e}g=void 0}f.i=g}yf(f,o,{ot:W0,su:!f.s})}}catch(re){Si("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",re)}break;case Lr:try{if(f.g.enabled){var m=p.segment;g=0,m&&(g=m.endTime-m.startTime);var w={d:1e3*g,st:f.h.T()?"l":"v"};w.ot=X2(p);var E=w.ot===sy||w.ot===ly||w.ot===ay||w.ot===cy,C=p.stream;if(C){var P=f.h.mb();if(E&&(w.bl=Y2(f,C.type),w.ot!==cy)){var R=G0(f,C.type);w.dl=P?R/Math.abs(P):R}if(C.bandwidth&&(w.br=C.bandwidth/1e3),C.segmentIndex&&m){var O=C.segmentIndex.Nb(m.endTime,!0,0>P);if(O){var j=O.next().value;if(j&&j!=m){if(!Vs(m.N(),j.N())){var _=j.N()[0],K=o.uris[0],G=new URL(_),W=new URL(K);if(G.origin!==W.origin)var q=_;else{for(var F=G.pathname.split("/").slice(1),Q=W.pathname.split("/").slice(1,-1);F[0]===Q[0];)F.shift(),Q.shift();for(;Q.length;)Q.shift(),F.unshift("..");q=F.join("/")}w.nor=q}if((j.Ma||j.va)&&(m.Ma!=j.Ma||m.va!=j.va)){var H=j.Ma+"-";j.va&&(H+=j.va),w.nrr=H}}}var Z=f.h.mb()||1,$=G0(f,C.type)||500,ie=C.bandwidth,fe=ie?ie*(m.endTime-m.startTime)/1e3/($/Z/1e3)*f.g.rtpSafetyFactor:NaN;isNaN(fe)||(w.rtp=fe)}}E&&w.ot!==cy&&(w.tb=$2(f,w.ot)/1e3),yf(f,o,w)}}catch(re){Si("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",re)}break;case 2:case 5:case 6:yf(f,o,{ot:"k"});break;case 4:yf(f,o,{ot:"o"})}})},function(i,o,a,f){(i=t()?t().j:e.H)&&i.banLocation&&i.banLocation(f)},function(i,o){if(o.data){o=o.data.byteLength;var a=t()?t().getStats():e.A;a&&(a.mc=isNaN(a.mc)?o:a.mc+o,i===0&&(a.Ug=o))}})}function cI(e,t){return new au(e.h,e.i,e.g.streaming,t,function(){e.Mb&&nf(e.Mb,!0),e.j&&e.j.$c(),e.O&&Ts(e)},function(n){return e.dispatchEvent(n)})}function fI(e,t){t=new oy(e.td,e.T()||0<t),t.addEventListener("enter",function(r){Tp(e,"timelineregionenter",r.region)}),t.addEventListener("exit",function(r){Tp(e,"timelineregionexit",r.region)}),t.addEventListener("skip",function(r){var i=r.region;r.seeking||(Tp(e,"timelineregionenter",i),Tp(e,"timelineregionexit",i))});var n=new tp(e.h);return n.g.add(t),e.dc&&n.g.add(e.dc),n}function l1(e,t,n){e.O=new Nh,e.O.g=hl,Ld(e.O,n,Math.min(.5,n/2)),Iv(e),e.pa=new st(function(){Ts(e)}),e.g.streaming.rebufferingGoal&&e.pa.Aa(.25),e.l.D(t,"waiting",function(){return Ts(e)}),e.l.D(t,"stalled",function(){return Ts(e)}),e.l.D(t,"canplaythrough",function(){return Ts(e)}),e.l.D(t,"progress",function(){return Ts(e)}),e.l.D(t,"seeked",function(){return Ts(e)})}function Ts(e){switch(e.m){case hi:if(e.Qc())var t=!0;else{var n=Fc(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case Ur:e:if(e.Qc()||yl(e.I))t=!0;else{if(e.i.presentationTimeline.T()){n=e.i.presentationTimeline.ac();var r=Fc(e.h.buffered);if(r!=null&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=Bh(e.h.buffered,e.h.currentTime),n=e.O;var i=t,o=n.i.get(n.g);t=n.g,r=i||r>=o&&0<r?us:hl,n.g=r,(t=t!=r)&&r===us&&(n.h=Date.now()),t&&Iv(e)}function dI(e,t,n,r){return new Xd(e,t,n,r)}function pI(e){return new pv({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},Eb:function(){return e.Eb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},mb:function(){return e.mb()},vb:function(){return e.vb()},sc:function(){return e.sc()},T:function(){return e.T()},Wd:function(){return e.Wd()}},e.g.cmcd)}function hI(e){return new sp(e.i,{md:function(){return e.G?e.G.Kd():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},mb:function(){return e.mb()},Z:e.I,Tb:e.F,onError:function(t){return Sf(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Mf:function(t,n){var r=t.startTime;t=t.endTime;var i=n.type;if(n=n.codecs.includes(","),i!=at){if(e.G){e.G.Zg();var o=_u(e.I,i);!e.T()&&e.h.paused&&o!=null&&0<o&&e.G.Kd()<o&&e.G.Qe(o)}Ts(e)}r=new Map().set("start",r).set("end",t).set("contentType",i).set("isMuxed",n),e.dispatchEvent(en("segmentappended",r))},Ti:function(t,n){(n=n.Tc)&&e.dc&&ju(e.dc,n,t)},wg:function(t,n){var r=e.C;if(r.g.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new Zi(Ze(n)),n=0;for(var i=T(t.data),o=i.next();!o.done;o=i.next())n+=o.value.length;if(n==0)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,t=T(t.data),o=t.next();!o.done;o=t.next())o=o.value,n.set(o,i),i+=o.length;ru(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(t,n){return e.disableStream(t,n)}})}h.configure=function(e,t){if(arguments.length==2&&typeof e=="string"&&(e=D(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(Ot("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(Ot("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(Ot("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&yo(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&typeof e.streaming.liveSync=="boolean"){Ot("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&!(e.streaming.liveSync&&"targetLatency"in e.streaming.liveSync)&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(Ot("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(Ot("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(Ot("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(Ot("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(Ot("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(Ot("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(Ot("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(Ot("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){Ot("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(Ot("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(Ot("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(Ot("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(Ot("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(Ot("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.drm&&e.drm.advanced){n=!1;for(var o in e.drm.advanced){var a=e.drm.advanced[o];r=a.videoRobustness,a=a.audioRobustness,"videoRobustness"in e.drm.advanced[o]&&!Array.isArray(e.drm.advanced[o].videoRobustness)&&(e.drm.advanced[o].videoRobustness=[r],n=!0),"audioRobustness"in e.drm.advanced[o]&&!Array.isArray(e.drm.advanced[o].audioRobustness)&&(e.drm.advanced[o].audioRobustness=[a],n=!0)}n&&Ot("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return o=Nt(this.g,e,kl(this)),s1(this),o},h.Vh=function(e){this.Me=e};function s1(e){if(e.me=new Bc(e.g,e.ga,e.C),e.H){var t=Rr(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=bo&&Ea(e.me,e.i)&&Zr(e)}catch(i){Sf(e,i)}e.o&&Wa(e),t=e.j.j,!t||t.allowedByApplication&&t.allowedByKeySystem||mf(e)}if(e.F&&(e.F.ag(e.g.streaming.forceHTTP),e.F.bg(e.g.streaming.forceHTTPS),e.F.o=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.Ca=e.g.manifest.segmentRelativeVttTiming),e.B)if(t=e.g.textDisplayFactory,e.He!=t){var n=e.B;if(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):Ot("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.B.setTextLanguage||Ot("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.B.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.B;n.fa=r,n.h&&(n.h.j=r)}e.He=t,e.j&&(t=e.j,(n=t.i.get(at))&&Bu(t,n.stream,!0,0,!0))}else e.B.configure&&e.B.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),m1(e)),e.O&&(t=e.g.streaming.rebufferingGoal,Ld(e.O,t,Math.min(.5,t/2))),e.pa&&(e.g.streaming.rebufferingGoal?e.pa.Aa(.25):e.pa.stop()),e.i&&Av(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.s&&e.s.configure(e.g.ads),e.L&&e.L.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}h.getConfiguration=function(){var e=kl(this);return Nt(e,this.g,kl(this)),e},h.ci=function(){return this.Me},h.Mg=function(){var e=kl(this);return Nt(e,this.g,kl(this)),J(this.g,kl(this))},h.Hg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.$a().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},h.fj=function(){for(var e in this.g)delete this.g[e];Nt(this.g,kl(this),kl(this)),s1(this)},h.Kg=function(){return this.m},h.vf=function(){return this.i?this.i.type:null},h.ni=function(){return this.h},h.vb=function(){return this.F},h.Nc=function(){return this.V},h.Gg=function(){return this.s?this.s:null},h.T=function(){return this.i&&!this.Ka()?this.i.presentationTimeline.T():this.h&&this.h.src?this.h.duration==1/0:!1},h.vc=function(){return this.i?this.i.presentationTimeline.vc():!1},h.Ei=function(){if(this.i&&!this.Ka()){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},h.$a=function(){if(this.i&&!this.Ka()){if(!this.sa&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Ob(),end:e.wb()}}if(this.h&&this.h.src&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return e=Math.min(e.end(e.length-1),n),{start:t,end:e}}return{start:0,end:0}},h.Bi=function(){this.T()&&(this.h.currentTime=this.$a().end)},h.Fi=function(){return this.sa},h.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},h.drmInfo=function(){return this.C?this.C.h:null},h.ld=function(){return this.C?this.C.ld():1/0},h.tf=function(){return this.C?this.C.tf():[]},h.Vd=function(){return this.C?this.C.Vd():{}},h.Cf=function(){return this.O?this.O.g==hl:!1},h.mb=function(){return this.h?this.K?this.K.i:1:0},h.Id=function(e,t){var n=this;t=t===void 0?!0:t,e==0?ft("A trick play rate of 0 is unsupported!"):(this.Ia.La(),this.K.set(e),this.m==Ur&&(this.o.playbackRateChanged(e),Mo(this.j,t&&1<Math.abs(e))),this.T()&&this.Ia.D(this.h,"timeupdate",function(){var r=n.h.currentTime,i=n.$a(),o=n.g.streaming.safeSeekOffset;0<e?Math.floor(r)>=Math.floor(i.end)&&n.dd():Math.floor(r)<=Math.floor(i.start+o)&&n.dd()}))},h.dd=function(){var e=this.K.qc();this.m==hi&&this.K.set(e),this.m==Ur&&(this.K.set(e),this.o.playbackRateChanged(e),Mo(this.j,!1)),this.Ia.La()},h.sc=function(){if(this.i&&!this.Ka()){for(var e=this.j?this.j.j:null,t=[],n=0,r=T(this.i.variants),i=r.next();!i.done;i=r.next())if(i=i.value,Ci(i)){var o=Jl(i);o.active=i==e,o.active||n==1||e==null||i.video!=e.video||i.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(a){return fa(a)}):[]},h.rc=function(){if(this.i&&!this.Ka()){for(var e=this.j?this.j.s:null,t=[],n=T(this.i.textStreams),r=n.next();!r.done;r=n.next()){r=r.value;var i=To(r);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?vf(this).map(function(o){return ca(o)}):[]},h.hi=function(){var e=this.Dd;return this.i&&(e=this.i.imageStreams),e.map(function(t){return sl(t)})},h.Yh=function(e){var t=this,n,r,i,o;return z(function(a){return a.g==1?t.m!=Ur&&t.m!=hi?a.return(null):(n=t.Dd,t.i&&(n=t.i.imageStreams),(r=n.find(function(f){return f.id==e}))?r.segmentIndex?a.u(2):L(a,r.createSegmentIndex(),2):a.return(null)):a.g!=4?(i=[],r.segmentIndex.Db(function(f){var p=a1(f.tilesLayout||r.tilesLayout);if(p){p=p.rows*p.nc;for(var g=f.j-f.startTime,m=0;m<p;m++)i.push(t.Og(e,f.startTime+g*m/p))}}),L(a,Promise.all(i),4)):(o=a.h,a.return(o.filter(function(f){return f})))})};function a1(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{nc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}h.Og=function(e,t){var n=this,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){return W.g==1?n.m!=Ur&&n.m!=hi?W.return(null):(r=n.Dd,n.i&&(r=n.i.imageStreams),(i=r.find(function(q){return q.id==e}))?i.segmentIndex?W.u(2):L(W,i.createSegmentIndex(),2):W.return(null)):(o=i.segmentIndex.find(t),o==null||(a=i.segmentIndex.get(o),f=a1(a.tilesLayout||i.tilesLayout),!f)?W.return(null):(p=i.width||0,g=i.height||0,m=p/f.nc,w=g/f.rows,E=f.nc*f.rows,C=a.j-a.startTime,P=a.A||C/E,R=a.startTime,j=O=0,1<E&&(_=Math.floor((t-a.startTime)/P),R=a.startTime+_*P,O=_%f.nc*m,j=Math.floor(_/f.nc)*w),K=!1,(G=a.thumbnailSprite)&&(K=!0,w=G.height,O=G.positionX,j=G.positionY,m=G.width),W.return({segment:a,imageHeight:g,imageWidth:p,height:w,positionX:O,positionY:j,startTime:R,duration:P,uris:a.N(),width:m,sprite:K})))})},h.mh=function(e){function t(){var r=n.i.textStreams.find(function(i){return i.id==e.id});r&&r!=n.j.s&&(av(n.A.h,r,!1),Lo(n.j,r),vy(n),wp(n),n.Lb=r.language)}var n=this;this.i&&this.G&&(t(),!this.Ka())||function(){if(n.h&&n.h.textTracks){var r=vf(n),i=r.find(function(o){return o.mode!=="disabled"});(r=r.find(function(o){return Au(o)===e.id}))&&(i!==r&&(i&&(i.mode="disabled",n.l.bb(i,"cuechange"),n.B.remove(0,1/0)),r&&c1(n,r)),vy(n),wp(n))}}()};function c1(e,t){e.l.D(t,"cuechange",function(){e.B.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n=Array.from(t.activeCues||[]).map(N2).filter(Ji);e.B.append(n)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}h.Yf=function(e,t,n){function r(){var o=i.i.variants.find(function(f){return f.id==e.id});if(o&&Ci(o)){var a=i.j.j;i.g.abr.enabled&&(a.video!=o.video||a.audio&&o.audio&&a.audio.language==o.audio.language&&a.audio.channelsCount==o.audio.channelsCount)&&ft("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),i.Ka()?Sp(i,o,!1,!1,0):Sp(i,o,!1,t||!1,n||0),i.$=new jc(o,i.g.mediaSource.codecSwitchingStrategy,i.g.adaptationSetCriteriaFactory),Wa(i)}}var i=this;t=t===void 0?!1:t,n=n===void 0?0:n,!(this.i&&this.G&&(r(),!this.Ka()))&&function(){if(i.h&&i.h.audioTracks){var o=Array.from(i.h.audioTracks);o=T(o);for(var a=o.next();!a.done;a=o.next())if(a=a.value,Au(a)==e.id){y1(i,a);break}}}()},h.$h=function(){return T1(this.sc())},h.ui=function(){return T1(this.rc())},h.Zh=function(){return Array.from(w1(this.sc()))},h.ti=function(){return Array.from(w1(this.rc()))},h.lh=function(e,t,n,r,i,o){function a(){function p(C,P){return C.video||P.video?C.video&&P.video?Math.abs((C.video.height||0)-(P.video.height||0))+Math.abs((C.video.width||0)-(P.video.width||0)):1/0:0}f.$=f.g.adaptationSetCriteriaFactory(),f.$.configure({language:e,role:t||"",channelCount:n||0,Oc:"",spatialAudio:o||!1,videoLayout:"",Gc:"",cd:"",codecSwitchingStrategy:f.g.mediaSource.codecSwitchingStrategy,audioCodec:i||""});var g=f.j.j,m=f.$.create(f.i.variants),w=null;m=T(m.values());for(var E=m.next();!E.done;E=m.next())E=E.value,Ci(E)&&(!w||p(w,g)>p(E,g))&&(w=E);w!=g&&(w?(g=Jl(w),f.Yf(g,!0,r||0)):mf(f))}var f=this;n=n===void 0?0:n,r=r===void 0?0:r,i=i===void 0?"":i,o=o===void 0?!1:o,!(this.i&&this.G&&(a(),!this.Ka()))&&function(){if(f.h&&f.h.audioTracks){var p=on(f.sc(),e,t||"",!1)[0];p&&f.Yf(p)}}()},h.Xf=function(e,t,n){function r(){i.Lb=e,i.zd=t||"",i.xd=n||!1;var o=on(i.i.textStreams,i.Lb,i.zd,i.xd)[0]||null;o&&o!=i.j.s&&(av(i.A.h,o,!1),i.g.streaming.alwaysStreamText||i.Df())&&(Lo(i.j,o),vy(i),wp(i))}var i=this;n=n===void 0?!1:n,!(this.i&&this.G&&(r(),!this.Ka()))&&function(){var o=on(i.rc(),e,t||"",n||!1)[0];o&&i.mh(o)}()},h.kj=function(e,t,n){function r(){for(var o=null,a=T(i.i.variants),f=a.next();!f.done;f=a.next())if(f=f.value,f.audio.label==e){o=f;break}o!=null&&(i.$=i.g.adaptationSetCriteriaFactory(),i.$.configure({language:o.language,role:"",channelCount:0,Oc:"",spatialAudio:!1,videoLayout:"",label:e,cd:"",Gc:"",codecSwitchingStrategy:i.g.mediaSource.codecSwitchingStrategy,audioCodec:""}),mf(i,t,n))}var i=this;t=t===void 0?!0:t,n=n===void 0?0:n,!(this.i&&this.G&&(r(),!this.Ka()))&&function(){if(i.h&&i.h.audioTracks){var o=Array.from(i.h.audioTracks),a=null;o=T(o);for(var f=o.next();!f.done;f=o.next())f=f.value,f.label==e&&(a=f);a&&y1(i,a)}}()},h.Df=function(){var e=this.na;return this.B?this.B.isTextVisible():e},h.Ig=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?f1(this).map(function(e){return ca(e)}):[]},h.bi=function(e){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=Et(e),n=f1(this).filter(function(f){return Et(f.language)==t});if(!n||!n.length)return[];e=[];var r=new Set;n=T(n);for(var i=n.next();!i.done;i=n.next())if((i=i.value)&&i.cues){i=T(i.cues);for(var o=i.next();!o.done;o=i.next()){var a=o.value;(o=a.id)&&o!=""||(o=a.startTime+"-"+a.endTime+"-"+a.text),a={id:o,title:a.text,startTime:a.startTime,endTime:a.endTime},r.has(o)||(e.push(a),r.add(o))}}return e};function vf(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function yI(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function f1(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}h.sh=function(e){e=!!e,this.na!=e&&(this.na=e,this.m==Ur?(this.B.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.s||(e=on(this.i.textStreams,this.Lb,this.zd,this.xd),0<e.length&&(Lo(this.j,e[0]),vy(this),wp(this))):uv(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.B.setTextVisibility(e),v1(this))},h.oi=function(){if(this.G)var e=this.G.Kd();else{if(this.ha==null)return new Date;e=this.ha}if(this.i&&!this.Ka()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},h.Ng=function(){if(this.i&&!this.Ka()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},h.Yd=function(){return this.T()&&this.i?this.i.presentationTimeline.Yd():null},h.Eb=function(){if(this.m==Ur)return this.I.Eb();var e={total:[],audio:[],video:[],text:[]};return this.m==hi&&(e.total=Lu(this.h.buffered)),e},h.Wd=function(){if(!this.h)return null;var e=this.Ng().getTime()+1e3*this.h.currentTime;return Date.now()-e},h.getStats=function(){if(this.m!=Ur&&this.m!=hi)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Ev(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.T()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.A.P=this.G.qg(),this.A.V=this.G.rg()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.A.L=Number(n.corruptedVideoFrames)}if(this.C?(n=this.C,n=n.H?n.H:NaN):n=NaN,this.A.o=n,this.m==Ur){if(n=this.j.j,t=this.j.s,n){r=this.K?this.K.i:1;var i=r*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.A.A=i}n&&n.video&&(t=this.A,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.T()&&(n=this.Wd()||0,this.A.B=n/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.s=n}this.m==hi&&(n=this.A,n.mc=isNaN(n.mc)?NaN:n.mc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var o=this.A;e=o.m,n=o.l,t=o.A,r=o.M,i=o.O;var a=o.L,f=o.V,p=o.P,g=o.s,m=o.i,w=o.C,E=o.H,C=o.j,P=sv(o.g,"playing"),R=sv(o.g,"paused"),O=sv(o.g,"buffering"),j=o.o,_=o.B,K=o.I,G=o.Ug,W=o.mc,q=o.K,F=o.G,Q=o.F,H=x2(o.g),Z=[];o=T(o.h.g);for(var $=o.next();!$.done;$=o.next())$=$.value,Z.push({timestamp:$.timestamp,id:$.id,type:$.type,fromAdaptation:$.fromAdaptation,bandwidth:$.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:a,stallsDetected:f,gapsJumped:p,estimatedBandwidth:g,completionPercent:m,loadLatency:w,manifestTimeSeconds:E,drmTimeSeconds:C,playTime:P,pauseTime:R,bufferingTime:O,licenseTime:j,liveLatency:_,maxSegmentDuration:K,manifestSizeBytes:G,bytesDownloaded:W,nonFatalErrorCount:q,manifestPeriodCount:F,manifestGapCount:Q,stateHistory:H,switchHistory:Z}},h.Jh=function(e,t,n,r,i,o,a){a=a===void 0?!1:a;var f=this,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){switch(W.g){case 1:if(f.m!=Ur&&f.m!=hi)throw new X(1,7,7004);if(n!="subtitles"&&n!="captions"&&ft("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){W.u(2);break}return L(W,Tv(f,e),3);case 3:r=W.h;case 2:if(p=[],f.s&&(p=f.s.getCuePoints()),f.m!=hi){W.u(4);break}return a&&(n="forced"),L(W,d1(f,e,t,n,r,o||"",p),5);case 5:if(g=Et(t),m=f.rc(),w=m.find(function(q){return Et(q.language)==g&&q.label==(o||"")&&q.kind==n}))return Zr(f),W.return(w);throw new X(1,2,2012);case 4:if(E=sn,C=f.$a(),P=C.end-C.start,f.i&&(P=f.i.presentationTimeline.getDuration()),P==1/0)throw new X(1,4,4033);if(!p.length){W.u(6);break}return L(W,xv(f,e,f.F,f.g.streaming.retryParameters),7);case 7:R=W.h,O=p1(f,R,r,p),j=new Blob([O],{type:"text/vtt"}),e=Jr(j),r="text/vtt";case 6:if(_={id:f.og++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Tl(0,P,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:E.wa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([hn(r||"",i||"")]),isAudioMuxedInVideo:!1},K=hn(_.mimeType,_.codecs),G=Iu(K),!G)throw new X(2,2,2014,r);return f.i.textStreams.push(_),Zr(f),W.return(To(_))}})},h.Kh=function(e,t){var n=this,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){switch(W.g){case 1:if(n.m!=Ur&&n.m!=hi)throw new X(1,7,7004);if(t){W.u(2);break}return L(W,Tv(n,e),3);case 3:t=W.h;case 2:if(t!="text/vtt")throw new X(1,2,2017,e);if(r=sn,i=n.$a(),o=i.end-i.start,n.i&&(o=n.i.presentationTimeline.getDuration()),o==1/0)throw new X(1,4,4045);return L(W,xv(n,e,n.F,n.g.streaming.retryParameters),4);case 4:if(a=W.h,f=yn[t],!f)throw new X(2,2,2014,t);for(p=f(),g={periodStart:0,segmentStart:0,segmentEnd:o,vttOffset:0},m=Ze(a),w=p.parseMedia(m,g,e,[]),E=[],C=T(w),P=C.next(),R={};!P.done;R={Ge:void 0,Jc:void 0},P=C.next())R.Jc=P.value,R.Ge=null,O=function(q){return function(){return q.Ge==null&&(q.Ge=An([e],[q.Jc.payload])),q.Ge||[]}}(R),j=new Fe(R.Jc.startTime,R.Jc.endTime,O,0,null,null,0,0,1/0),R.Jc.payload.includes("#xywh")&&(_=R.Jc.payload.split("#xywh=")[1].split(","),_.length===4&&j.we({height:parseInt(_[3],10),positionX:parseInt(_[0],10),positionY:parseInt(_[1],10),width:parseInt(_[2],10)})),E.push(j);if(K=t,!E.length){W.u(5);break}return L(W,za(E[0].N()[0],n.F,n.g.manifest.retryParameters),6);case 6:K=W.h;case 5:return G={id:n.og++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new St(E),mimeType:K||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.Pe,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([hn(K||"","")]),isAudioMuxedInVideo:!1},n.m==hi?n.Dd.push(G):n.i.imageStreams.push(G),Zr(n),W.return(sl(G))}})},h.Ih=function(e,t,n){var r=this,i,o,a,f;return z(function(p){switch(p.g){case 1:if(r.m!=Ur&&r.m!=hi)throw new X(1,7,7004);if(n){p.u(2);break}return L(p,Tv(r,e),3);case 3:n=p.h;case 2:return i=[],r.s&&(i=r.s.getCuePoints()),L(p,d1(r,e,t,"chapters",n,"",i),4);case 4:if(o=p.h,a=r.Ig(),f=a.find(function(g){return g.language==t}),!f){p.u(5);break}return L(p,new Promise(function(g,m){r.l.la(o,"load",g),r.l.la(o,"error",function(){m(new X(1,2,2015))})}),6);case 6:return Zr(r),p.return(f);case 5:throw new X(1,2,2012)}})};function Tv(e,t){var n;return z(function(r){switch(r.g){case 1:return de(r,2),L(r,za(t,e.F,e.g.streaming.retryParameters),4);case 4:n=r.h,Oe(r,3);break;case 2:ke(r);case 3:if(n)return r.return(n);throw new X(1,2,2011,t)}})}function d1(e,t,n,r,i,o,a){var f,p,g,m;return z(function(w){if(w.g==1)return i!="text/vtt"||a.length?L(w,xv(e,t,e.F,e.g.streaming.retryParameters),3):w.u(2);w.g!=2&&(f=w.h,p=p1(e,f,i,a),g=new Blob([p],{type:"text/vtt"}),t=Jr(g),i="text/vtt"),m=document.createElement("track");var E=e.L,C=t;try{if(E.g.enabled){var P=hv(E);P.ot=gv,P.su=!0;var R=uy(P),O=yv(C,R)}else O=C}catch(j){Si("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",j),O=C}return m.src=O,m.label=o,m.kind=r,m.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(m),w.return(m)})}function xv(e,t,n,r){var i,o,a;return z(function(f){if(f.g==1){i=Lr,o=wt([t],r),o.method="GET";var p=e.L;try{p.g.enabled&&yf(p,o,{ot:gv,su:!0})}catch(g){Si("CMCD_TEXT_ERROR","Could not generate text CMCD data.",g)}return L(f,n.request(i,o).promise,2)}return a=f.h,f.return(a.data)})}function p1(e,t,n,r){var i=yn[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Ze(t),t=n.parseMedia(t,e,null,[]),F2(t,r);throw new X(2,2,2014,n)}h.pj=function(e,t){this.ga.width=e,this.ga.height=t},h.Vf=function(e){if(this.m==Ur){var t=this.j;if(e=e===void 0?.1:e,t.m.g)t=!1;else if(t.B)t=!1;else{for(var n=T(t.i.values()),r=n.next();!r.done;r=n.next())r=r.value,!r.pd||r.Fa||r.jb||(r.pd=!1,Yn(t,r,e));t=!0}}else t=!1;return t},h.uf=function(){return ft("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},h.ki=function(){return this.Pa},h.fi=function(){var e={video:null,audio:null,text:null};if(this.m!=Ur)return e;var t=this.j.j,n=this.h.currentTime;t=T([t.video,t.audio,this.j.s]);for(var r=t.next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i=r.segmentIndex.get(i),i={codecs:i.codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},r.type=="video"?(i.width=r.width,i.height=r.height,e.video=i):r.type=="audio"?e.audio=i:r.type==at&&(e.text=i)}return e};function kl(e){var t=ht();return t.streaming.failureCallback=function(n){if(e.T()){var r=null;n.code==1001||n.code==1002?(r=1,e.g.streaming.lowLatencyMode&&(r=.1)):n.code==1003&&(r=.1),r!=null&&(n.severity=1,e.Vf(r))}},t.textDisplayFactory=function(){return!e.oe||yu()&&!document.fullscreenEnabled?HTMLMediaElement.prototype.addTextTrack?new dr(e.h,"Shaka Player TextTrack"):new pr:new hr(e.h,e.oe)},t}h.vh=function(e){this.oe=e};function gI(e,t){for(var n=new Set,r=T(t.textStreams),i=r.next();!i.done;i=r.next())i=i.value,i.mimeType!="application/cea-608"&&i.mimeType!="application/cea-708"||n.add(i.originalId);for(r=T(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions){for(var o=T(i.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var f=a.startsWith("CC")?"application/cea-608":"application/cea-708",p=new zt,g=i.closedCaptions.get(a);f={id:e.og++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:p,mimeType:f,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:g,originalLanguage:g,label:null,type:at,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([hn(f,"")]),isAudioMuxedInVideo:!1},t.textStreams.push(f),n.add(a)}}}function vI(e,t){var n,r,i,o,a;return z(function(f){return f.g==1?(n=e.audio,r=e.video,i=function(p,g){var m,w,E;return z(function(C){return C.g==1?p?p.segmentIndex?C.u(2):L(C,p.createSegmentIndex(),2):C.return(null):(w=(m=p.segmentIndex.Nb(g))?m.next().value:null,w?(E=w.startTime,C.return(E)):C.return(null))})},L(f,i(n,t),2)):f.g!=3?(o=f.h,L(f,i(r,t),3)):(a=f.h,a!=null&&o!=null?f.return(Math.max(a,o)):a!=null?f.return(a):o!=null?f.return(o):f.return(t))})}function Iv(e){var t=e.Cf();if(e.A&&e.O&&e.G){if(e.g.streaming.rebufferingGoal==0){var n=e.K;n.j=!1,Ar(n)}else n=e.K,n.j=t,Ar(n);if(e.L&&(n=e.L,t||n.s||(n.s=!0),n.s&&t&&(n.B=!0),n.F=t),Ev(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Le<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.P&&(e.P=Math.min(e.P+ ++e.Le*i,n-r))}}t=new Map().set("buffering",t),e.dispatchEvent(en("buffering",t))}function Ev(e){if(e.A&&e.O){var t=e.A.g,n="playing";e.O.g==hl?n="buffering":e.Qc()?n="ended":e.h.paused&&(n="paused");var r=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(en("statechanged",n)))}}function h1(e){var t=e.h.playbackRate,n=e.T();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.Hg();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.Id(r,!1):i==1&&t!==e.K.qc()&&e.dd()}if(n&&(n=e.$a(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var o=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var a=e.g.streaming.liveSync.targetLatency,f=a+r,p=Math.max(0,a-r),g=e.g.streaming.liveSync.maxPlaybackRate,m=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(a=e.i.serviceDescription.targetLatency,e.i.serviceDescription.targetLatency!=null?f=e.i.serviceDescription.targetLatency+r:e.i.serviceDescription.maxLatency!=null&&(f=e.i.serviceDescription.maxLatency),e.i.serviceDescription.targetLatency!=null?p=Math.max(0,e.i.serviceDescription.targetLatency-r):e.i.serviceDescription.minLatency!=null&&(p=e.i.serviceDescription.minLatency),g=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,m=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.P||typeof a!="number"||(e.P=a);var w=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.Ha&&e.P!==null&&typeof a=="number"&&e.Le<w&&Date.now()-e.Ha>1e3*o&&(o=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.P=Math.max(e.P-(a-o)/2,o+r),e.Ha=Date.now()),i&&e.P!==null&&(f=e.P+r,p=e.P-r),a=n.end-e.h.currentTime,r=0,e.m==hi&&(i=e.h.buffered,0<i.length&&(r=i.end(i.length-1),r=Math.max(g,r-n.end))),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,o=Date.now()-e.O.h,n&&!m&&(m=e.g.streaming.liveSync.minPlaybackRate),n&&m&&o<=i?t!=m&&e.Id(m,!1):f!=null&&g&&a-r>f?(t!=g&&e.Id(g,!1),e.Ha=null):p!=null&&m&&a-r<p?(t!=m&&e.Id(m,!1),e.Ha=null):t!==e.K.qc()&&(e.dd(),e.Ha=Date.now())}}function gy(e){if(e.h){var t=function(i,o){var a=a===void 0?Number.EPSILON:a;if(i===o)a=!0;else{var f=Math.abs(i-o);a=f<=a?!0:a!==Number.EPSILON?Math.abs(f-a)<=Number.EPSILON:!1}return(a||o>i)&&e.ng<i?(e.ng=i,!0):!1},n=e.$a();if(n=n.end-n.start,n=0<n?e.h.currentTime/n:0,!isNaN(n)){if(n*=100,t(0,n))var r=en("started");else t(25,n)?r=en("firstquartile"):t(50,n)?r=en("midpoint"):t(75,n)?r=en("thirdquartile"):(t(100,n)&&(r=en("complete")),e.g&&e.g.playRangeEnd!=1/0&&e.Qc()&&e.h.pause());r&&e.dispatchEvent(r)}}}function Wa(e){try{Nd(e.me,e.i)}catch(n){return Sf(e,n),!1}var t=gn(e.i.variants);return t=e.$.create(t),e.o.setVariants(Array.from(t.values())),!0}function mf(e,t,n,r,i){t=t===void 0?!0:t,n=n===void 0?0:n,r=r===void 0?!1:r,i=i===void 0?!0:i;var o;(o=Wa(e)?e.o.chooseVariant():null)&&Sp(e,o,i,t,n,r)}function Sp(e,t,n,r,i,o){o=o===void 0?!1:o;var a=e.j.j;if(t==a)r&&Va(e.j,t,r,i,!0);else{var f=e.A.h;f.h!=t&&(f.h=t,f.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Va(e.j,t,r,i,o,n),r=null,a&&(r=Jl(a)),t=Jl(t),t.active=!0,n?(n=new Map().set("oldTrack",r).set("newTrack",t),e.M&&Wc(e.M,t,e.vf()),n=en("adaptation",n),wf(e,n)):g1(e,r,t)}}function y1(e,t){var n=Array.from(e.h.audioTracks).find(function(r){return r.enabled});t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),n=fa(n),t=fa(t),g1(e,n,t))}function mI(e,t,n){if(e.g.autoShowText==0)return!1;if(e.g.autoShowText==1)return!0;var r=Et(e.g.preferredTextLanguage);return n=Et(n.language),e.g.autoShowText==2?Eu(n,r):e.g.autoShowText==3?t?(e=Et(t.language),Eu(n,r)&&!Eu(e,n)):!1:(ft("Invalid autoShowText setting!"),!1)}function Zr(e){var t=en("trackschanged");wf(e,t)}function g1(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.M&&Wc(e.M,n,e.vf()),n=en("variantchanged",t),wf(e,n)}function vy(e){var t=en("textchanged");wf(e,t)}function v1(e){var t=en("texttrackvisibility");wf(e,t)}function m1(e){e.g.abr.enabled||Cv(e);var t=new Map().set("newStatus",e.g.abr.enabled);wf(e,en("abrstatuschanged",t))}function wp(e){var t=e.rc().find(function(n){return n.active});t&&e.B&&e.B.setTextLanguage&&e.B.setTextLanguage(t.language)}function Cv(e,t){if(t=t===void 0?!0:t,e.m==Ur){e.pe.stop();for(var n=T(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Wa(e)}}h.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===bo||!navigator.onLine||t==0||!this.i)return!1;if(this.i.variants.some(function(f){var p=f[e.type];return p&&p.id!==e.id&&!f.disabledUntilTime?e.type=="audio"?e.language===p.language:!0:!1})){for(var n=!1,r=!1,i=T(this.i.variants),o=i.next();!o.done;o=i.next()){o=o.value;var a=o[e.type];a&&(a.id===e.id?(o.disabledUntilTime=Date.now()/1e3+t,n=!0):a.trickModeVideo&&a.trickModeVideo.id==e.id&&(r=!0))}return!n&&r?!1:(this.pe.Aa(1),t=this.Eb().video.reduce(function(f,p){return f+p.end-p.start},0),mf(this,!1,t,!0,!1),!0)}return!1};function Sf(e,t){var n,r,i,o;return z(function(a){switch(a.g){case 1:if(e.m==bo)return a.return();if(t.severity===1&&e.A.K++,n=!0,!(e.sa&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){a.u(2);break}return de(a,3),L(a,c(e.j),5);case 5:r=a.h,n=!r,r&&(i=en("mediasourcerecovered"),e.dispatchEvent(i)),Oe(a,2);break;case 3:ke(a),n=!0;case 2:if(!n)return a.return();t.severity===2&&Cv(e,!1),o=en("error",new Map().set("detail",t)),e.dispatchEvent(o),o.defaultPrevented&&(t.handled=!0),oe(a)}})}h.addFont=function(e,t){var n,r,i,o,a;return z(function(f){if(f.g==1)return"fonts"in document&&"FontFace"in x?L(f,document.fonts.ready,3):f.u(0);if(!("entries"in document.fonts))return f.return();for(n=function(p){p=p.entries();for(var g=[],m=p.next();m.done===!1;)g.push(m.value),m=p.next();return g},r=T(n(document.fonts)),i=r.next();!i.done;i=r.next())if(o=i.value,o.family==e&&o.display=="swap")return f.return();a=new FontFace(e,"url("+t+")",{display:"swap"}),document.fonts.add(a),oe(f)})};function Tp(e,t,n,r){r=r===void 0?e:r,e=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(en(t,e))}function S1(e,t,n,r){r=r===void 0?!1:r,t=new Map().set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(en(r?"audiotrackchanged":"mediaqualitychanged",t))}function kv(e,t){if(t=t===void 0?!0:t,!e.h.error)return t?new X(2,3,3016):null;var n=e.h.error.code;return!t&&n==1?null:((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new X(2,3,3016,n,t,e.h.error.message))}function Av(e,t,n){0<t&&(e.T()||e.uh(t)),t=e.getDuration(),n<t&&(e.T()||e.ab(n))}function wf(e,t){z(function(n){if(n.g==1)return L(n,Promise.resolve(),2);e.m!=bo&&e.dispatchEvent(t),oe(n)})}function w1(e){var t=new Set;e=T(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(Et(n.language)):t.add("und");return t}function T1(e){var t=new Map,n=new Map;e=T(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i="und",o=[];r.language&&(i=Et(r.language)),r.type=="variant"?o=r.audioRoles:o=r.roles,o&&o.length||(o=[""]),t.has(i)||t.set(i,new Set),o=T(o);for(var a=o.next();!a.done;a=o.next())a=a.value,t.get(i).add(a),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(a,r.label))}var f=[];return t.forEach(function(p,g){p=T(p);for(var m=p.next();!m.done;m=p.next()){m=m.value;var w=null;n.has(g)&&n.get(g).has(m)&&(w=n.get(g).get(m)),f.push({language:g,role:m,label:w})}}),f}h.Ka=function(){return this.h&&this.h.remote?this.h.remote.state!="disconnected":!1},h.Qc=function(){return!this.h||this.h.ended?!0:this.sa&&!this.T()&&this.h.currentTime>=this.$a().end},Re("shaka.Player",pe),pe.prototype.isEnded=pe.prototype.Qc,pe.prototype.isRemotePlayback=pe.prototype.Ka,pe.prototype.addFont=pe.prototype.addFont,pe.prototype.setVideoContainer=pe.prototype.vh,pe.prototype.getFetchedPlaybackInfo=pe.prototype.fi,pe.prototype.getManifestParserFactory=pe.prototype.ki,pe.prototype.getManifest=pe.prototype.uf,pe.prototype.retryStreaming=pe.prototype.Vf,pe.prototype.setMaxHardwareResolution=pe.prototype.pj,pe.prototype.addChaptersTrack=pe.prototype.Ih,pe.prototype.addThumbnailsTrack=pe.prototype.Kh,pe.prototype.addTextTrackAsync=pe.prototype.Jh,pe.prototype.getStats=pe.prototype.getStats,pe.prototype.getBufferedInfo=pe.prototype.Eb,pe.prototype.getSegmentAvailabilityDuration=pe.prototype.Yd,pe.prototype.getPresentationStartTimeAsDate=pe.prototype.Ng,pe.prototype.getPlayheadTimeAsDate=pe.prototype.oi,pe.prototype.setTextTrackVisibility=pe.prototype.sh,pe.prototype.getChapters=pe.prototype.bi,pe.prototype.getChaptersTracks=pe.prototype.Ig,pe.prototype.isTextTrackVisible=pe.prototype.Df,pe.prototype.selectVariantsByLabel=pe.prototype.kj,pe.prototype.selectTextLanguage=pe.prototype.Xf,pe.prototype.selectAudioLanguage=pe.prototype.lh,pe.prototype.getTextLanguages=pe.prototype.ti,pe.prototype.getAudioLanguages=pe.prototype.Zh,pe.prototype.getTextLanguagesAndRoles=pe.prototype.ui,pe.prototype.getAudioLanguagesAndRoles=pe.prototype.$h,pe.prototype.selectVariantTrack=pe.prototype.Yf,pe.prototype.selectTextTrack=pe.prototype.mh,pe.prototype.getThumbnails=pe.prototype.Og,pe.prototype.getAllThumbnails=pe.prototype.Yh,pe.prototype.getImageTracks=pe.prototype.hi,pe.prototype.getTextTracks=pe.prototype.rc,pe.prototype.getVariantTracks=pe.prototype.sc,pe.prototype.cancelTrickPlay=pe.prototype.dd,pe.prototype.trickPlay=pe.prototype.Id,pe.prototype.getPlaybackRate=pe.prototype.mb,pe.prototype.isBuffering=pe.prototype.Cf,pe.prototype.getKeyStatuses=pe.prototype.Vd,pe.prototype.getActiveSessionsMetadata=pe.prototype.tf,pe.prototype.getExpiration=pe.prototype.ld,pe.prototype.drmInfo=pe.prototype.drmInfo,pe.prototype.keySystem=pe.prototype.keySystem,pe.prototype.isFullyLoaded=pe.prototype.Fi,pe.prototype.goToLive=pe.prototype.Bi,pe.prototype.seekRange=pe.prototype.$a,pe.prototype.isAudioOnly=pe.prototype.Ei,pe.prototype.isInProgress=pe.prototype.vc,pe.prototype.isLive=pe.prototype.T,pe.prototype.getAdManager=pe.prototype.Gg,pe.prototype.getAssetUri=pe.prototype.Nc,pe.prototype.getNetworkingEngine=pe.prototype.vb,pe.prototype.getMediaElement=pe.prototype.ni,pe.prototype.getManifestType=pe.prototype.vf,pe.prototype.getLoadMode=pe.prototype.Kg,pe.prototype.resetConfiguration=pe.prototype.fj,pe.prototype.getBufferFullness=pe.prototype.Hg,pe.prototype.getNonDefaultConfiguration=pe.prototype.Mg,pe.prototype.getConfigurationForLowLatency=pe.prototype.ci,pe.prototype.getConfiguration=pe.prototype.getConfiguration,pe.prototype.configurationForLowLatency=pe.prototype.Vh,pe.prototype.configure=pe.prototype.configure,pe.prototype.releaseAllMutexes=pe.prototype.bj,pe.prototype.destroyAllPreloads=pe.prototype.af,pe.prototype.preload=pe.prototype.preload,pe.prototype.detachAndSavePreload=pe.prototype.Cg,pe.prototype.unloadAndSavePreload=pe.prototype.tj,pe.prototype.load=pe.prototype.load,pe.prototype.updateStartTime=pe.prototype.xj,pe.prototype.unload=pe.prototype.kc,pe.prototype.detach=pe.prototype.detach,pe.prototype.attachCanvas=pe.prototype.Oh,pe.prototype.attach=pe.prototype.Xb,pe.probeSupport=function(e){e=e===void 0?!0:e;var t,n,r,i,o,a,f;return z(function(p){switch(p.g){case 1:if(t={},!e){p.u(2);break}return L(p,Pn(),3);case 3:t=p.h;case 2:var g={};if(zi())for(var m in fi)g[m]=!0;m=T(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var w=m.next();!w.done;w=m.next())w=w.value,g[w]=zi()?!!fi[w]:qs(w);for(n=g,m='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(te(xr)),g={},m=T(m),w=m.next();!w.done;w=m.next()){w=w.value,g[w]=Iu(w)?!0:zi()?bn(w)||!!wu(w):qs(w);var E=w.split(";")[0];g[E]=g[E]||g[w]}return r=g,L(p,oc(),4);case 4:i=p.h,o={manifest:n,media:r,drm:t,hardwareResolution:i},a=Pv;for(f in a)o[f]=a[f]();return p.return(o)}})},pe.isBrowserSupported=function(){if(x.Promise||ft("A Promise implementation or polyfill is required"),!(x.Promise&&x.Uint8Array&&Array.prototype.forEach)||Tt("Trident/"))return!1;var e=yu();return e&&9>e?!1:zi()?!0:qs("application/x-mpegurl")},pe.setAdManagerFactory=function(e){Sy=e},pe.registerSupportPlugin=function(e,t){Pv[e]=t},pe.prototype.destroy=pe.prototype.destroy;var bo=0,my=1,Ur=2,hi=3;pe.LoadMode={DESTROYED:bo,NOT_LOADED:my,MEDIA_SOURCE:Ur,SRC_EQUALS:hi},pe.version="v4.13.0";var x1=["4","13"];rc=new function(e){this.g=e,this.i=Xf,this.h=Yf}(new Wf(Number(x1[0]),Number(x1[1])));var Pv={},Sy=null;function I1(){this.g=[],this.i=this.l=this.j=this.h=0}function SI(e){return e.g.length?e.g.reduce(function(t,n){return t+n},0)/e.g.length:0}function Xe(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new At,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,function(){r.i=!0}),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,function(){r.i=!1})}h=Xe.prototype,h.needsSkipUI=function(){return!1},h.isClientRendering=function(){return!0},h.isUsingAnotherMediaElement=function(){return!0},h.getDuration=function(){return this.g.getDuration()},h.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},h.getRemainingTime=function(){return this.h.getRemainingTime()},h.isPaused=function(){return this.i},h.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},h.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},h.canSkipNow=function(){return this.h.getAdSkippableState()},h.skip=function(){return this.h.skip()},h.pause=function(){return this.h.pause()},h.play=function(){return this.h.resume()},h.getVolume=function(){return this.h.getVolume()},h.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},h.isMuted=function(){return this.h.getVolume()==0},h.isLinear=function(){return this.g.isLinear()},h.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},h.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},h.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},h.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},h.getTitle=function(){return this.g.getTitle()},h.getDescription=function(){return this.g.getDescription()},h.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},h.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},h.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},h.getAdId=function(){return this.g.getAdId()},h.getCreativeAdId=function(){return this.g.getCreativeAdId()},h.getAdvertiserName=function(){return this.g.getAdvertiserName()},h.getMediaUrl=function(){return this.g.getMediaUrl()},h.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},h.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},h.release=function(){this.h=this.g=null},Re("shaka.ads.ClientSideAd",Xe),Xe.prototype.release=Xe.prototype.release,Xe.prototype.getPodIndex=Xe.prototype.getPodIndex,Xe.prototype.getTimeOffset=Xe.prototype.getTimeOffset,Xe.prototype.getMediaUrl=Xe.prototype.getMediaUrl,Xe.prototype.getAdvertiserName=Xe.prototype.getAdvertiserName,Xe.prototype.getCreativeAdId=Xe.prototype.getCreativeAdId,Xe.prototype.getAdId=Xe.prototype.getAdId,Xe.prototype.getVastMediaWidth=Xe.prototype.getVastMediaWidth,Xe.prototype.getVastMediaHeight=Xe.prototype.getVastMediaHeight,Xe.prototype.getVastMediaBitrate=Xe.prototype.getVastMediaBitrate,Xe.prototype.getDescription=Xe.prototype.getDescription,Xe.prototype.getTitle=Xe.prototype.getTitle,Xe.prototype.getPositionInSequence=Xe.prototype.getPositionInSequence,Xe.prototype.getSequenceLength=Xe.prototype.getSequenceLength,Xe.prototype.setMuted=Xe.prototype.setMuted,Xe.prototype.resize=Xe.prototype.resize,Xe.prototype.isLinear=Xe.prototype.isLinear,Xe.prototype.isMuted=Xe.prototype.isMuted,Xe.prototype.setVolume=Xe.prototype.setVolume,Xe.prototype.getVolume=Xe.prototype.getVolume,Xe.prototype.play=Xe.prototype.play,Xe.prototype.pause=Xe.prototype.pause,Xe.prototype.skip=Xe.prototype.skip,Xe.prototype.canSkipNow=Xe.prototype.canSkipNow,Xe.prototype.getTimeUntilSkippable=Xe.prototype.getTimeUntilSkippable,Xe.prototype.isSkippable=Xe.prototype.isSkippable,Xe.prototype.isPaused=Xe.prototype.isPaused,Xe.prototype.getRemainingTime=Xe.prototype.getRemainingTime,Xe.prototype.getMinSuggestedDuration=Xe.prototype.getMinSuggestedDuration,Xe.prototype.getDuration=Xe.prototype.getDuration,Xe.prototype.isUsingAnotherMediaElement=Xe.prototype.isUsingAnotherMediaElement,Xe.prototype.isClientRendering=Xe.prototype.isClientRendering,Xe.prototype.needsSkipUI=Xe.prototype.needsSkipUI;function tn(){}function E1(e,t){var n=[];e=T(Rt(e,"Ad"));for(var r=e.next();!r.done;r=e.next())if((r=dn(r.value,"InLine"))&&(r=dn(r,"Creatives"))){r=T(Rt(r,"Creative"));for(var i=r.next();!i.done;i=r.next()){i=i.value;var o=dn(i,"Linear");if(o&&wI(n,t,o),i=dn(i,"NonLinearAds")){i=Rt(i,"NonLinear"),i=T(i);for(var a=i.next();!a.done;a=i.next())e:{o=n;var f=t,p=a.value,g=dn(p,"StaticResource");if(g)a=g.attributes.creativeType;else{if(g=dn(p,"HTMLResource"),!g)break e;a="text/html"}if(g=er(g)){a==="text/html"&&(g="data:text/html;charset=UTF-8,"+encodeURIComponent(g));var m=rt(p,"width",or)||rt(p,"expandedWidth",or),w=rt(p,"height",or)||rt(p,"expandedHeight",or);if(m||w){var E=null;(p=p.attributes.minSuggestedDuration)&&(E=ii(p)),p=0,f!=null&&(p=f),o.push({id:null,groupId:null,startTime:p,endTime:null,uri:g,mimeType:a,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:E,once:!0,pre:f==null,post:f==1/0,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:m||0,y:w||0}}})}}}}}}return n}function wI(e,t,n){var r=0;t!=null&&(r=t);var i=null;if(n.attributes.skipoffset&&(i=ii(n.attributes.skipoffset),isNaN(i)&&(i=null)),n=dn(n,"MediaFiles")){var o=Rt(n,"MediaFile");for(n=o,o=o.filter(function(f){return f.attributes.delivery=="streaming"}),o.length&&(n=o),n=n.sort(function(f,p){return(parseInt(p.attributes.height,10)||0)-(parseInt(f.attributes.height,10)||0)}),n=T(n),o=n.next();!o.done;o=n.next())if(o=o.value,!o.attributes.apiFramework){var a=er(o);if(a){e.push({id:null,groupId:null,startTime:r,endTime:null,uri:a,mimeType:o.attributes.type||null,isSkippable:i!=null,skipOffset:i,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:t==null,post:t==1/0,timelineRange:!1,loop:!1,overlay:null});break}}}}Re("shaka.ads.Utils",tn),tn.ADS_LOADED="ads-loaded",tn.AD_STARTED="ad-started",tn.AD_FIRST_QUARTILE="ad-first-quartile",tn.AD_MIDPOINT="ad-midpoint",tn.AD_THIRD_QUARTILE="ad-third-quartile",tn.AD_COMPLETE="ad-complete",tn.AD_STOPPED="ad-stopped",tn.AD_SKIPPED="ad-skipped",tn.AD_VOLUME_CHANGED="ad-volume-changed",tn.AD_MUTED="ad-muted",tn.AD_PAUSED="ad-paused",tn.AD_RESUMED="ad-resumed",tn.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",tn.CUEPOINTS_CHANGED="ad-cue-points-changed",tn.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",tn.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",tn.AD_CLICKED="ad-clicked",tn.AD_PROGRESS="ad-progress",tn.AD_BUFFERING="ad-buffering",tn.AD_IMPRESSION="ad-impression",tn.AD_DURATION_CHANGED="ad-duration-changed",tn.AD_CLOSED="ad-closed",tn.AD_LOADED="ad-loaded",tn.ALL_ADS_COMPLETED="all-ads-completed",tn.AD_LINEAR_CHANGED="ad-linear-changed",tn.AD_METADATA="ad-metadata",tn.AD_RECOVERABLE_ERROR="ad-recoverable-error",tn.AD_ERROR="ad-error",tn.AD_BREAK_READY="ad-break-ready",tn.AD_INTERACTION="ad-interaction",tn.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",tn.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",tn.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested";function wy(e,t,n,r,i){var o=this;this.s=e,this.i=t,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=i,this.j=null,this.h=new At,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.s,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.13.0"),this.g=null,this.B=r||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(a){TI(o,a)}),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(a){C1(o,a)}),this.h.D(this.i,"ended",function(){o.m.contentComplete()}),this.h.la(this.i,"play",function(){o.F=!0})}wy.prototype.configure=function(e){this.o=e},wy.prototype.stop=function(){this.g&&this.g.stop(),this.s&&to(this.s)},wy.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()};function C1(e,t){t.getError(),t=new Map().set("originalEvent",t),e.l(new Te("ad-error",t)),xy(e,null),e.l(new Te("ad-cue-points-changed",new Map().set("cuepoints",[])))}function TI(e,t){if(e.l(new Te("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.G))),e.o.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.B),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.D(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.D(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.B);e.l(new Te("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var r=e.g.getCuePoints();if(r.length){t=[],r=T(r);for(var i=r.next();!i.done;i=r.next())t.push({start:i.value,end:null});e.l(new Te("ad-cue-points-changed",new Map().set("cuepoints",t)))}xI(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,Ty(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.D(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,Ty(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in x?(e.A=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,Ty(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.A.observe(e.i)):e.h.D(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,Ty(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.F||e.o.skipPlayDetection?e.g.start():e.h.la(e.i,"play",function(){e.F=!0,e.g.start()})}catch{xy(e,null)}}function Ty(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function xI(e){function t(n,r){n=new Map().set("originalEvent",n),e.l(new Te(r,n))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){C1(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){k1(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,function(n){k1(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){xy(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){xy(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.D(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function k1(e,t){var n=t.getAd();n?(e.j=new Xe(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new Te("ad-content-pause-requested")),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new Te("ad-started",t)),e.j.isLinear()&&(e.s.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):ft("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function xy(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new Te("ad-content-resume-requested")),e.l(new Te("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.s.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function Ye(e,t,n,r,i,o){this.g=e,this.i=t,this.j=(this.h=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.A=n,this.o=r,this.m=i,this.s=o,this.B=t.overlay}h=Ye.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!0},h.isUsingAnotherMediaElement=function(){return this.s},h.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},h.isPaused=function(){return this.g.paused},h.isSkippable=function(){return this.h&&this.l!=null?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.h},h.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},h.canSkipNow=function(){return this.h&&this.getTimeUntilSkippable()==0},h.skip=function(){this.canSkipNow()&&this.A()},h.pause=function(){return this.g.pause()},h.play=function(){return this.g.play()},h.getVolume=function(){return this.g.volume},h.setVolume=function(e){this.g.volume=e},h.isMuted=function(){return this.g.muted},h.isLinear=function(){return this.B==null},h.resize=function(){},h.setMuted=function(e){this.g.muted=e},h.getSequenceLength=function(){return this.o},h.getPositionInSequence=function(){return this.m},h.getTitle=function(){return""},h.getDescription=function(){return""},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return 0},h.getVastMediaWidth=function(){return 0},h.getAdId=function(){return this.i.id||""},h.getCreativeAdId=function(){return""},h.getAdvertiserName=function(){return""},h.getMediaUrl=function(){return this.i.uri},h.getTimeOffset=function(){return 0},h.getPodIndex=function(){return 0},h.release=function(){this.g=null},Re("shaka.ads.InterstitialAd",Ye),Ye.prototype.release=Ye.prototype.release,Ye.prototype.getPodIndex=Ye.prototype.getPodIndex,Ye.prototype.getTimeOffset=Ye.prototype.getTimeOffset,Ye.prototype.getMediaUrl=Ye.prototype.getMediaUrl,Ye.prototype.getAdvertiserName=Ye.prototype.getAdvertiserName,Ye.prototype.getCreativeAdId=Ye.prototype.getCreativeAdId,Ye.prototype.getAdId=Ye.prototype.getAdId,Ye.prototype.getVastMediaWidth=Ye.prototype.getVastMediaWidth,Ye.prototype.getVastMediaHeight=Ye.prototype.getVastMediaHeight,Ye.prototype.getVastMediaBitrate=Ye.prototype.getVastMediaBitrate,Ye.prototype.getDescription=Ye.prototype.getDescription,Ye.prototype.getTitle=Ye.prototype.getTitle,Ye.prototype.getPositionInSequence=Ye.prototype.getPositionInSequence,Ye.prototype.getSequenceLength=Ye.prototype.getSequenceLength,Ye.prototype.setMuted=Ye.prototype.setMuted,Ye.prototype.resize=Ye.prototype.resize,Ye.prototype.isLinear=Ye.prototype.isLinear,Ye.prototype.isMuted=Ye.prototype.isMuted,Ye.prototype.setVolume=Ye.prototype.setVolume,Ye.prototype.getVolume=Ye.prototype.getVolume,Ye.prototype.play=Ye.prototype.play,Ye.prototype.pause=Ye.prototype.pause,Ye.prototype.skip=Ye.prototype.skip,Ye.prototype.canSkipNow=Ye.prototype.canSkipNow,Ye.prototype.getTimeUntilSkippable=Ye.prototype.getTimeUntilSkippable,Ye.prototype.isSkippable=Ye.prototype.isSkippable,Ye.prototype.isPaused=Ye.prototype.isPaused,Ye.prototype.getRemainingTime=Ye.prototype.getRemainingTime,Ye.prototype.getMinSuggestedDuration=Ye.prototype.getMinSuggestedDuration,Ye.prototype.getDuration=Ye.prototype.getDuration,Ye.prototype.isUsingAnotherMediaElement=Ye.prototype.isUsingAnotherMediaElement,Ye.prototype.isClientRendering=Ye.prototype.isClientRendering,Ye.prototype.needsSkipUI=Ye.prototype.needsSkipUI;function $e(e,t,n){this.g=e,this.j=t,this.h=n,this.i=e.overlay==null}h=$e.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!0},h.isUsingAnotherMediaElement=function(){return!1},h.getDuration=function(){return-1},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){return-1},h.isPaused=function(){return!1},h.isSkippable=function(){return!1},h.getTimeUntilSkippable=function(){return 0},h.canSkipNow=function(){return!1},h.skip=function(){},h.pause=function(){},h.play=function(){},h.getVolume=function(){return 1},h.setVolume=function(){},h.isMuted=function(){return!1},h.isLinear=function(){return this.i},h.resize=function(){},h.setMuted=function(){},h.getSequenceLength=function(){return this.j},h.getPositionInSequence=function(){return this.h},h.getTitle=function(){return""},h.getDescription=function(){return""},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return 0},h.getVastMediaWidth=function(){return 0},h.getAdId=function(){return this.g.id||""},h.getCreativeAdId=function(){return""},h.getAdvertiserName=function(){return""},h.getMediaUrl=function(){return this.g.uri},h.getTimeOffset=function(){return 0},h.getPodIndex=function(){return 0},h.release=function(){},Re("shaka.ads.InterstitialStaticAd",$e),$e.prototype.release=$e.prototype.release,$e.prototype.getPodIndex=$e.prototype.getPodIndex,$e.prototype.getTimeOffset=$e.prototype.getTimeOffset,$e.prototype.getMediaUrl=$e.prototype.getMediaUrl,$e.prototype.getAdvertiserName=$e.prototype.getAdvertiserName,$e.prototype.getCreativeAdId=$e.prototype.getCreativeAdId,$e.prototype.getAdId=$e.prototype.getAdId,$e.prototype.getVastMediaWidth=$e.prototype.getVastMediaWidth,$e.prototype.getVastMediaHeight=$e.prototype.getVastMediaHeight,$e.prototype.getVastMediaBitrate=$e.prototype.getVastMediaBitrate,$e.prototype.getDescription=$e.prototype.getDescription,$e.prototype.getTitle=$e.prototype.getTitle,$e.prototype.getPositionInSequence=$e.prototype.getPositionInSequence,$e.prototype.getSequenceLength=$e.prototype.getSequenceLength,$e.prototype.setMuted=$e.prototype.setMuted,$e.prototype.resize=$e.prototype.resize,$e.prototype.isLinear=$e.prototype.isLinear,$e.prototype.isMuted=$e.prototype.isMuted,$e.prototype.setVolume=$e.prototype.setVolume,$e.prototype.getVolume=$e.prototype.getVolume,$e.prototype.play=$e.prototype.play,$e.prototype.pause=$e.prototype.pause,$e.prototype.skip=$e.prototype.skip,$e.prototype.canSkipNow=$e.prototype.canSkipNow,$e.prototype.getTimeUntilSkippable=$e.prototype.getTimeUntilSkippable,$e.prototype.isSkippable=$e.prototype.isSkippable,$e.prototype.isPaused=$e.prototype.isPaused,$e.prototype.getRemainingTime=$e.prototype.getRemainingTime,$e.prototype.getMinSuggestedDuration=$e.prototype.getMinSuggestedDuration,$e.prototype.getDuration=$e.prototype.getDuration,$e.prototype.isUsingAnotherMediaElement=$e.prototype.isUsingAnotherMediaElement,$e.prototype.isClientRendering=$e.prototype.isClientRendering,$e.prototype.needsSkipUI=$e.prototype.needsSkipUI;function A1(e,t,n,r){function i(){if(!o.I&&o.m&&!o.B.Ka()){o.m=o.h.currentTime,o.s&&!o.s.pre&&!o.s.post&&o.m<o.s.startTime&&(o.s=null);var p=Ip(o);p&&Iy(o,p,1,1,Date.now())}}var o=this;if(this.O=null,this.G=e,this.B=t,this.h=n,this.H=null,this.A=!0,this.g=this.h,this.i=r,this.K=new Set,this.F=new Set,this.C=new Map,this.j=new pe,Ov(this),this.L=new At,this.l=new At,this.I=!1,this.V=this.o=this.s=this.m=null,this.L.D(this.h,"timeupdate",function(){if(!(o.I||o.m||o.B.Ka())){o.m=o.h.currentTime;var p=Ip(o,!0);p&&Iy(o,p,1,1,Date.now())}}),this.L.D(this.h,"ended",function(){i()}),this.M=new st(i),"requestVideoFrameCallback"in this.h&&!$u()){var a=this.h,f=function(){i(),a.requestVideoFrameCallback(f)};a.requestVideoFrameCallback(f)}else this.M.Aa(.025);this.P=new st(function(){var p,g,m,w,E,C,P,R,O,j,_;return z(function(K){switch(K.g){case 1:if(!o.F.size||o.m==null){K.u(0);break}if(p=o.B.Kg(),p==bo||p==my)return K.return();g=!1,m=Array.from(o.F),w=o.B.$a(),E=T(m),C=E.next();case 3:if(C.done){K.u(5);break}if(P=C.value,P==o.s){K.u(4);break}if(R=P.endTime||P.startTime,!(1<=w.start-R)){O=P.startTime-o.m,0<O&&10>=O&&!o.C.has(P)&&P1(P)&&o.C.set(P,o.j.preload(P.uri,null,P.mimeType||void 0)),K.u(4);break}if(!o.C.has(P)){K.u(7);break}return L(K,o.C.get(P),8);case 8:(j=K.h)&&j.destroy(),o.C.delete(P);case 7:_=JSON.stringify(P),o.K.has(_)&&o.K.delete(_),o.F.delete(P),P.overlay||(g=!0);case 4:C=E.next(),K.u(3);break;case 5:g&&Ey(o),oe(K)}})}).Aa(1)}h=A1.prototype,h.configure=function(e){this.O=e,Dv(this)};function Dv(e){if(e.G&&e.O&&!e.I){var t=e.O.supportsMultipleMediaElements,n=e.h;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.A==t&&(e.A=!t,e.A?(e.g=e.h,e.H&&(e.H.parentElement&&e.G.removeChild(e.H),e.H=null)):(e.H||(t=document.createElement(e.h.tagName),t.autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgb(0, 0, 0)",t.style.display="none",t.setAttribute("playsinline",""),e.H=t),e.g=e.H))}}h.stop=function(){this.l&&this.l.La(),this.K.clear(),this.F.clear(),this.j.af(),this.C.clear(),this.j.detach(),this.I=!1,this.s=this.m=null,this.A=!0,this.g=this.h,this.H=null,this.G&&to(this.G),this.o&&(this.o.stop(),this.o=null)},h.release=function(){this.stop(),this.L&&this.L.release(),this.l&&this.l.release(),this.M&&(this.M.stop(),this.M=null),this.P&&(this.P.stop(),this.P=null),this.j.destroy()},h.wf=function(){return this.j};function II(e,t){var n;z(function(r){if(r.g==1)return Ov(e),L(r,AI(e,t),2);n=r.h,n.length?xp(e,n):ft("Unsupported HLS interstitial",t),oe(r)})}function EI(e,t){var n=dn(t.eventNode,"OverlayEvent"),r=n.attributes.uri,i=n.attributes.mimeType,o=n.attributes.loop=="true";if(r&&i){var a={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920,y:1080}},f=dn(n,"Viewport"),p=dn(n,"TopLeft");if(n=dn(n,"Size"),f&&p&&n){if(a=rt(f,"x",or),a==null||(f=rt(f,"y",or),f==null))return;var g=rt(p,"x",or);if(g==null||(p=rt(p,"y",or),p==null))return;var m=rt(n,"x",or);if(m==null||(n=rt(n,"y",or),n==null))return;a={viewport:{x:a,y:f},topLeft:{x:g,y:p},size:{x:m,y:n}}}xp(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:r,mimeType:i,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:o,overlay:a}])}}h.addAdUrlInterstitial=function(e){var t=this,n,r,i,o,a,f,p,g,m;return z(function(w){switch(w.g){case 1:return n={type:12},L(w,Rv(t,e,n),2);case 2:if(r=w.h,i=Vl(r,"VAST,vmap:VMAP"),!i)throw new X(2,10,10007);if(o=[],i.tagName=="VAST"){o=E1(i,t.m),w.u(3);break}if(i.tagName!="vmap:VMAP"){w.u(3);break}for(var E=[],C=T(Rt(i,"vmap:AdBreak")),P=C.next();!P.done;P=C.next()){var R=P.value,O=R.attributes.timeOffset;O&&(P=null,O=="start"?P=0:O=="end"?P=1/0:P=ii(O),(R=dn(R,"vmap:AdSource"))&&(R=dn(R,"vmap:AdTagURI"))&&(R=ln(R))&&E.push({time:P,uri:R}))}a=T(E),f=a.next();case 5:if(f.done){w.u(3);break}return p=f.value,L(w,Rv(t,p.uri,n),8);case 8:if(g=w.h,m=Vl(g,"VAST"),!m)throw new X(2,10,10007);o.push.apply(o,te(E1(m,p.time))),f=a.next(),w.u(5);break;case 3:xp(t,o),oe(w)}})};function xp(e,t){var n,r,i,o,a,f,p,g;z(function(m){switch(m.g){case 1:n=!1,r=T(t),i=r.next();case 2:if(i.done){m.u(4);break}if(o=i.value,!o.uri){ft("Missing URL in interstitial",o),m.u(3);break}if(o.mimeType){m.u(5);break}return de(m,6),a=e.j.vb(),L(m,za(o.uri,a,e.B.getConfiguration().streaming.retryParameters),8);case 8:o.mimeType=m.h,Oe(m,5);break;case 6:ke(m);case 5:if(f=o.id||JSON.stringify(o),e.K.has(f)){m.u(3);break}o.loop&&!o.overlay&&ft("Loop is only supported in overlay interstitials",o),o.overlay||(n=!0),e.K.add(f),e.F.add(o),p=!1,o.pre&&e.m==null?p=!0:o.startTime!=0||o.canJump?e.m!=null&&(g=o.startTime-e.m,0<g&&10>=g&&(p=!0)):p=!0,p&&!e.C.has(o)&&P1(o)&&e.C.set(o,e.j.preload(o.uri,null,o.mimeType||void 0));case 3:i=r.next(),m.u(2);break;case 4:n&&Ey(e),oe(m)}})}function Ip(e,t,n){t=t===void 0?!1:t,n=n===void 0?null:n;var r=0,i=null;if(e.F.size&&e.m!=null){var o=e.h.ended,a=Array.from(e.F).sort(function(m,w){return w.startTime-m.startTime}),f=a;for(f=t?a.filter(function(m){return m.pre}):o?a.filter(function(m){return m.post}):a.filter(function(m){return!m.pre&&!m.post}),a=T(f),f=a.next();!f.done;f=a.next()){f=f.value;var p=!1;if(t)p=f.pre;else if(o)p=f.post;else if(!f.pre&&!f.post){var g=e.m-Math.round(1e3*f.startTime)/1e3;0<g&&(1>=g||!f.canJump)&&(p=!(n==null&&e.s&&!e.s.pre&&!e.s.post&&e.s.startTime>=f.startTime))}p&&(!e.s||f.startTime>=e.s.startTime)&&(r==(n||0)?i=f:i&&!f.canJump&&.001<Math.round(1e3*f.startTime)/1e3-Math.round(1e3*i.startTime)/1e3&&(i=f,r=0),r++)}}return i}function Iy(e,t,n,r,i,o){o=o===void 0?0:o,e.s=t,Dv(e),!e.g.parentElement&&e.G&&e.G.appendChild(e.g),r==1&&n==1&&(n=Array.from(e.F).filter(function(a){return t.pre?a.pre==t.pre:t.post?a.post==t.post:.001>Math.abs(a.startTime-t.startTime)}).length),t.once&&(o++,e.F.delete(t),t.overlay||Ey(e)),t.mimeType&&(t.mimeType.startsWith("image/")||t.mimeType==="text/html")?t.overlay?CI(e,t,n,r,o):ft("Unsupported interstitial",t):e.A&&t.overlay?ft("Unsupported interstitial",t):kI(e,t,n,r,i,o)}function CI(e,t,n,r,i){function o(){e.o&&(e.o.stop(),e.o=null),e.G.removeChild(p),e.i(new Te("ad-stopped"));var E=Ip(e,t.pre,r-i);E?(e.l.La(),Iy(e,E,n,++r,Date.now(),i)):e.I=!1}var a=t.overlay,f=t.mimeType=="text/html"?"iframe":"img",p=document.createElement(f);p.style.objectFit="contain",p.style.position="absolute",p.style.border="none",e.i(new Te("ad-started",new Map().set("ad",new $e(t,n,r)))),f=="iframe"?p.src=t.uri:(p.src=t.uri,p.onerror=function(E){e.i(new Te("ad-error",new Map().set("originalEvent",E))),o()});var g=a.viewport,m=a.topLeft;a=a.size,g.x==0&&g.y==0?(p.width=t.overlay.size.x,p.height=t.overlay.size.y,p.style.bottom="10%",p.style.left="0",p.style.right="0",p.style.width="100%",t.overlay.size.y||f!="iframe"||(p.style.height="auto")):(p.style.height=a.y/g.y*100+"%",p.style.left=m.x/g.x*100+"%",p.style.top=m.y/g.y*100+"%",p.style.width=a.x/g.x*100+"%"),e.G.appendChild(p);var w=Date.now();e.o&&e.o.stop(),e.o=new st(function(){t.playoutLimit&&(Date.now()-w)/1e3>t.playoutLimit?(e.i(new Te("ad-complete")),o()):t.endTime&&e.h.currentTime>t.endTime?(e.i(new Te("ad-complete")),o()):e.h.currentTime<t.startTime&&(e.i(new Te("ad-skipped")),o())}),t.playoutLimit&&!t.endTime?e.o.aa(t.playoutLimit):t.endTime&&e.o.Aa(.025)}function kI(e,t,n,r,i,o){var a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q;z(function(F){switch(F.g){case 1:if(a=Date.now(),e.I=!0,!e.A||r!=1){F.u(2);break}return e.i(new Te("ad-content-pause-requested",new Map().set("saveLivePosition",!0))),f=new bt,p=function(Q){return z(function(H){if(H.g==1)return Q.state!="detach"?H.u(0):$u()?L(H,new Promise(function(Z){return new st(Z).aa(.1)}),3):H.u(3);f.resolve(),e.l.bb(e.B,"onstatechange",p),oe(H)})},e.l.D(e.B,"onstatechange",p),L(F,f,2);case 2:return e.A||(e.g.style.display="",t.overlay?(e.g.loop=t.loop,g=t.overlay.viewport,m=t.overlay.topLeft,w=t.overlay.size,e.g.style.height=w.y/g.y*100+"%",e.g.style.left=m.x/g.x*100+"%",e.g.style.top=m.y/g.y*100+"%",e.g.style.width=w.x/g.x*100+"%"):(e.h.pause(),t.resumeOffset!=null&&t.resumeOffset!=0&&(e.h.currentTime+=t.resumeOffset),e.g.loop=!1,e.g.style.height="100%",e.g.style.left="0",e.g.style.top="0",e.g.style.width="100%")),E=!1,C=function(){if(!e.A&&!t.overlay&&t.resumeOffset==null)if(t.timelineRange&&t.endTime&&t.endTime!=1/0)e.h.currentTime!=t.endTime&&(e.h.currentTime=t.endTime);else{var Q=Date.now();e.h.currentTime+=(Q-i)/1e3,i=Q}},P=function(Q){var H,Z;return z(function($){if($.g==1){if(C(),H=Ip(e,t.pre,r-o),Q&&t.groupId)for(;H&&H.groupId==t.groupId;)r++,H=Ip(e,t.pre,r-o);return e.o&&(!t.groupId||H&&H.groupId!=t.groupId)&&(e.o.stop(),e.o=null),H&&!H.overlay?$.u(2):(t.post&&(e.m=null,e.s=null),e.A?L($,e.j.detach(),4):L($,e.j.kc(),4))}$.g!=2&&(e.A&&(Z=t.resumeOffset,Z==null&&(Z=t.timelineRange&&t.endTime&&t.endTime!=1/0?t.endTime-(e.m||0):(Date.now()-i)/1e3),e.i(new Te("ad-content-resume-requested",new Map().set("offset",Z)))),e.i(new Te("ad-stopped")),e.l.La(),e.I=!1,e.A?Ey(e):(e.g.style.display="none",C(),e.h.ended||e.h.play())),Dv(e),H&&(e.i(new Te("ad-stopped")),e.l.La(),Iy(e,H,n,++r,i,o)),oe($)})},R=function(Q){return z(function(H){return E?H.return():(E=!0,e.i(new Te("ad-error",new Map().set("originalEvent",Q))),L(H,P(!1),0))})},O=function(){return z(function(Q){if(Q.g==1)return E?Q.return():(E=!0,L(Q,P(!1),2));e.i(new Te("ad-complete")),oe(Q)})},e.V=function(){return z(function(Q){return E?Q.return():(E=!0,e.i(new Te("ad-skipped")),L(Q,P(!0),0))})},j=new Ye(e.g,t,e.V,n,r,!e.A),e.A||(j.setMuted(e.h.muted),j.setVolume(e.h.volume)),e.i(new Te("ad-started",new Map().set("ad",j))),(_=j.canSkipNow())&&e.i(new Te("ad-skip-state-changed")),e.l.la(e.j,"error",R),e.l.D(e.g,"timeupdate",function(){if(e.g.duration){var Q=j.canSkipNow();_!=Q&&0<j.getRemainingTime()&&0<j.getDuration()&&e.i(new Te("ad-skip-state-changed")),_=Q}}),e.l.la(e.j,"firstquartile",function(){C(),e.i(new Te("ad-first-quartile"))}),e.l.la(e.j,"midpoint",function(){C(),e.i(new Te("ad-midpoint"))}),e.l.la(e.j,"thirdquartile",function(){C(),e.i(new Te("ad-third-quartile"))}),e.l.la(e.j,"complete",O),e.l.D(e.g,"play",function(){e.i(new Te("ad-resumed"))}),e.l.D(e.g,"pause",function(){var Q=e.j.getConfiguration();e.g.currentTime>=Q.playRangeEnd?O():e.i(new Te("ad-paused"))}),e.l.D(e.g,"volumechange",function(){e.g.muted?e.i(new Te("ad-muted")):e.i(new Te("ad-volume-changed"))}),de(F,4),Ov(e),t.startTime&&t.endTime&&t.endTime!=1/0&&t.startTime!=t.endTime&&(K=t.endTime-t.startTime,0<K&&e.j.configure("playRangeEnd",K)),t.playoutLimit&&!e.o&&(e.o=new st(function(){e.V()}).aa(t.playoutLimit),e.j.configure("playRangeEnd",t.playoutLimit)),L(F,e.j.Xb(e.g),6);case 6:return e.C.has(t)?L(F,e.C.get(t),10):L(F,e.j.load(t.uri,null,t.mimeType||void 0),8);case 10:return G=F.h,e.C.delete(t),G?L(F,e.j.load(G),8):L(F,e.j.load(t.uri,null,t.mimeType||void 0),8);case 8:W=(Date.now()-a)/1e3,e.i(new Te("ads-loaded",new Map().set("loadTime",W))),e.A&&e.h.play(),Oe(F,0);break;case 4:if(q=ke(F),!e.I)return F.return();R(q),oe(F)}})}function AI(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e,Ve,yt,pt,ze,Ft,Pt,ot,Xt;return z(function(Ht){switch(Ht.g){case 1:if(n=[],!t||(r=t.values.find(function(lt){return lt.key=="X-ASSET-URI"}),i=t.values.find(function(lt){return lt.key=="X-ASSET-LIST"}),!r&&!i))return Ht.return(n);if(o=null,(a=t.values.find(function(lt){return lt.key=="ID"}))&&(o=a.data),f=o==null?Math.floor(10*t.startTime)/10:t.startTime,(p=t.endTime)&&t.endTime!=1/0&&typeof t.endTime=="number"&&(p=o==null?Math.floor(10*t.endTime)/10:t.endTime),g=t.values.find(function(lt){return lt.key=="X-RESTRICT"}),w=m=!0,g&&g.data&&(E=g.data,m=!E.includes("SKIP"),w=!E.includes("JUMP")),C=m?0:null,(P=t.values.find(function(lt){return lt.key=="X-ENABLE-SKIP-AFTER"}))&&(R=P.data,C=parseFloat(R),isNaN(C)&&(C=m?0:null)),O=null,(j=t.values.find(function(lt){return lt.key=="X-ENABLE-SKIP-FOR"}))&&(_=j.data,O=parseFloat(_),isNaN(C)&&(O=null)),K=null,(G=t.values.find(function(lt){return lt.key=="X-RESUME-OFFSET"}))&&(W=G.data,K=parseFloat(W),isNaN(K)&&(K=null)),q=null,(F=t.values.find(function(lt){return lt.key=="X-PLAYOUT-LIMIT"}))&&(Q=F.data,q=parseFloat(Q),isNaN(q)&&(q=null)),$=Z=H=!1,(ie=t.values.find(function(lt){return lt.key=="CUE"}))&&(fe=ie.data,H=fe.includes("ONCE"),Z=fe.includes("PRE"),$=fe.includes("POST")),re=!1,(ae=t.values.find(function(lt){return lt.key=="X-TIMELINE-OCCUPIES"}))?(me=ae.data,re=me.includes("RANGE")):!G&&e.B.T()&&(re=!Z&&!$),r){if(ye=r.data,!ye)return Ht.return(n);n.push({id:o,groupId:null,startTime:f,endTime:p,uri:ye,mimeType:null,isSkippable:m,skipOffset:C,skipFor:O,canJump:w,resumeOffset:K,playoutLimit:q,once:H,pre:Z,post:$,timelineRange:re,loop:!1,overlay:null}),Ht.u(2);break}if(!i){Ht.u(2);break}return Ce=i.data,Ce?(de(Ht,4),_e={type:11},L(Ht,Rv(e,Ce,_e),6)):Ht.return(n);case 6:for(Ve=Ht.h,yt=Jt(Ve),pt=JSON.parse(yt),(ze=pt["SKIP-CONTROL"])&&(Ft=ze["ENABLE-SKIP-AFTER"],typeof Ft=="number"&&(C=parseFloat(Ft),isNaN(Ft)&&(C=m?0:null)),Pt=ze["ENABLE-SKIP-FOR"],typeof Pt=="number"&&(O=parseFloat(Pt),isNaN(Pt)&&(O=null))),ot=0;ot<pt.ASSETS.length;ot++)Xt=pt.ASSETS[ot],Xt.URI&&n.push({id:o+"_shaka_asset_"+ot,groupId:o,startTime:f,endTime:p,uri:Xt.URI,mimeType:null,isSkippable:m,skipOffset:C,skipFor:O,canJump:w,resumeOffset:K,playoutLimit:q,once:H,pre:Z,post:$,timelineRange:re,loop:!1,overlay:null});Oe(Ht,2);break;case 4:ke(Ht);case 2:return Ht.return(n)}})}function Ey(e){for(var t=[],n=T(e.F),r=n.next(),i={};!r.done;i={Wb:void 0},r=n.next())r=r.value,r.overlay||(i.Wb={start:r.startTime,end:null},r.pre?(i.Wb.start=0,i.Wb.end=null):r.post?(i.Wb.start=-1,i.Wb.end=null):r.timelineRange&&(i.Wb.end=r.endTime),t.find(function(o){return function(a){return o.Wb.start==a.start&&o.Wb.end==a.end}}(i))||t.push(i.Wb));e.i(new Te("ad-cue-points-changed",new Map().set("cuepoints",t)))}function Ov(e){e.j.configure(e.B.Mg()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),Yr(e.B.vb(),e.j.vb())}function Rv(e,t,n){var r,i,o;return z(function(a){return a.g==1?(r=wt([t],ki()),i=e.B.vb().request(7,r,n),L(a,i.promise,2)):(o=a.h,a.return(o.data))})}function P1(e){return(e=e.mimeType)?!e.startsWith("image/")&&e!=="text/html":!0}function Ge(e,t,n,r,i){this.h=e,this.j=ii(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}h=Ge.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!1},h.isUsingAnotherMediaElement=function(){return!1},h.getDuration=function(){return this.h.durationInSeconds},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},h.isPaused=function(){return this.g.paused},h.isSkippable=function(){return typeof this.j=="number"},h.getTimeUntilSkippable=function(){if(typeof this.j!="number")return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},h.canSkipNow=function(){return this.getTimeUntilSkippable()==0},h.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},h.pause=function(){return this.g.pause()},h.play=function(){return this.g.play()},h.getVolume=function(){return this.g.volume},h.setVolume=function(e){this.g.volume=e},h.isMuted=function(){return this.g.muted},h.isLinear=function(){return this.o},h.resize=function(){},h.setMuted=function(e){this.g.muted=e},h.getSequenceLength=function(){return this.l?this.l:1},h.getPositionInSequence=function(){return this.i?this.i:1},h.getTitle=function(){return this.h.adTitle},h.getDescription=function(){return""},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return 0},h.getVastMediaWidth=function(){return 0},h.getAdId=function(){return this.h.adId},h.getCreativeAdId=function(){return this.h.creativeId},h.getAdvertiserName=function(){return""},h.getMediaUrl=function(){return null},h.getTimeOffset=function(){return 0},h.getPodIndex=function(){return 0},h.release=function(){this.l=this.i=this.g=this.h=null},Re("shaka.ads.MediaTailorAd",Ge),Ge.prototype.release=Ge.prototype.release,Ge.prototype.getPodIndex=Ge.prototype.getPodIndex,Ge.prototype.getTimeOffset=Ge.prototype.getTimeOffset,Ge.prototype.getMediaUrl=Ge.prototype.getMediaUrl,Ge.prototype.getAdvertiserName=Ge.prototype.getAdvertiserName,Ge.prototype.getCreativeAdId=Ge.prototype.getCreativeAdId,Ge.prototype.getAdId=Ge.prototype.getAdId,Ge.prototype.getVastMediaWidth=Ge.prototype.getVastMediaWidth,Ge.prototype.getVastMediaHeight=Ge.prototype.getVastMediaHeight,Ge.prototype.getVastMediaBitrate=Ge.prototype.getVastMediaBitrate,Ge.prototype.getDescription=Ge.prototype.getDescription,Ge.prototype.getTitle=Ge.prototype.getTitle,Ge.prototype.getPositionInSequence=Ge.prototype.getPositionInSequence,Ge.prototype.getSequenceLength=Ge.prototype.getSequenceLength,Ge.prototype.setMuted=Ge.prototype.setMuted,Ge.prototype.resize=Ge.prototype.resize,Ge.prototype.isLinear=Ge.prototype.isLinear,Ge.prototype.isMuted=Ge.prototype.isMuted,Ge.prototype.setVolume=Ge.prototype.setVolume,Ge.prototype.getVolume=Ge.prototype.getVolume,Ge.prototype.play=Ge.prototype.play,Ge.prototype.pause=Ge.prototype.pause,Ge.prototype.skip=Ge.prototype.skip,Ge.prototype.canSkipNow=Ge.prototype.canSkipNow,Ge.prototype.getTimeUntilSkippable=Ge.prototype.getTimeUntilSkippable,Ge.prototype.isSkippable=Ge.prototype.isSkippable,Ge.prototype.isPaused=Ge.prototype.isPaused,Ge.prototype.getRemainingTime=Ge.prototype.getRemainingTime,Ge.prototype.getMinSuggestedDuration=Ge.prototype.getMinSuggestedDuration,Ge.prototype.getDuration=Ge.prototype.getDuration,Ge.prototype.isUsingAnotherMediaElement=Ge.prototype.isUsingAnotherMediaElement,Ge.prototype.isClientRendering=Ge.prototype.isClientRendering,Ge.prototype.needsSkipUI=Ge.prototype.needsSkipUI;function Ep(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.s=[],this.G="",this.O=!0,this.H="",this.o=new At}Ep.prototype.stop=function(){for(var e=T(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.bb(t.target,t.type,t.listener);Tf(this),this.m=[],this.s=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},Ep.prototype.release=function(){this.stop(),this.o&&this.o.release()},Ep.prototype.onManifestUpdated=function(e){this.I=e,this.G!=""&&(DI(this,this.G,this.O),this.O=!1)},Ep.prototype.getCuePoints=function(){for(var e=[],t=T(this.j),n=t.next();!n.done;n=t.next()){n=T(n.value.ads);for(var r=n.next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds})}return e};function PI(e,t,n){var r,i,o,a,f,p,g,m,w,E,C,P;z(function(R){if(R.g==1)return r={type:7},i=wt([t],ki()),i.method="POST",n&&(o=JSON.stringify(n),i.body=ri(o)),a=e.K.request(7,i,r),de(R,2),L(R,a.promise,4);if(R.g!=2){if(f=R.h,p=Jt(f.data),g=JSON.parse(p),g.manifestUrl&&g.trackingUrl)m=new pn(t),w=new pn(g.trackingUrl),e.G=m.resolve(w).toString(),E=Date.now()/1e3,C=E-e.P,e.i(new Te("ads-loaded",new Map().set("loadTime",C))),P=new pn(g.manifestUrl),e.l.resolve(m.resolve(P).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return Oe(R,0)}if(ke(R),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,R.return();e.l.resolve(e.H),e.l=null,oe(R)})}function DI(e,t,n){var r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_;z(function(K){if(K.g==1)return r={type:8},i=wt([t],ki()),o=e.K.request(7,i,r),de(K,2),L(K,o.promise,4);if(K.g!=2){if(a=K.h,f=[],p=Jt(a.data),g=JSON.parse(p),0<g.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(g.avails)){for(e.j=g.avails,m=T(e.j),w=m.next();!w.done;w=m.next())for(E=w.value,C=T(E.nonLinearAdsList),P=C.next();!P.done;P=C.next())for(R=P.value,O=T(R.nonLinearAdList),j=O.next();!j.done;j=O.next())_=j.value,OI(e,_);f=e.getCuePoints(),e.i(new Te("ad-cue-points-changed",new Map().set("cuepoints",f)))}}else e.j.length&&e.i(new Te("ad-cue-points-changed",new Map().set("cuepoints",f))),Tf(e),e.j=[];return n&&(e.I||0<f.length)&&RI(e),Oe(K,0)}ke(K),oe(K)})}function OI(e,t){var n,r,i,o,a,f,p,g;z(function(m){if(m.g==1)return!t.staticResource||(n=D1(t),e.F.get(n))?m.return():(r={type:9},i=wt([t.staticResource],ki()),o=e.K.request(7,i,r),de(m,2),e.F.set(n,[]),L(m,o.promise,4));if(m.g!=2)return a=m.h,f=Jt(a.data),p=JSON.parse(f),g=p.apps,e.F.set(n,g),Oe(m,0);ke(m),e.F.delete(n),oe(m)})}function D1(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function RI(e){R1(e),e.I||(O1(e),e.o.D(e.h,"seeked",function(){O1(e)}),e.o.D(e.h,"ended",function(){Tf(e)})),e.o.D(e.h,"timeupdate",function(){R1(e)})}function O1(e){var t=e.h.currentTime;if(t!=0&&e.A==null){for(var n,r,i=T(e.j),o=i.next();!o.done;o=i.next()){o=o.value;for(var a=T(o.ads),f=a.next();!f.done;f=a.next())if(f=f.value,!r)f.startTimeInSeconds<t&&(r=f,n=o);else if(f.startTimeInSeconds<t&&f.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=f,n=o;break}}n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function R1(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,o=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.s.includes("firstQuartile")?(e.s.push("firstQuartile"),jr(e,"firstQuartile")):t>=i&&!e.s.includes("midpoint")?(e.s.push("midpoint"),jr(e,"midpoint")):t>=o&&!e.s.includes("thirdQuartile")&&(e.s.push("thirdQuartile"),jr(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&jr(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&Tf(e)}if(!e.g||!e.g.isLinear()){e:for(r=T(e.j),i=r.next();!i.done&&(i=i.value,!(e.g&&e.g.isLinear()));i=r.next())for(o=0;o<i.ads.length;o++){var a=i.ads[o],f=a.startTimeInSeconds+a.durationInSeconds;if(a.startTimeInSeconds<=t&&f>t){if(e.M.includes(a.adId)){if(e.h.ended)continue;e.h.currentTime=f;break e}Tf(e),e.L=i,e.g=new Ge(a,o+1,i.ads.length,!0,e.h),e.C=a,o===0&&jr(e,"breakStart"),M1(e);break}}if(!e.g){for(r=T(e.j),i=r.next();!i.done&&(i=i.value,!e.g);i=r.next())for(o=0;o<i.nonLinearAdsList.length;o++)if(a=i.nonLinearAdsList[o],a.nonLinearAdList.length){f=i.startTimeInSeconds;var p=e.F.get(D1(a.nonLinearAdList[0]));if(f<=t&&p&&p.length){Tf(e),f=e,p=T(p);for(var g=p.next();!g.done;g=p.next())if(g=g.value,g.data.source.length){var m=document.createElement("img");m.src=g.data.source[0].url,m.style.top=(g.placeholder.top||0)+"%",m.style.height=100-(g.placeholder.top||0)+"%",m.style.left=(g.placeholder.left||0)+"%",m.style.maxWidth=100-(g.placeholder.left||0)+"%",m.style.objectFit="contain",m.style.position="absolute",f.B.appendChild(m)}e.L=i,e.g=new Ge(a,o+1,i.ads.length,!1,e.h),e.C=a,o===0&&jr(e,"breakStart"),M1(e);break}}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function Tf(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;t!==void 0&&t?jr(e,"skip"):jr(e,"complete"),t=T(e.m);for(var n=t.next();!n.done;n=t.next())n=n.value,e.o.bb(n.target,n.type,n.listener);e.m=[],e.s=[],t=e.g.getPositionInSequence(),n=e.g.getSequenceLength(),t===n&&jr(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function M1(e){var t=!1;e.h.paused?t=!0:(jr(e,"impression"),jr(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&jr(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||jr(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(jr(e,"impression"),jr(e,"start"),t=!1):jr(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){jr(e,"pause")}});for(var n=T(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function jr(e,t){var n=e.C.trackingEvents.find(function(o){return o.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(o){return o.eventType==t})),n){var r={type:10};n=T(n.beaconUrls);for(var i=n.next();!i.done;i=n.next())(i=i.value)&&i!=""&&(i=wt([i],ki()),i.method="POST",e.K.request(7,i,r))}switch(t){case"impression":e.i(new Te("ad-impression"));break;case"start":e.i(new Te("ad-started",new Map().set("ad",e.g)));break;case"mute":e.i(new Te("ad-muted"));break;case"unmute":e.i(new Te("ad-volume-changed"));break;case"resume":e.i(new Te("ad-resumed"));break;case"pause":e.i(new Te("ad-paused"));break;case"firstQuartile":e.i(new Te("ad-first-quartile"));break;case"midpoint":e.i(new Te("ad-midpoint"));break;case"thirdQuartile":e.i(new Te("ad-third-quartile"));break;case"complete":e.i(new Te("ad-complete")),e.i(new Te("ad-stopped"));break;case"skip":e.i(new Te("ad-skipped")),e.i(new Te("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new Te("ad-skip-state-changed"))}}function Je(e,t){this.g=e,this.i=null,this.h=t}h=Je.prototype,h.needsSkipUI=function(){return!0},h.isClientRendering=function(){return!1},h.isUsingAnotherMediaElement=function(){return!1},h.getDuration=function(){return this.i?this.i.duration:-1},h.getMinSuggestedDuration=function(){return this.getDuration()},h.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},h.isPaused=function(){return this.h.paused},h.isSkippable=function(){return this.g.isSkippable()},h.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},h.canSkipNow=function(){return this.getTimeUntilSkippable()==0},h.skip=function(){this.h.currentTime+=this.getRemainingTime()},h.pause=function(){return this.h.pause()},h.play=function(){return this.h.play()},h.getVolume=function(){return this.h.volume},h.setVolume=function(e){this.h.volume=e},h.isMuted=function(){return this.h.muted},h.isLinear=function(){return!0},h.resize=function(){},h.setMuted=function(e){this.h.muted=e},h.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},h.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},h.getTitle=function(){return this.g.getTitle()},h.getDescription=function(){return this.g.getDescription()},h.getVastMediaBitrate=function(){return 0},h.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},h.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},h.getAdId=function(){return this.g.getAdId()},h.getCreativeAdId=function(){return this.g.getCreativeAdId()},h.getAdvertiserName=function(){return this.g.getAdvertiserName()},h.getMediaUrl=function(){return null},h.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},h.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},h.release=function(){this.h=this.i=this.g=null},Re("shaka.ads.ServerSideAd",Je),Je.prototype.release=Je.prototype.release,Je.prototype.getPodIndex=Je.prototype.getPodIndex,Je.prototype.getTimeOffset=Je.prototype.getTimeOffset,Je.prototype.getMediaUrl=Je.prototype.getMediaUrl,Je.prototype.getAdvertiserName=Je.prototype.getAdvertiserName,Je.prototype.getCreativeAdId=Je.prototype.getCreativeAdId,Je.prototype.getAdId=Je.prototype.getAdId,Je.prototype.getVastMediaWidth=Je.prototype.getVastMediaWidth,Je.prototype.getVastMediaHeight=Je.prototype.getVastMediaHeight,Je.prototype.getVastMediaBitrate=Je.prototype.getVastMediaBitrate,Je.prototype.getDescription=Je.prototype.getDescription,Je.prototype.getTitle=Je.prototype.getTitle,Je.prototype.getPositionInSequence=Je.prototype.getPositionInSequence,Je.prototype.getSequenceLength=Je.prototype.getSequenceLength,Je.prototype.setMuted=Je.prototype.setMuted,Je.prototype.resize=Je.prototype.resize,Je.prototype.isLinear=Je.prototype.isLinear,Je.prototype.isMuted=Je.prototype.isMuted,Je.prototype.setVolume=Je.prototype.setVolume,Je.prototype.getVolume=Je.prototype.getVolume,Je.prototype.play=Je.prototype.play,Je.prototype.pause=Je.prototype.pause,Je.prototype.skip=Je.prototype.skip,Je.prototype.canSkipNow=Je.prototype.canSkipNow,Je.prototype.getTimeUntilSkippable=Je.prototype.getTimeUntilSkippable,Je.prototype.isSkippable=Je.prototype.isSkippable,Je.prototype.isPaused=Je.prototype.isPaused,Je.prototype.getRemainingTime=Je.prototype.getRemainingTime,Je.prototype.getMinSuggestedDuration=Je.prototype.getMinSuggestedDuration,Je.prototype.getDuration=Je.prototype.getDuration,Je.prototype.isUsingAnotherMediaElement=Je.prototype.isUsingAnotherMediaElement,Je.prototype.isClientRendering=Je.prototype.isClientRendering,Je.prototype.needsSkipUI=Je.prototype.needsSkipUI;function L1(e,t,n,r){var i=this;this.s=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new At,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,e),this.i(new Te("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){MI(i,o)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),i.m=new Je(o,i.l),i.A&&(i.m.i=i.A),i.i(new Te("ad-started",new Map().set("ad",i.m))),i.s.setAttribute("ad-active","true")}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){i.s.removeAttribute("ad-active");var o=i.l.currentTime;i.o&&i.o>o&&(i.l.currentTime=i.o,i.o=null)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){i.A=o.getStreamData().adProgressData,i.m&&(i.m.i=i.A)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){i.i(new Te("ad-first-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){i.i(new Te("ad-midpoint"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){i.i(new Te("ad-third-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){i.i(new Te("ad-complete")),i.i(new Te("ad-stopped")),i.s.removeAttribute("ad-active"),i.m=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){i.i(new Te("ad-skipped")),i.i(new Te("ad-stopped"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var a=o.getStreamData();o=[],a=T(a.cuepoints);for(var f=a.next();!f.done;f=a.next())f=f.value,o.push({start:f.start,end:f.end});i.C=o,i.i(new Te("ad-cue-points-changed",new Map().set("cuepoints",o)))})}h=L1.prototype,h.configure=function(){},h.stop=function(){this.B="",this.o=null,this.C=[]},h.release=function(){this.stop(),this.h&&this.h.release()},h.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},h.getCuePoints=function(){return this.C};function MI(e,t){e.i(new Te("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var r=e.g.previousCuePointForStreamTime(n);r&&!r.played&&(e.o=n,e.l.currentTime=r.start)}})}function Le(){xt.call(this),this.h=this.i=this.j=this.g=null,this.m=new I1,this.o=navigator.language,this.l=null}mt(Le,xt),h=Le.prototype,h.setLocale=function(e){this.o=e},h.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},h.initInterstitial=function(e,t,n){var r=this;this.g&&this.g.release(),this.g=new A1(e,t,n,function(i){return Cy(r,i)}),this.g.configure(this.l)},h.initClientSide=function(e,t,n){var r=this;if(!x.google||!google.ima||!google.ima.AdsLoader)throw new X(2,10,1e4);this.j&&this.j.release(),this.j=new wy(e,t,this.o,n,function(i){return Cy(r,i)}),this.j.configure(this.l)},h.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),xt.prototype.release.call(this)},h.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new Te("ad-stopped")),this.dispatchEvent(new Te("ad-content-attach-requested")),this.m=new I1},h.requestClientSideAds=function(e){if(!this.j)throw new X(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},h.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new X(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},h.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new Ep(e,t,n,function(i){return Cy(r,i)})},h.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new X(1,10,10005);var r=this.i;return n=n===void 0?"":n,r.l?e=Promise.reject(new X(1,10,10004)):(r.l=new bt,PI(r,e,t),r.H=n||"",r.P=Date.now()/1e3,e=r.l),e},h.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new X(1,10,10005);var t=this.i;t.G=e,t.i(new Te("ads-loaded",new Map().set("loadTime",0)))},h.initServerSide=function(e,t){var n=this;if(!x.google||!google.ima||!google.ima.dai)throw new X(2,10,10002);this.h&&this.h.release(),this.h=new L1(e,t,this.o,function(r){return Cy(n,r)}),this.h.configure(this.l)},h.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.h)throw new X(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&ft('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.13.0",n=this.h,n.j?e=Promise.reject(new X(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new bt,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},h.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new X(1,10,10003);(e.mpt||e.mpv)&&ft('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.13.0",this.h.g.replaceAdTagParameters(e)},h.getServerSideCuePoints=function(){return Ot("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},h.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},h.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:SI(e),started:e.h,playedCompletely:e.j,skipped:e.l,errors:e.i}},h.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},h.onDashTimedMetadata=function(e){this.h&&e.schemeIdUri=="urn:google:dai:2018"&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},h.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},h.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},h.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&II(this.g,n))},h.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var r=n.schemeIdUri;if(r=="urn:mpeg:dash:event:alternativeMPD:insert:2025"||r=="urn:mpeg:dash:event:alternativeMPD:replace:2025"){if(this.g||this.initInterstitial(null,e,t),this.g){for(e=this.g,t=T(n.eventNode.children),r=t.next();!r.done;r=t.next())if(r=r.value,r.tagName=="AlternativeMPD"&&(r=r.attributes.uri)){var i=r;break}i?(t=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:replace:2025",r=n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:insert:2025",(t||r)&&xp(e,[{id:n.id,groupId:null,startTime:n.startTime,endTime:n.endTime,uri:i,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:r?0:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:t&&!r,loop:!1,overlay:null}])):ft("Unsupported MPD alternate",n)}}else r=="urn:mpeg:dash:event:2012"&&n.eventNode&&dn(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&EI(this.g,n))}},h.addCustomInterstitial=function(e){if(!this.g)throw new X(1,10,10006);xp(this.g,[e])},h.addAdUrlInterstitial=function(e){if(!this.g)throw new X(1,10,10006);return this.g.addAdUrlInterstitial(e)},h.getInterstitialPlayer=function(){if(!this.g)throw new X(1,10,10006);return this.g.wf()};function Cy(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;break;case"ad-complete":e.m.j++;break;case"ad-skipped":e.m.l++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}Re("shaka.ads.AdManager",Le),Le.prototype.getInterstitialPlayer=Le.prototype.getInterstitialPlayer,Le.prototype.addAdUrlInterstitial=Le.prototype.addAdUrlInterstitial,Le.prototype.addCustomInterstitial=Le.prototype.addCustomInterstitial,Le.prototype.onDASHInterstitialMetadata=Le.prototype.onDASHInterstitialMetadata,Le.prototype.onHLSInterstitialMetadata=Le.prototype.onHLSInterstitialMetadata,Le.prototype.onCueMetadataChange=Le.prototype.onCueMetadataChange,Le.prototype.onHlsTimedMetadata=Le.prototype.onHlsTimedMetadata,Le.prototype.onDashTimedMetadata=Le.prototype.onDashTimedMetadata,Le.prototype.onManifestUpdated=Le.prototype.onManifestUpdated,Le.prototype.getStats=Le.prototype.getStats,Le.prototype.getCuePoints=Le.prototype.getCuePoints,Le.prototype.getServerSideCuePoints=Le.prototype.getServerSideCuePoints,Le.prototype.replaceServerSideAdTagParameters=Le.prototype.replaceServerSideAdTagParameters,Le.prototype.requestServerSideStream=Le.prototype.requestServerSideStream,Le.prototype.initServerSide=Le.prototype.initServerSide,Le.prototype.addMediaTailorTrackingUrl=Le.prototype.addMediaTailorTrackingUrl,Le.prototype.requestMediaTailorStream=Le.prototype.requestMediaTailorStream,Le.prototype.initMediaTailor=Le.prototype.initMediaTailor,Le.prototype.updateClientSideAdsRenderingSettings=Le.prototype.updateClientSideAdsRenderingSettings,Le.prototype.requestClientSideAds=Le.prototype.requestClientSideAds,Le.prototype.onAssetUnload=Le.prototype.onAssetUnload,Le.prototype.release=Le.prototype.release,Le.prototype.initClientSide=Le.prototype.initClientSide,Le.prototype.initInterstitial=Le.prototype.initInterstitial,Le.prototype.configure=Le.prototype.configure,Le.prototype.setLocale=Le.prototype.setLocale,Le.ADS_LOADED="ads-loaded",Le.AD_STARTED="ad-started",Le.AD_FIRST_QUARTILE="ad-first-quartile",Le.AD_MIDPOINT="ad-midpoint",Le.AD_THIRD_QUARTILE="ad-third-quartile",Le.AD_COMPLETE="ad-complete",Le.AD_STOPPED="ad-stopped",Le.AD_SKIPPED="ad-skipped",Le.AD_VOLUME_CHANGED="ad-volume-changed",Le.AD_MUTED="ad-muted",Le.AD_PAUSED="ad-paused",Le.AD_RESUMED="ad-resumed",Le.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Le.CUEPOINTS_CHANGED="ad-cue-points-changed",Le.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Le.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Le.AD_CLICKED="ad-clicked",Le.AD_PROGRESS="ad-progress",Le.AD_BUFFERING="ad-buffering",Le.AD_IMPRESSION="ad-impression",Le.AD_DURATION_CHANGED="ad-duration-changed",Le.AD_CLOSED="ad-closed",Le.AD_LOADED="ad-loaded",Le.ALL_ADS_COMPLETED="all-ads-completed",Le.AD_LINEAR_CHANGED="ad-linear-changed",Le.AD_METADATA="ad-metadata",Le.AD_RECOVERABLE_ERROR="ad-recoverable-error",Le.AD_ERROR="ad-error",Le.AD_BREAK_READY="ad-break-ready",Le.AD_INTERACTION="ad-interaction",Le.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Le.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Le.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Sy=function(){return new Le};function b1(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof Te){var r={};for(i in n)(t=n[i])&&typeof t=="object"?i=="detail"&&(r[i]=t):i in Event||(r[i]=t);return r}if(n instanceof Error){var i=new Set(["name","message","stack"]);for(r in n)i.add(r);for(r=T(Object.getOwnPropertyNames(n)),t=r.next();!t.done;t=r.next())i.add(t.value);for(r={},i=T(i),t=i.next();!t.done;t=i.next())t=t.value,r[t]=n[t];n={__type__:"Error",contents:r}}else if(n instanceof TimeRanges){for(i={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=T(Lu(n)),r=n.next();!r.done;r=n.next())r=r.value,t=r.end,i.start.push(r.start),i.end.push(t);n=i}else n=ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT===1?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function Mv(e){return JSON.parse(e,function(t,n){if(n=="NaN")var r=NaN;else if(n=="-Infinity")r=-1/0;else if(n=="Infinity")r=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")r=LI(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")r=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(r in t)n[r]=t[r];r=n}else r=n;return r})}function LI(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var N1="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),bI="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Lv=["loop","playbackRate"],NI=["pause","play"],ky={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10,getManifestType:10,isFullyLoaded:1,isEnded:1},Ay={getConfiguration:4,getConfigurationForLowLatency:4,getStats:5,getTextTracks:2,getVariantTracks:2},bv={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20,getSegmentAvailabilityDuration:20},_1=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],U1=[["isTextTrackVisible","setTextTrackVisibility"]],_I="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure configurationForLowLatency getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),UI=["attach","attachCanvas","detach","load","unload"];function Nv(e,t,n,r,i,o,a){var f=this;this.G=e,this.K=a,this.l=new st(t),this.L=n,this.s=!1,this.A=r,this.F=i,this.M=o,this.h=this.m=!1,this.I="",this.o=null,this.B=function(){return _v(f)},this.C=function(p,g){switch(p=Mv(g),p.type){case"event":var m=p.targetName,w=xo(p.event);f.A(m,w);break;case"update":m=p.update;for(w in m){p=f.g[w]||{};for(var E in m[w])p[E]=m[w][E]}f.s&&(f.L(),f.s=!1);break;case"asyncComplete":if(w=p.id,E=p.error,p=f.i[w],delete f.i[w],p)if(E){w=new X(E.severity,E.category,E.code);for(m in E)w[m]=E[m];p.reject(w)}else p.resolve()}},this.g={video:{},player:{}},this.H=0,this.i={},this.j=null,kp.add(this)}h=Nv.prototype,h.destroy=function(){return kp.delete(this),Uv(this),No&&B1(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.h=this.m=!1,this.C=this.B=this.j=this.i=this.g=this.o=null,Promise.resolve()},h.ob=function(){return this.h},h.Rf=function(){return this.I},h.init=function(){if(this.G.length)if(x.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.Hb();var e=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=T(kp),r=n.next();!r.done;r=n.next()){r=r.value;var i=t;r.j=new bt,r.s=!0,Py(r,i)}},function(t){for(var n=T(kp),r=n.next();!r.done;r=n.next())r=r.value,Dy=t=="available",r.l.Hb()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),Dy&&this.l.aa(BI),(e=No)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new bt,this.s=!0,Py(this,e)):No=null}else x.__onGCastApiAvailable!==V1&&(Oy=x.__onGCastApiAvailable||null,x.__onGCastApiAvailable=V1)},h.Zf=function(e){this.o=e,this.h&&Cp(this,{type:"appData",appData:this.o})},h.cast=function(){var e=this;return z(function(t){if(!e.m)throw new X(1,8,8e3);if(!Dy)throw new X(1,8,8001);if(e.h)throw new X(1,8,8002);return e.j=new bt,chrome.cast.requestSession(function(n){return Py(e,n)},function(n){return j1(e,n)}),L(t,e.j,0)})};function jI(e){e.h&&chrome.cast.requestSession(function(t){return Py(e,t)},function(t){return j1(e,t)})}h.Mc=function(){if(this.h){if(Uv(this),No){B1(this);try{No.stop(function(){},function(){})}catch{}No=null}_v(this)}},h.get=function(e,t){var n=this;if(e=="video"){if(NI.includes(t))return function(){return n.hh.apply(n,[e,t].concat(te(It.apply(0,arguments))))}}else if(e=="player"){if(bv[t]&&!this.get("player","isLive")())return function(){};if(_I.includes(t))return function(){return n.hh.apply(n,[e,t].concat(te(It.apply(0,arguments))))};if(UI.includes(t))return function(){return n.cj.apply(n,[e,t].concat(te(It.apply(0,arguments))))};if(ky[t]||Ay[t])return function(){return n.g[e][t]}}return this.g[e][t]},h.set=function(e,t,n){this.g[e][t]=n,Cp(this,{type:"set",targetName:e,property:t,value:n})};function Py(e,t){var n=e.M();No=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),_v(e),Cp(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function j1(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new X(2,8,n,t))}h.hh=function(e,t){Cp(this,{type:"call",targetName:e,methodName:t,args:It.apply(2,arguments)})},h.cj=function(e,t){var n=It.apply(2,arguments),r=new bt,i=this.H.toString();this.H++,this.i[i]=r;try{Cp(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(o){r.reject(o)}return r};function B1(e){var t=No;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function _v(e){var t=No?No.status=="connected":!1;if(e.h&&!t){e.F();for(var n in e.g)e.g[n]={};Uv(e)}e.h=t,e.I=t?No.receiver.friendlyName:"",e.l.Hb()}function Uv(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new X(1,7,7e3))}}function Cp(e,t){t=b1(t);var n=No;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},zf)}catch(r){throw t=new X(2,8,8005,r),n=new Te("error",new Map().set("detail",t)),e.A("player",n),e.Mc(),t}}var BI=.02,Dy=!1,No=null,Oy=null,kp=new Set;function V1(e){if(Oy?x.__onGCastApiAvailable=Oy:delete x.__onGCastApiAvailable,Oy=null,e)for(var t=T(kp),n=t.next();!n.done;n=t.next())n.value.init();typeof x.__onGCastApiAvailable=="function"&&x.__onGCastApiAvailable(e)}function Dn(e,t,n,r){r=r===void 0?!1:r,xt.call(this);var i=this;this.i=e,this.h=t,this.m=this.o=this.j=this.s=this.l=null,this.C=n,this.B=r,this.A=new Map,this.g=new Nv(n,function(){return H1(i)},function(){return q1(i)},function(o,a){return G1(i,o,a)},function(){return z1(i)},function(){return K1(i)},r),VI(this)}mt(Dn,xt),h=Dn.prototype,h.destroy=function(e){return e&&this.g.Mc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,xt.prototype.release.call(this),Promise.all(e)},h.zi=function(){return this.l},h.wf=function(){return this.s},h.Ph=function(){return this.g.m&&Dy},h.ob=function(){return this.g.ob()},h.Rf=function(){return this.g.Rf()},h.cast=function(){var e=this;return z(function(t){return t.g==1?L(t,e.g.cast(),2):e.h?L(t,e.h.kc(),0):t.return()})},h.Zf=function(e){this.g.Zf(e)},h.rj=function(){jI(this.g)},h.Mc=function(){this.g.Mc()},h.Qh=function(e,t){t=t===void 0?!1:t;var n=this;return z(function(r){if(r.g==1)return e==n.C&&t==n.B?r.return():(n.C=e,n.B=t,n.g.Mc(),L(r,n.g.destroy(),2));n.g=null,n.g=new Nv(e,function(){return H1(n)},function(){return q1(n)},function(i,o){return G1(n,i,o)},function(){return z1(n)},function(){return K1(n)},t),n.g.init(),oe(r)})};function VI(e){e.g.init(),e.m=new At;for(var t=T(N1),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,function(o){e.g.ob()||(o=xo(o),e.j.dispatchEvent(o))});for(var r in Di)e.m.D(e.h,Di[r],function(o){e.g.ob()||e.o.dispatchEvent(o)});e.l={},t={};for(var i in e.i)t={ud:t.ud},t.ud=i,Object.defineProperty(e.l,t.ud,{configurable:!1,enumerable:!0,get:function(o){return function(){return KI(e,o.ud)}}(t),set:function(o){return function(a){var f=o.ud;e.g.ob()?e.g.set("video",f,a):e.i[f]=a}}(t)});e.s={},F1(e,function(o){Object.defineProperty(e.s,o,{configurable:!1,enumerable:!0,get:function(){return HI(e,o)}})}),FI(e),e.j=new xt,e.j.xe=e.l,e.o=new xt,e.o.xe=e.s}function FI(e){var t=new Map;F1(e,function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)})}function F1(e,t){function n(p){return p=="constructor"||typeof r[p]!="function"?!1:!i.has(p)}var r=e.h,i=new Set,o;for(o in r)n(o)&&(i.add(o),t(o,r[o]));for(e=Object.getPrototypeOf(r),o=Object.getPrototypeOf({});e&&e!=o;){for(var a=T(Object.getOwnPropertyNames(e)),f=a.next();!f.done;f=a.next())f=f.value,n(f)&&(i.add(f),t(f,r[f]));e=Object.getPrototypeOf(e)}}function K1(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Nc(),startTime:null};e.i.pause();for(var n=T(Lv),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),n=T(_1),r=n.next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(n=T(U1),r=n.next();!r.done;r=n.next())i=r.value,r=i[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function H1(e){var t=new Te("caststatuschanged");e.dispatchEvent(t)}function q1(e){var t=new Te(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function z1(e){for(var t=T(_1),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime"));var a;(r=e.g.get("player","getTextTracks")())&&r.length&&(a=r.find(function(g){return g.active}));var f=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var p={};for(n=T(Lv),r=n.next();!r.done;r=n.next())r=r.value,p[r]=e.g.get("video",r);t.then(function(){if(e.i){for(var g=T(Lv),m=g.next();!m.done;m=g.next())m=m.value,e.i[m]=p[m];for(g=T(U1),m=g.next();!m.done;m=g.next()){var w=m.value;m=w[1],w=e.g.get("player",w[0])(),e.h[m](w)}e.h.sh(f),a&&e.h.Xf(a.language,a.roles,a.forced),e.i.autoplay=o,i&&e.i.play()}},function(g){g=new Map().set("detail",g),g=new Te("error",g),e.h.dispatchEvent(g)})}function KI(e,t){if(t=="addEventListener")return function(r,i,o){return e.j.addEventListener(r,i,o)};if(t=="removeEventListener")return function(r,i,o){return e.j.removeEventListener(r,i,o)};if(e.g.ob()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.ob()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function HI(e,t){if(e.A.has(t)&&(t=e.A.get(t)),t=="addEventListener")return function(n,r,i){return e.o.addEventListener(n,r,i)};if(t=="removeEventListener")return function(n,r,i){return e.o.removeEventListener(n,r,i)};if(t=="getMediaElement")return function(){return e.l};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.vb()};if(t=="getDrmEngine")return function(){return e.h.C};if(t=="getAdManager")return function(){return e.h.Gg()};if(t=="setVideoContainer")return function(n){return e.h.vh(n)};if(e.g.ob()){if(t=="getManifest"||t=="drmInfo")return function(){return ft(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return ft(t+"() does not work while casting!"),Promise.resolve()}}return e.g.ob()&&Object.keys(e.g.g.video).length==0&&(ky[t]||Ay[t])||!e.g.ob()?e.h[t].bind(e.h):e.g.get("player",t)}function G1(e,t,n){e.g.ob()&&(t=="video"?e.j.dispatchEvent(n):t=="player"&&e.o.dispatchEvent(n))}Re("shaka.cast.CastProxy",Dn),Dn.prototype.changeReceiverId=Dn.prototype.Qh,Dn.prototype.forceDisconnect=Dn.prototype.Mc,Dn.prototype.suggestDisconnect=Dn.prototype.rj,Dn.prototype.setAppData=Dn.prototype.Zf,Dn.prototype.cast=Dn.prototype.cast,Dn.prototype.receiverName=Dn.prototype.Rf,Dn.prototype.isCasting=Dn.prototype.ob,Dn.prototype.canCast=Dn.prototype.Ph,Dn.prototype.getPlayer=Dn.prototype.wf,Dn.prototype.getVideo=Dn.prototype.zi,Dn.prototype.destroy=Dn.prototype.destroy;function yr(e,t,n,r){xt.call(this);var i=this;this.g=e,this.h=t,this.j=new At,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(o){return o},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.s=this.l=null,this.C=new st(function(){jv(i)}),qI(this)}mt(yr,xt),h=yr.prototype,h.isConnected=function(){return this.G},h.Gi=function(){return this.o},h.nj=function(e){this.i=e},h.Uh=function(){this.i=null},h.oj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},h.mj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},h.lj=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},h.destroy=function(){var e=this,t,n;return z(function(r){if(r.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.C&&(e.C.stop(),e.C=null),e.g=null,e.H=null,e.F=null,e.G=!1,e.o=!0,e.l=null,e.s=null,xt.prototype.release.call(e),L(r,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),oe(r)})};function qI(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return W1(e)},t.onSenderDisconnected=function(){return W1(e)},t.onSystemVolumeChanged=function(){var i=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();i&&Al(e,{type:"update",update:{video:{volume:i.level,muted:i.muted}}},e.l),Al(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.s=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.s.onMessage=function(i){return WI(e,i)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(i){return GI(e,i)},t.start(),t=T(N1);for(var n=t.next();!n.done;n=t.next())e.j.D(e.g,n.value,function(i){return X1(e,"video",i)});for(var r in Di)e.j.D(e.h,Di[r],function(i){return X1(e,"player",i)});e.j.D(e.g,"loadeddata",function(){e.B=!0}),e.j.D(e.h,"loading",function(){e.o=!1,xf(e)}),e.j.D(e.g,"playing",function(){e.o=!1,xf(e)}),e.j.D(e.g,"pause",function(){xf(e)}),e.j.D(e.h,"unloading",function(){e.o=!0,xf(e)}),e.j.D(e.g,"ended",function(){new st(function(){e.g&&e.g.ended&&(e.o=!0,xf(e))}).aa(YI)})}function W1(e){e.m=0,e.A=!0,e.G=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,xf(e)}function xf(e){var t;z(function(n){if(n.g==1)return L(n,Promise.resolve(),2);if(!e.h)return n.return();t=new Te("caststatuschanged"),e.dispatchEvent(t),Y1(e)||Pl(e),oe(n)})}function zI(e,t,n){var r,i,o,a,f,p,g,m,w,E;z(function(C){switch(C.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,de(C,5),L(C,e.h.load(t.manifest,t.startTime),7)):L(C,Promise.resolve(),3);case 7:Oe(C,3);break;case 5:return a=ke(C),f=new Map().set("detail",a),p=new Te("error",f),e.h&&e.h.dispatchEvent(p),C.return();case 3:if(!e.h)return C.return();for(g in t.video)m=t.video[g],e.g[g]=m;for(w in t.playerAfterLoad)E=t.playerAfterLoad[w],e.h[w](E);e.g.autoplay=o,t.manifest&&(e.g.play(),Pl(e)),oe(C)}})}function X1(e,t,n){e.h&&(jv(e),Al(e,{type:"event",targetName:t,event:n},e.l))}function jv(e){e.C.aa(XI);for(var t={video:{},player:{}},n=T(bI),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];if(e.h.T())for(var i in bv)e.m%bv[i]==0&&(t.player[i]=e.h[i]());for(var o in ky)e.m%ky[o]==0&&(t.player[o]=e.h[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Al(e,{type:"update",update:t},e.l);for(var a in Ay)e.m%Ay[a]==0&&(t={player:{}},t.player[a]=e.h[a](),Al(e,{type:"update",update:t},e.l));e.B&&(e.m+=1),Y1(e)}function Y1(e){return e.A&&(e.g.duration||e.h.T())?(Bv(e),e.A=!1,!0):!1}function Bv(e,t){var n={contentId:e.h.Nc(),streamType:e.h.T()?"LIVE":"BUFFERED",contentType:""};e.h.T()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Pl(e,t===void 0?0:t,n)}function GI(e,t){var n=Mv(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,zI(e,n.initState,n.appData),jv(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,r=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),i=="volume"){t.setSystemVolumeLevel(n);break}else if(i=="muted"){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":r=e.H[n.targetName],r[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,r=="player"&&i=="load"&&(e.m=0,e.B=!1);var o=n.id,a=t.senderId;t=e.H[r],n=t[i].apply(t,n.args),r=="player"&&i=="load"&&(n=n.then(function(){e.A=!0})),n.then(function(){return $1(e,a,o,null)},function(f){return $1(e,a,o,f)})}}function WI(e,t){var n=Mv(t.data);switch(n.type){case"PLAY":e.g.play(),Pl(e);break;case"PAUSE":e.g.pause(),Pl(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),r&&r=="PLAYBACK_START"?(e.g.play(),Pl(e)):r&&r=="PLAYBACK_PAUSE"&&(e.g.pause(),Pl(e));break;case"STOP":e.h.kc().then(function(){e.h&&Pl(e)});break;case"GET_STATUS":Bv(e,Number(n.requestId));break;case"VOLUME":r=n.volume,t=r.level,r=r.muted;var i=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),r!=null&&(e.g.muted=r),i==e.g.volume&&o==e.g.muted||Pl(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),o=n.autoplay||!0,e.F(t.customData),o&&(e.g.autoplay=!0),e.h.load(i,r).then(function(){e.h&&Bv(e)}).catch(function(a){var f="LOAD_FAILED";a.category==7&&a.code==7e3&&(f="LOAD_CANCELLED"),Al(e,{requestId:Number(n.requestId),type:f},e.s)});break;default:Al(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.s)}}function $1(e,t,n,r){e.h&&Al(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function Al(e,t,n,r){e.G&&(e=b1(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Pl(e,t,n){n=n===void 0?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?$I:e.h.Cf()?QI:e.g.paused?ZI:JI,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),Al(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[r]},e.s)}Re("shaka.cast.CastReceiver",yr),yr.prototype.destroy=yr.prototype.destroy,yr.prototype.setContentArtist=yr.prototype.lj,yr.prototype.setContentImage=yr.prototype.mj,yr.prototype.setContentTitle=yr.prototype.oj,yr.prototype.clearContentMetadata=yr.prototype.Uh,yr.prototype.setContentMetadata=yr.prototype.nj,yr.prototype.isIdle=yr.prototype.Gi,yr.prototype.isConnected=yr.prototype.isConnected;var XI=.5,YI=5,$I="IDLE",JI="PLAYING",QI="BUFFERING",ZI="PAUSED";function J1(e,t,n,r,i){if(r>=i)return null;for(var o=-1,a=-1,f=0;f<n.length;f++)if(n[f].some(function(G){return G!=null&&G.g.trim()!=""})){o=f;break}for(f=n.length-1;0<=f;f--)if(n[f].some(function(G){return G!=null&&G.g.trim()!=""})){a=f;break}if(o===-1||a===-1)return null;for(var p=f=!1,g="white",m="black",w=Vv(r,i,f,p,g,m);o<=a;o++){for(var E=n[o],C=-1,P=-1,R=0;R<E.length;R++)if(E[R]!=null&&E[R].g.trim()!==""){C=R;break}for(R=E.length-1;0<=R;R--)if(E[R]!=null&&E[R].g.trim()!==""){P=R;break}if(C===-1||P===-1)E=Q1(r,i),e.nestedCues.push(E);else{for(;C<=P;C++)if(R=E[C]){var O=R.l,j=R.i,_=R.j,K=R.h;(O!=f||j!=p||_!=g||K!=m)&&(w.payload&&e.nestedCues.push(w),w=Vv(r,i,O,j,_,K),f=O,p=j,g=_,m=K),w.payload+=R.g}else w.payload+=" ";w.payload&&e.nestedCues.push(w),o!==a&&(w=Q1(r,i),e.nestedCues.push(w)),w=Vv(r,i,f,p,g,m)}}return e.nestedCues.length?{cue:e,stream:t}:null}function Vv(e,t,n,r,i,o){return e=new qt(e,t,""),n&&e.textDecoration.push(Bo),r&&(e.fontStyle=zl),e.color=i,e.backgroundColor=o,e}function Q1(e,t){return e=new qt(e,t,""),e.lineBreak=!0,e}function Z1(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function Fv(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.s=this.A=null,Ap(this)}function Ry(e,t,n){var r="CC"+((e.C<<1|e.B)+1),i=new qt(t,n,"");i.lineInterpretation=1;var o=nS.get(e.g);return o&&(i.line=o),e.s!=null&&e.A!=null&&(i.position=10+Math.min(70,10*e.s)+2.5*e.A),(t=J1(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(o=nS.get(e.g+3-t.cue.nestedCues.length))&&(i.line=o),t}function Ap(e){Dl(e,0,15),e.g=1}function If(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=tS.has(n)?tS.get(n):String.fromCharCode(n);break;case 1:r=eE.get(n);break;case 2:e.i[e.g].pop(),r=tE.get(n);break;case 3:e.i[e.g].pop(),r=nE.get(n)}r&&e.i[e.g].push(new Z1(r,e.m,e.j,e.o,e.l))}}function eS(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map(function(o){return o});else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map(function(o){return o})}function Dl(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var tS=new Map([[39,""],[42,""],[92,""],[92,""],[94,""],[95,""],[96,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),eE=new Map([[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57," "],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),tE=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,"*"],[41,"'"],[42,""],[43,""],[44,""],[45,""],[46,""],[47,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),nE=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,""],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),nS=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function My(e,t){this.h=0,this.o=new Fv(e,t),this.i=new Fv(e,t),this.g=this.j=new Fv(e,t),this.l=0,this.m=null}function Kv(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==3&&e.h!==4&&(i=Ry(r,e.l,n),n=e.i,n.g=0<n.h?n.h:0,Dl(n,0,15),n=e.j,n.g=0<n.h?n.h:0,Dl(n,0,15),r.g=15),e.h=3,r.h=t,i}function rS(e){e.h=1,e.g=e.j,e.g.h=0}function iS(e){Si("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var rE="black green blue cyan red yellow magenta black".split(" "),oS="white green blue cyan red yellow magenta white_italics".split(" ");function Hv(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.s="black",qv(this)}function qv(e){e.i=[];for(var t=0;16>t;t++)e.i.push(zv())}function zv(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function xs(e,t){uS(e)&&(e.i[e.h][e.g]=new Z1(t,e.C,e.A,e.s,e.B),e.g++)}function uS(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}Hv.prototype.isVisible=function(){return this.l};function iE(e){for(var t=0,n=1;16>n;n++,t++)e.i[t]=e.i[n];for(n=0;1>n;n++,t++)e.i[t]=zv()}function Xa(e,t,n){var r=new qt(e.j,t,"");r.textAlign=e.F===0?"left":e.F===1?"right":So;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?zn:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=J1(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}Hv.prototype.display=function(){this.l=!0};function oE(){this.i=[],this.h=null,this.g=0}function uE(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new Pp(e.h)),e.h=null,e.g=0))}function Pp(e){this.g=0,this.h=e}Pp.prototype.ta=function(){return this.g<this.h.length},Pp.prototype.xa=function(){return this.g};function Vn(e){if(!e.ta())throw new X(2,2,3e3);return e.h[e.g++]}Pp.prototype.skip=function(e){if(this.g+e>this.h.length)throw new X(2,2,3e3);this.g+=e},Pp.prototype.jh=function(e){if(0>this.g-e)throw new X(2,2,3e3);this.g-=e};function lE(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function sE(e,t,n,r){if(!e.g)return[];if(n==24)return n=Vn(t).value,r=Vn(t).value,n=function(o){return o.map(function(a){return("0"+(a&255).toString(16)).slice(-2)}).join("")}([n,r]),xs(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var i=null;switch(n){case 8:!uS(t)||0>=t.g&&0>=t.h||(0>=t.g?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(i=Xa(t,r,e.i)),t.h+1>=t.o?iE(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(i=Xa(t,r,e.i)),t.i[t.h]=zv(),t.g=0;break;case 12:t.isVisible()&&(i=Xa(t,r,e.i)),qv(t),t.h=0,t.g=0}return i?[i]:[]}function aE(e,t,n,r){if(128<=n&&135>=n)r=n&7,e.h[r]&&(e.g=e.h[r]);else{if(n===136){n=Vn(t).value,t=[],n=T(Dp(e,n));for(var i=n.next();!i.done;i=n.next()){if(i=e.h[i.value],i.isVisible()){var o=Xa(i,r,e.i);o&&t.push(o)}qv(i)}return t}if(n===137)for(t=Vn(t).value,t=T(Dp(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=r),n.display();else{if(n===138){for(n=Vn(t).value,t=null,n=T(Dp(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()&&(t=Xa(i,r,e.i)),i.l=!1;return t?[t]:[]}if(n===139){for(n=Vn(t).value,t=null,n=T(Dp(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()?t=Xa(i,r,e.i):i.j=r,i.l=!i.l;return t?[t]:[]}if(n===140)return t=Vn(t).value,lS(e,t,r);if(n===143)return r=lS(e,255,r),sS(e),r;if(n===144)t.skip(1),r=Vn(t).value,e.g&&(e.g.A=0<(r&128),e.g.C=0<(r&64));else if(n===145)r=Vn(t).value,n=Vn(t).value,t.skip(1),e.g&&(t=aS((n&48)>>4,(n&12)>>2,n&3),e.g.B=aS((r&48)>>4,(r&12)>>2,r&3),e.g.s=t);else if(n===146)r=Vn(t).value,t=Vn(t).value,e.g&&(e=e.g,e.h=r&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),r=Vn(t).value,t.skip(1),e.g&&(e.g.F=r&3);else if(152<=n&&159>=n){n=(n&15)-8,i=e.h[n]!==null,i||(o=new Hv(n,e.i),o.j=r,e.h[n]=o),r=Vn(t).value,o=Vn(t).value;var a=Vn(t).value,f=Vn(t).value,p=Vn(t).value;t=Vn(t).value,i&&(t&7)===0||(t=e.h[n],t.h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.s="black"),t=e.h[n],t.l=0<(r&32),t.L=o&127,t.H=a,t.G=(f&240)>>4,t.K=0<(o&128),t.o=(f&15)+1,t.m=(p&63)+1,e.g=e.h[n]}}}return[]}function Dp(e,t){for(var n=[],r=0;8>r;r++)(t&1)===1&&e.h[r]&&n.push(r),t>>=1;return n}function lS(e,t,n){var r=[];t=T(Dp(e,t));for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=e.h[i];o.isVisible()&&(o=Xa(o,n,e.i))&&r.push(o),e.h[i]=null}return r}function sS(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function aS(e,t,n){var r={0:0,1:0,2:1,3:1};return e=r[e],t=r[t],n=r[n],cE[e<<2|t<<1|n]}var cS=new Map([[32," "],[33,""],[37,""],[42,""],[44,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[57,""],[58,""],[60,""],[61,""],[63,""],[118,""],[119,""],[120,""],[121,""],[122,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),cE="black blue green cyan red magenta yellow white".split(" ");function Ef(){this.h=[],this.g=[],this.i=new oE,this.l=0,this.m=new Map([["CC1",new My(0,0)],["CC2",new My(0,1)],["CC3",new My(1,0)],["CC4",new My(1,1)]]),this.s=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,Gv(this)}Ef.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Gv(this),e=T(this.j.values());for(var t=e.next();!t.done;t=e.next())sS(t.value)};function Gv(e){e.o=0,e.s=0;for(var t=T(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=0,n.g=n.j,n.m=null,Ap(n.i),Ap(n.j),Ap(n.o);e.B=!0}Ef.prototype.extract=function(e,t){if(this.B){for(var n=T(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(e=new Mt(e,0),!(8>e.getLength())&&e.U()===181&&e.ma()===49&&e.R()===1195456820&&e.U()===3&&(n=e.U(),(n&64)!==0))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.U(),o=(i&4)>>2,a=e.U(),f=e.U();o&&(i&=3,i===0||i===1?this.h.push({pts:t,type:i,lb:a,Ib:f,order:this.h.length}):(this.g.push({pts:t,type:i,value:a,order:this.g.length}),this.g.push({pts:t,type:2,value:f,order:this.g.length})))}},Ef.prototype.decode=function(){function e(i,o){return i.pts-o.pts||i.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=T(this.h),r=n.next();!r.done;r=n.next())(r=fE(this,r.value))&&t.push(r);for(n=T(this.g),r=n.next();!r.done;r=n.next())uE(this.i,r.value);for(n=T(this.i.i),r=n.next();!r.done;r=n.next())r=dE(this,r.value),t.push.apply(t,te(r));return this.i.i=[],this.h=[],this.g=[],t};function fE(e,t){var n=t.type;if((t.lb&112)===16){var r=t.lb>>3&1;n===0?e.o=r:e.s=r}if(r="CC"+((n<<1|(n?e.s:e.o))+1),n=e.m.get(r),t.lb===255&&t.Ib===255||!t.lb&&!t.Ib||!fS(t.lb)||!fS(t.Ib))return 45<=++e.l&&Gv(e),null;e.l=0,t.lb&=127,t.Ib&=127;var i=t.lb;if(1<=i&&15>=i||!t.lb&&!t.Ib)return null;if(i=null,(t.lb&112)===16)e:{if(e.A.add(r),r=t.lb,e=t.Ib,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,(r&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(r&7)<<1|e>>5&1],r="white",i=!1;var o=null,a=95<e?e-96:e-64;13>=a?r=oS[Math.floor(a/2)]:15>=a?i=!0:o=Math.floor((a-16)/2),e=(e&1)===1,n.h!==4&&(a=n.g,n.h===3&&t!==a.g&&(n=1+t-a.h,eS(a,n,1+a.g-a.h,a.h),Dl(a,0,n-1),Dl(a,t+1,15-t)),a.g=t,a.m=e,a.j=i,a.l=r,a.s=o,a.o="black")}else if((r&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",If(n.g,0,32),r=!1,t=oS[(e&14)>>1],t==="white_italics"&&(t="white",r=!0),n.g.m=(e&1)===1,n.g.j=r,n.g.l=t;else if((r&247)===16&&(e&240)===32||(r&247)===23&&(e&255)===45)t="black",(r&7)===0&&(t=rE[(e&14)>>1]),n.g.o=t;else if((r&247)===17&&(e&240)===48)If(n.g,1,e);else if((r&246)===18&&(e&224)===32)If(n.g,r&1?3:2,e);else{if((r&246)===20&&(e&240)===32){switch(e=t.pts,r=null,t.Ib){case 32:rS(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:r=Kv(n,2,e);break;case 38:r=Kv(n,3,e);break;case 39:r=Kv(n,4,e);break;case 40:If(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:Ap(n.o),iS(n);break;case 43:iS(n);break;case 44:t=n.i,r=null,n.h!==4&&(r=Ry(t,n.l,e)),Dl(t,0,15);break;case 45:t=n.g,n.h!==3?r=null:(r=Ry(t,n.l,e),i=t.g-t.h+1,eS(t,i-1,i,t.h),Dl(t,0,i-1),Dl(t,t.g,15-t.g),n.l=e);break;case 46:Dl(n.j,0,15);break;case 47:t=null,n.h!==4&&(t=Ry(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,rS(n),n.l=e,r=t}i=r;break e}(r==23||r==31)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Ib,If(n.g,0,t.lb),If(n.g,0,e);return i}function dE(e,t){var n=[];try{for(;t.ta();){var r=Vn(t).value,i=(r&224)>>5,o=r&31;if(i===7&&o!=0&&(i=Vn(t).value&63),i!=0){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new lE(i));for(var a=e.j.get(i),f=t.xa();t.xa()-f<o;){i=a;var p=t,g=Vn(p),m=g.value,w=g.pts;if(m===16){var E=Vn(p);m=m<<16|E.value}if(0<=m&&31>=m)var C=sE(i,p,m,w);else if(128<=m&&159>=m)C=aE(i,p,m,w);else{if(4096<=m&&4127>=m)i=p,p=m&255,8<=p&&15>=p?i.skip(1):16<=p&&23>=p?i.skip(2):24<=p&&31>=p&&i.skip(3);else if(4224<=m&&4255>=m)i=p,p=m&255,128<=p&&135>=p?i.skip(4):136<=p&&143>=p&&i.skip(5);else if(32<=m&&127>=m)p=m,i.g&&(p===127?xs(i.g,""):xs(i.g,String.fromCharCode(p)));else if(160<=m&&255>=m)i.g&&xs(i.g,String.fromCharCode(m));else if(4128<=m&&4223>=m){if(p=m&255,i.g)if(cS.has(p)){var P=cS.get(p);xs(i.g,P)}else xs(i.g,"_")}else 4256<=m&&4351>=m&&i.g&&((m&255)!=160?xs(i.g,"_"):xs(i.g,"[CC]"));C=[]}n.push.apply(n,te(C))}}}}catch(R){if(R instanceof X&&R.code===3e3)Si("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw R}return n}function fS(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}Ef.prototype.getStreams=function(){return Array.from(this.A)},Re("shaka.cea.CeaDecoder",Ef),ho=function(){return new Ef};function dS(e){for(var t=[],n=e,r=e=0;r<n.length;)e==2&&n[r]==3?(e=0,n=[].concat(te(n)),n.splice(r,1),n=new Uint8Array(n)):n[r]==0?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;e[r]==255;)n+=255,r++;n+=e[r++];for(var i=0;e[r]==255;)i+=255,r++;i+=e[r++],n==4&&t.push(e.subarray(r,r+i)),r+=i}return t}function Ly(){this.j=new Map,this.i=this.h=0,this.g=Wv}Ly.prototype.init=function(e){function t(o){o=o.name,o in by&&(n.g=by[o])}var n=this,r=[],i=[];if(new Bt().box("moov",it).box("mvex",it).S("trex",function(o){var a=o.reader;a.skip(4),a.skip(4),o=a.R(),a=a.R(),n.h=o,n.i=a}).box("trak",it).S("tkhd",function(o){var a=o.reader;o=o.version,o==1?(a.skip(8),a.skip(8)):(a.skip(4),a.skip(4));var f=a.R();o==1?a.skip(8):a.skip(4),a.skip(4),a.skip(8),a.skip(2),a.skip(2),a.skip(2),a.skip(2),a.skip(36),a.ma(),a.ma(),a.ma(),a.ma(),r.push(f)}).box("mdia",it).S("mdhd",function(o){o=Aa(o.reader,o.version),i.push(o.timescale)}).box("minf",it).box("stbl",it).S("stsd",Eo).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",cr).box("sinf",it).box("frma",function(o){o=zd(o.reader).codec,o in by&&(n.g=by[o])}).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new X(2,2,2010);this.g==Wv&&ft("Unable to determine bitstream format for CEA parsing!"),r.forEach(function(o,a){n.j.set(o,i[a])})},Ly.prototype.parse=function(e){var t=this;if(this.g==Wv)return[];var n=[],r=0,i=[];return new Bt().box("moof",function(o){r=o.start,i=[],it(o)}).box("traf",function(o){i.push({baseMediaDecodeTime:null,jd:t.h,Sd:t.i,bh:[],timescale:9e4}),it(o)}).S("trun",function(o){var a=i[i.length-1];o=Hd(o.reader,o.version,o.flags),a.bh.push(o)}).S("tfhd",function(o){var a=i[i.length-1];o=Vh(o.reader,o.flags),a.jd=o.jd||t.h,a.Sd=o.Sd||t.i,o=o.trackId,t.j.has(o)&&(a.timescale=t.j.get(o))}).S("tfdt",function(o){var a=i[i.length-1];o=ka(o.reader,o.version),a.baseMediaDecodeTime=o.baseMediaDecodeTime}).box("mdat",function(o){for(var a=r-o.start-8,f=o.reader.xa(),p=T(i),g=p.next();!g.done;g=p.next()){if(g=g.value,g.baseMediaDecodeTime===null)throw ft("Unable to find base media decode time for CEA captions!"),new X(2,2,2010);o.reader.seek(f),pE(t,o.reader,g.baseMediaDecodeTime,g.timescale,g.jd,g.Sd,a,g.bh,n)}}).parse(e,!1),n};function pE(e,t,n,r,i,o,a,f,p){var g=0,m=o,w=f.map(function(P){return P.kh});for(w=[].concat.apply([],te(w)),w.length&&(m=w[0].sampleSize||o),t.skip(a+f[0].Xh);t.ta();){a=t.R();var E=t.U(),C=null;switch(C=!1,f=1,e.g){case Op:C=E&31,C=C==6;break;case Rp:f=2,t.skip(1),C=E>>1&63,C=C==39||C==40;break;case Mp:f=2,t.skip(1),C=E>>1&63,C=C==23||C==24;break;default:return}if(C)for(E=0,g<w.length&&(E=w[g].se||0),E=(n+E)/r,f=T(dS(t.Ab(a-f))),C=f.next();!C.done;C=f.next())p.push({packet:C.value,pts:E});else try{t.skip(a-f)}catch{break}m-=a+4,m==0&&(n=g<w.length?n+(w[g].Wf||i):n+i,g++,g<w.length?m=w[g].sampleSize||o:m=o)}}Re("shaka.cea.Mp4CeaParser",Ly);var Wv=0,Op=1,Rp=2,Mp=3,by={avc1:Op,avc3:Op,dvav:Op,dva1:Op,hev1:Rp,hvc1:Rp,dvh1:Rp,dvhe:Rp,vvc1:Mp,vvi1:Mp,dvc1:Mp,dvi1:Mp};hu["video/mp4"]=function(){return new Ly};function Ny(){this.g=null}Ny.prototype.init=function(){},Ny.prototype.parse=function(e){this.g?this.g.clearData():this.g=new Wt;var t=[];if(e=Ze(e),!hs(e))return t;e=this.g.parse(e);var n=e.kd(),r=e.Zd();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=T(r),r=n.next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&r.time!=null)for(var i=T(dS(r.data)),o=i.next();!o.done;o=i.next())t.push({packet:o.value,pts:r.time});return t},Re("shaka.cea.TsCeaParser",Ny),hu["video/mp2t"]=function(){return new Ny};function hE(e){var t=0,n=vr(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,(i&1)!=0||i+e>n.byteLength){n=[];break e}var o=Ze(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}function pS(e){return e=li(ln(e)),e=hE(e).filter(function(t){return t.type===yE})[0],e?(e=go(e.value,!0),(e=Xi(e,"WRMHEADER"))?e:null):null}function _y(e){try{var t=pS(e);if(t)e:{for(var n=T(Sr(t,"DATA")),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.children)for(var o=T(i.children),a=o.next();!a.done;a=o.next()){var f=a.value;if(f.tagName=="LA_URL"){var p=ln(f);break e}}}p=""}else p="";return p}catch{return""}}var yE=1;function hS(e,t,n){var r=mE(e),i=null;e=[];var o=[],a=null,f=new Set(r.map(function(g){return g.keyId}));f.delete(null);var p="cenc";if(1<f.size)throw new X(2,4,4010);if(!t){if(o=r.filter(function(g){return g.Zc=="urn:mpeg:dash:sea:2012"}),1<o.length)throw new X(2,4,4050);o.length&&(a=wE(o[0])),(o=r.find(function(g){return g.Zc=="urn:mpeg:dash:mp4protection:2011"}))&&o.encryptionScheme&&(p=o.encryptionScheme),o=r.filter(function(g){return g.Zc=="urn:mpeg:dash:mp4protection:2011"?(i=g.init||i,!1):g.Zc!="urn:mpeg:dash:sea:2012"}),o.length&&(e=vE(i,p,o,n,f),e.length==0&&(e=[qo("",p,i)]))}if(r.length&&!a&&(t||!o.length))for(e=[],t=T(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(qo(n,p,i));if(f=Array.from(f)[0]||null)for(p=T(e),t=p.next();!t.done;t=p.next())for(t=T(t.value.initData),n=t.next();!n.done;n=t.next())n.value.keyId=f;return{Ag:f,Bk:i,drmInfos:e,Re:a,Fg:!0}}function gE(e,t,n,r){var i=hS(e,n,r);if(t.Fg)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=i.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=i.drmInfos),t.Fg=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return i.drmInfos.some(function(a){return a.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new X(2,4,4008);return i.Ag||t.Ag}function Uy(e){var t=Ii(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=ln(t)))return t;if((t=Ii(e.node,"urn:microsoft:playready","pro"))&&ln(t))return _y(t);if((e=Ii(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=ln(e))){t=li(e),e=8,t=vr(t);var n=t.getUint8(e);return e+=20,0<n&&(e+=4+16*t.getUint32(e)),e=Ze(t,e+4),e=Tc(e),e=Xi("<pro>"+e+"</pro>"),_y(e)}return""}function vE(e,t,n,r,i){var o=[];n=T(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var f=r[a.Zc];if(f){var p;if((p=Ii(a.node,"urn:microsoft:playready","pro"))&&ln(p)){p=ln(p),p=li(p);var g=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);p=[{initData:eo(p,g,new Set,0),initDataType:"cenc",keyId:a.keyId}]}else p=null;if(g=null,a.Zc==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"){g=a;var m=i;if(m.size==0)g=null;else{var w=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),E=new Uint8Array([]);g=[{initData:eo(E,w,m,1),initDataType:"cenc",keyId:g.keyId}]}}p=qo(f,t,a.init||e||p||g),(f=TE.get(f))&&(p.licenseServerUri=f(a)),o.push(p)}}return o}function mE(e){var t=[];e=T(e);for(var n=e.next();!n.done;n=e.next())(n=SE(n.value))&&t.push(n);return t}function SE(e){var t=e.attributes.schemeIdUri,n=Yi(e,"urn:mpeg:cenc:2013","default_KID"),r=$s(e,"urn:mpeg:cenc:2013","pssh").map(er),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new X(2,4,4009);var o=[];try{o=r.map(function(a){return{initDataType:"cenc",initData:li(a),keyId:null}})}catch{throw new X(2,4,4007)}return{node:e,Zc:t,keyId:n,init:0<o.length?o:null,encryptionScheme:i}}function wE(e){if(!x.crypto||!x.crypto.subtle)throw ft("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new X(2,4,4042);var t=Ii(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new X(2,4,4051);if(t.attributes.schemeIdUri!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new X(2,4,4051);if(t=Ii(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new X(2,4,4051);if(e=t.attributes.IV,t=rr(t.attributes.keyUriTemplate),!e||!t)throw new X(2,4,4051);if(e=ol(e.substr(2)),e.byteLength!=16)throw new X(2,4,4048);return{Li:t,iv:e}}var TE=new Map().set("com.apple.fps",function(e){if(Ws())throw new X(2,4,4054);return(e=Ii(e.node,"https://dashif.org/CPS","Laurl"))&&(e=ln(e))?e:""}).set("com.widevine.alpha",function(e){var t=Ii(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=ln(t))?t:(e=Ii(e.node,"urn:microsoft","laurl"))&&rr(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",Uy).set("com.microsoft.playready.recommendation",Uy).set("com.microsoft.playready.software",Uy).set("com.microsoft.playready.hardware",Uy).set("org.w3.clearkey",function(e){var t=Ii(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=ln(t))?t:(e=Ii(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.attributes.Lic_type==="EME-1.0"&&e&&(e=ln(e))?e:""});function Lp(e,t,n,r,i,o){var a={RepresentationID:t,Number:n,SubNumber:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(f,p,g,m){if(f=="$$")return"$";var w=a[p];if(w==null)return f;switch(p=="RepresentationID"&&g&&(g=void 0),p=="Time"&&typeof w!="bigint"&&(.2<=Math.abs(w-Math.round(w))&&ft("Calculated $Time$ values must be close to integers"),w=Math.round(w)),m){case void 0:case"d":case"i":case"u":f=w.toString();break;case"o":f=w.toString(8);break;case"x":f=w.toString(16);break;case"X":f=w.toString(16).toUpperCase();break;default:f=w.toString()}return g=x.parseInt(g,10)||1,Array(Math.max(0,g-f.length)+1).join("0")+f})}function yS(e,t){var n=_o(e,t,"timescale"),r=1;n&&(r=mo(n)||1),n=_o(e,t,"duration");var i=(n=mo(n||""))?n/r:null,o=_o(e,t,"startNumber"),a=Number(_o(e,t,"presentationTimeOffset"))||0,f=Nn(o||"");if((o==null||f==null)&&(f=1),o=null,t=Cf(e,t,"SegmentTimeline")){t=Rt(t,"S"),o=r,e=e.ka.duration||1/0;for(var p=f,g=[],m=-a,w=0;w<t.length;++w){var E=t[w],C=t[w+1],P=rt(E,"t",Nn),R=rt(E,"d",Nn),O=rt(E,"r",or);if(E=rt(E,"k",or)||0,P!=null&&(P-=a),R){if(P=P??m,O=O||0,0>O)if(C){if(C=rt(C,"t",Nn),C==null)break;if(P>=C)break;O=Math.ceil((C-P)/R)-1}else{if(e==1/0)break;if(P/o>=e)break;O=Math.ceil((e*o-P)/R)-1}for(0<g.length&&P!=m&&(g[g.length-1].end=P/o),C=0;C<=O;++C)m=P+R,g.push({start:P/o,end:m/o,mg:P,Fb:E,jj:g.length+p}),P=m}}o=g}return{timescale:r,Ae:n,Sa:i,Hd:f,hc:a/r||0,lg:a,timeline:o}}function gS(e,t){return[t(e.J),t(e.ia),t(e.qa)].filter(Ji)}function _o(e,t,n){t=gS(e,t),e=null,t=T(t);for(var r=t.next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function Cf(e,t,n){t=gS(e,t),e=null,t=T(t);for(var r=t.next();!r.done&&!(e=dn(r.value,n));r=t.next());return e}function xE(e,t,n,r,i,o){for(var a=Yi(e,"http://www.w3.org/1999/xlink","href"),f=Yi(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",p=T(Object.keys(e.attributes)),g=p.next();!g.done;g=p.next()){g=g.value;var m=g.split(":"),w=td("http://www.w3.org/1999/xlink");m[0]==w&&delete e.attributes[g]}if(5<=o)return Ai(new X(2,4,4028));if(f!="onLoad")return Ai(new X(2,4,4027));var E=An([r],[a]);return i.request(0,wt(E,t)).Da(function(C){if(C=Vl(C.data,e.tagName),!C)return Ai(new X(2,4,4001,a));for(e.children=[];C.children.length;){var P=C.children.shift();e.children.push(P)}P=T(Object.keys(C.attributes));for(var R=P.next();!R.done;R=P.next())R=R.value,e.attributes[R]=C.attributes[R];return jy(e,t,n,E[0],i,o+1)})}function jy(e,t,n,r,i,o){if(o=o===void 0?0:o,Yi(e,"http://www.w3.org/1999/xlink","href")){var a=xE(e,t,n,r,i,o);return n&&(a=a.Da(void 0,function(){return jy(e,t,n,r,i,o)})),a}a=[];for(var f=T(nd(e)),p=f.next(),g={};!p.done;g={ed:void 0},p=f.next())g.ed=p.value,Yi(g.ed,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.children=e.children.filter(function(m){return function(w){return w!==m.ed}}(g)):g.ed.tagName!="SegmentTimeline"&&a.push(jy(g.ed,t,n,r,i,o));return ci(a).Da(function(){return e})}function IE(e,t,n,r,i,o,a){var f,p=new Bt().S("sidx",function(g){f=EE(t,r,i,o,a,n,g)});if(e&&p.parse(e),f)return f;throw new X(2,3,3004)}function EE(e,t,n,r,i,o,a){var f=[];a.reader.skip(4);var p=a.reader.R();if(p==0)throw new X(2,3,3005);if(a.version==0)var g=a.reader.R(),m=a.reader.R();else g=a.reader.Yc(),m=a.reader.Yc();a.reader.skip(2);var w=a.reader.ma();for(e=e+a.size+m,m=0;m<w;m++){var E=a.reader.R(),C=(E&2147483648)>>>31;E&=2147483647;var P=a.reader.R();if(a.reader.skip(4),C==1)throw new X(2,3,3006);f.push(new Fe(g/p+n,(g+P)/p+n,function(){return o},e,e+E-1,t,n,r,i)),g+=P,e+=E}return a.parser.stop(),f}function Is(e){this.h=vr(e),this.g=new Mt(this.h,0)}Is.prototype.ta=function(){return this.g.ta()};function Ol(e){var t=vS(e);if(7<t.length)throw new X(2,3,3002);var n=0;t=T(t);for(var r=t.next();!r.done;r=t.next())n=256*n+r.value;t=vS(e);e:{r=T(CE);for(var i=r.next();!i.done;i=r.next())if(po(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.xa();else{if(t.length==8&&t[1]&224)throw new X(2,3,3001);for(i=r=0;i<t.length;i++){var o=t[i];r=i==0?o&(1<<8-t.length)-1:256*r+o}t=r}return t=e.g.xa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.xa(),r=vr(e.h,e.g.xa(),t),e.g.skip(t),new kE(n,r)}function vS(e){var t=e.g.xa(),n=e.g.U();if(n==0)throw new X(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Ze(e.h,t,n)}var CE=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function kE(e,t){this.id=e,this.g=t}function Xv(e){if(8<e.g.byteLength)throw new X(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new X(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var r=e.g.getUint8(n);t=256*t+r}return t}function AE(e,t,n,r,i,o,a,f,p){function g(){return i}var m=[];e=new Is(e.g);for(var w=null,E=null;e.ta();){var C=Ol(e);if(C.id==187){var P=PE(C);P&&(C=n*P.wj,P=t+P.aj,w!=null&&m.push(new Fe(w+a,C+a,g,E,P-1,o,a,f,p)),w=C,E=P)}}return w!=null&&m.push(new Fe(w+a,r+a,g,E,null,o,a,f,p)),m}function PE(e){var t=new Is(e.g);if(e=Ol(t),e.id!=179)throw new X(2,3,3013);if(e=Xv(e),t=Ol(t),t.id!=183)throw new X(2,3,3012);t=new Is(t.g);for(var n=0;t.ta();){var r=Ol(t);if(r.id==241){n=Xv(r);break}}return{wj:e,aj:n}}function mS(e,t,n){if(t=Cf(e,t,"Initialization"),!t)return null;var r=e.J.Qa(),i=t.attributes.sourceURL;i&&(r=An(r,[rr(i)],e.rb())),i=0;var o=null;return(t=rt(t,"range",Fl))&&(i=t.start,o=t.end),n=new Er(function(){return r},i,o,xS(e),null,null,n),n.codecs=e.J.codecs,n.mimeType=e.J.mimeType,n}function DE(e,t,n){var r=Number(_o(e,kf,"presentationTimeOffset"))||0,i=_o(e,kf,"timescale"),o=1;i&&(o=mo(i)||1);var a=r/o||0,f=mS(e,kf,n);OE(e,f);var p=Xr(e);return{pc:function(){var g=Cf(p,kf,"RepresentationIndex"),m=p.J.Qa();return g&&(g=rr(g.attributes.sourceURL))&&(m=An(m,[g],p.rb())),g=wS(p),SS(p,t,f,m,g.start,g.end,a)}}}function SS(e,t,n,r,i,o,a){var f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q;return z(function(H){if(H.g==1)return f=e.presentationTimeline,p=!e.Kb||!e.ka.Sg,g=e.ka.start,m=e.ka.duration,w=e.J.mimeType.split("/")[1],E=t,C=null,P=[E(r,i,o,!1),w=="webm"?E(n.N(),n.Ma,n.va,!0):null],E=null,L(H,Promise.all(P),2);if(R=H.h,O=R[0],j=R[1]||null,_=null,K=g-a,G=g,W=m?g+m:1/0,w=="mp4")var Z=IE(O,i,r,n,K,G,W);else{Z=O;var $=new Is(j);if(Ol($).id!=440786851)throw new X(2,3,3008);var ie=Ol($);if(ie.id!=408125543)throw new X(2,3,3009);$=ie.g.byteOffset,ie=new Is(ie.g);for(var fe=null;ie.ta();){var re=Ol(ie);if(re.id==357149030){fe=re;break}}if(!fe)throw new X(2,3,3010);for(fe=new Is(fe.g),re=1e6,ie=null;fe.ta();){var ae=Ol(fe);if(ae.id==2807729)re=Xv(ae);else if(ae.id==17545)if(ae.g.byteLength==4)ie=ae.g.getFloat32(0);else if(ae.g.byteLength==8)ie=ae.g.getFloat64(0);else throw new X(2,3,3003)}if(ie==null)throw new X(2,3,3011);if(fe=re/1e9,ie*=fe,Z=Ol(new Is(Z)),Z.id!=475249515)throw new X(2,3,3007);Z=AE(Z,$,fe,ie,r,n,K,G,W)}for(_=Z,q=T(_),F=q.next();!F.done;F=q.next())Q=F.value,Q.codecs=e.J.codecs,Q.mimeType=e.J.mimeType,Q.bandwidth=e.bandwidth;return f.Cd(_),C=new St(_),p&&C.Lc(G,W,!0),H.return(C)})}function kf(e){return e.ad}function wS(e){var t=Cf(e,kf,"RepresentationIndex");return e=_o(e,kf,"indexRange"),e=Fl(e||""),t&&(e=rt(t,"range",Fl,e)),e}function OE(e,t){if(TS(e,t),!wS(e))throw new X(2,4,4002)}function TS(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=at&&n!="mp4"&&n!="webm")throw new X(2,4,4006);if(n=="webm"&&!t)throw new X(2,4,4005)}function xS(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.je,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ia.label||null,roles:e.roles||null,language:e.ia.language||null}}function RE(e,t,n){var r=mS(e,IS,n),i=ME(e);if(!i.Sa&&!i.timeline&&1<i.Uc.length)throw new X(2,4,4002);if(!i.Sa&&!e.ka.duration&&!i.timeline&&i.Uc.length==1)throw new X(2,4,4002);if(i.timeline&&i.timeline.length==0)throw new X(2,4,4002);var o=null,a=null;e.qa.id&&e.J.id&&(a=t[e.qa.id+","+e.J.id])&&(o=a.segmentIndex);var f=LE(e.ka.start,e.ka.duration,e.J.Qa,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.rb);return t=!o,o?o.yd(f,e.presentationTimeline.nb()):o=new St(f),e.presentationTimeline.Cd(f),e.Kb&&e.ka.Sg||o.Lc(e.ka.start,e.ka.duration?e.ka.start+e.ka.duration:1/0,t),a&&(a.segmentIndex=o),{pc:function(){return o&&o.getNumReferences()!=0||o.fe(f),Promise.resolve(o)}}}function IS(e){return e.Vb}function ME(e){var t=bE(e);e=yS(e,IS);var n=e.Hd;n==0&&(n=1);var r=0;return e.Sa?r=e.Sa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Sa:e.Sa,startTime:r,Hd:n,hc:e.hc,timeline:e.timeline,Uc:t}}function LE(e,t,n,r,i,o,a,f,p,g){var m=r.Uc.length;r.timeline&&r.timeline.length!=r.Uc.length&&(m=Math.min(r.timeline.length,r.Uc.length));for(var w=e-r.hc,E=t?e+t:1/0,C=[],P=r.startTime,R={},O=0;O<m;R={Ce:void 0,te:void 0},O++){R.te=r.Uc[O];var j=P;P=void 0,P=r.Sa!=null?j+r.Sa:r.timeline?r.timeline[O].end:j+t,R.Ce=null,R=new Fe(e+j,e+P,function(_){return function(){return _.Ce==null&&(_.Ce=An(n(),[_.te.Ri],g())),_.Ce}}(R),R.te.start,R.te.end,i,w,e,E,[],"",null,null,ou,o),R.codecs=f,R.mimeType=a,R.bandwidth=p,C.push(R)}return C}function bE(e){return[e.J.Vb,e.ia.Vb,e.qa.Vb].filter(Ji).map(function(t){return Rt(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.attributes.indexRange&&!e.zf&&(e.zf=!0);var n=rr(t.attributes.media);return t=rt(t,"mediaRange",Fl,{start:0,end:null}),{Ri:n,start:t.start,end:t.end}})}function ES(e,t,n,r,i,o,a,f,p){p||e.J.ae||(e.J.ae=_o(e,Es,"initialization"));var g=e.J.ae?jE(e,a):null,m=NE(e);_E(m);var w=Xr(e);if(m.sd)return TS(e,g),{pc:function(){var R=Lp(m.sd,w.J.id,null,null,w.bandwidth||null,null);return R=An(w.J.Qa(),[R]),SS(w,t,g,R,0,null,m.hc)}};if(m.Sa)return r||e.ia.contentType==="image"||e.ia.contentType==="text"||(n=e.ka.start,r=e.qa.id,p=e.ka.duration,r=(r=r!=null&&o[r]||p)?n+r:1/0,e.presentationTimeline.Jf(m.Sa),e.presentationTimeline.$g(n,r)),{pc:function(){return UE(w,m,i,g,o,a,f,e.J.ue)}};var E=null;r=r=null,e.qa.id&&e.J.id&&(r=e.qa.id+","+e.J.id,r=n[r])&&(E=r.segmentIndex);var C=e.ka.start,P=e.ka.duration?C+e.ka.duration:1/0;return E?(n=E,CS(n,m,C,P,g),n.Ja(e.presentationTimeline.nb())):E=new By(m,e.J.id,e.bandwidth,e.J.Qa,e.rb,C,P,g,a,e.J.ue),m.timeline&&e.ia.contentType!=="image"&&e.ia.contentType!=="text"&&e.presentationTimeline.ah(E.h?E.h.timeline:[],C),r&&e.Kb&&(r.segmentIndex=E),{pc:function(){return E instanceof By&&E.getNumReferences()==0&&CS(E,m,C,P,g),Promise.resolve(E)}}}function Es(e){return e.ic}function NE(e){var t=yS(e,Es),n=_o(e,Es,"media"),r=_o(e,Es,"index"),i=_o(e,Es,"k"),o=0;return i&&(o=parseInt(i,10)),{Ae:t.Ae,Sa:t.Sa,timescale:t.timescale,Hd:t.Hd,hc:t.hc,lg:t.lg,timeline:t.timeline,ec:n&&rr(n),sd:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,Si:o}}function _E(e){var t=e.sd?1:0;if(t+=e.timeline?1:0,t+=e.Sa?1:0,t==0)throw new X(2,4,4002);if(t!=1&&(e.sd&&(e.timeline=null),e.Ae=null,e.Sa=null),!e.sd&&!e.ec)throw new X(2,4,4002)}function UE(e,t,n,r,i,o,a,f){function p(ie){var fe=ie-O,re=fe*R,ae=t.Ae,me=fe*ae;"BigInt"in x&&me>Number.MAX_SAFE_INTEGER&&(me=BigInt(fe)*BigInt(ae)),re+=E,fe=re+R,ae=Math.min(fe,m());var ye=[],Ce=t.Si;if(Ce)for(var _e=(ae-re)/Ce,Ve={},yt=0;yt<Ce;Ve={xh:void 0},yt++){var pt=re+_e*yt,ze=pt+_e;Ve.xh=yt+1,Ve=new Fe(pt,ze,function(Ft){return function(){var Pt=Lp(j,K,ie,Ft.xh,_,me);return An(G(),[Pt],W())}}(Ve),0,null,r,q,E,m(),[],"",null,null,ou,o),Ve.codecs=e.J.codecs,Ve.mimeType=e.J.mimeType,f==0?0<yt&&Ve.Sc():yt%f!=0&&Ve.Sc(),ye.push(Ve)}return re=new Fe(re,ae,function(){if(Ce)return[];var Ft=Lp(j,K,ie,null,_,me);return An(G(),[Ft],W())},0,null,r,q,E,m(),ye,"",null,null,ou,o,0<ye.length),re.codecs=e.J.codecs,re.mimeType=e.J.mimeType,re.bandwidth=e.bandwidth,re.j=fe,re}function g(){var ie=[Math.max(w.nb(),E),Math.min(w.ac(),m())].map(function(fe){return fe-E});return ie=[Math.ceil(ie[0]/R),Math.ceil(ie[1]/R)-1],e.J.cb&&ie[1]++,ie.map(function(fe){return fe+O})}function m(){var ie=C!=null&&i[C]||P;return ie?E+ie:1/0}var w=e.presentationTimeline,E=e.ka.start,C=e.qa.id,P=e.ka.duration,R=t.Sa,O=t.Hd,j=t.ec,_=e.bandwidth||null,K=e.J.id,G=e.J.Qa,W=e.rb,q=E-t.hc,F=g();n=e.Kb?Math.max(F[0],F[1]-n+1):F[0],a=a||F[1],F=[];for(var Q=n;Q<=a;++Q){var H=p(Q);F.push(H)}var Z=new St(F);if(F=w.ac()<m(),Q=w.T(),F||Q){var $=Math.max(n,a+1);n=R,e.J.cb&&(n=.1),Z.Be(n,function(){var ie=w.nb();Z.Ja(ie);var fe=T(g());fe.next(),fe=fe.next().value;for(var re=[];$<=fe;){var ae=p($);re.push(ae),$++}return ie>m()&&!re.length?null:re})}return Promise.resolve(Z)}function jE(e,t){var n=e.J.ae;if(n||(n=_o(e,Es,"initialization")),!n)return null;n=rr(n);var r=e.J.id,i=e.bandwidth||null,o=e.J.Qa,a=e.rb;return t=new Er(function(){var f=Lp(n,r,null,null,i,null);return An(o(),[f],a())},0,null,xS(e),null,null,t),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,t}function By(e,t,n,r,i,o,a,f,p,g){St.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=o,this.l=a,this.s=f,this.A=p,this.G=g,Yv(this)}mt(By,St),h=By.prototype,h.getNumReferences=function(){return this.h?this.h.timeline.length:0},h.release=function(){St.prototype.release.call(this),this.h=null},h.Ja=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,this.getNumReferences()===0&&this.release())}};function CS(e,t,n,r,i){if(BE(e,i),e.h){if(n=e.h.timeline,e.h.ec!==t.ec&&(e.h.ec=t.ec),n.length){var o=n[n.length-1];t=t.timeline.filter(function(a){return a.end>o.end})}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,te(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;Yv(e)}function BE(e,t){if(e.s!==t){e.s=t,e=T(e.g);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&jh(n,t)}}function Yv(e){if(!e.o){for(var t=[],n=T(e.h.timeline),r=n.next();!r.done;r=n.next())r=r.value,r.start>=e.l||0>=r.end||t.push(r);e.h.timeline=t,e.Ja(e.j)}}h.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],o=i.start+this.j;if(i=r<n?t[r+1].start+this.j:this.l===1/0?i.end+this.j:this.l,e>=o&&e<i)return r+this.i}return null},h.get=function(e){var t=this;if(e-=this.i,0>e||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.jj,o=r.mg+this.h.lg;n=this.j-this.h.hc;var a=this.j+r.end,f=a;e===this.getNumReferences()-1&&this.l!==1/0&&(f=this.l);for(var p=this.h.codecs,g=this.h.mimeType,m=this.h.bandwidth,w=[],E=(r.end-r.start)/r.Fb,C={},P=0;P<r.Fb;C={De:void 0,yh:void 0},P++){var R=r.start+E*P,O=R+E;C.yh=P+1,C.De=null,C=new Fe(this.j+R,this.j+O,function(j){return function(){return t.h?(j.De==null&&(j.De=kS(t.h.ec,t.F,i,t.B,o,j.yh,t.C,t.H)),j.De):[]}}(C),0,null,this.s,n,this.j,this.l,[],"",null,null,ou,this.A),C.codecs=p,C.mimeType=g,C.bandwidth=m,this.G==0?0<P&&C.Sc():P%this.G!=0&&C.Sc(),w.push(C)}n=new Fe(this.j+r.start,f,function(){return 0<r.Fb||!t.h?[]:kS(t.h.ec,t.F,i,t.B,o,null,t.C,t.H)},0,null,this.s,n,this.j,this.l,w,"",null,null,ou,this.A,0<r.Fb),n.codecs=p,n.mimeType=g,n.j=a,n.bandwidth=m,this.g[e]=n}return n},h.Db=function(e){Yv(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}};function kS(e,t,n,r,i,o,a,f){return e=Lp(e,t,n,o,r||null,i),An(a(),[e],f()).map(function(p){return p.toString()})}function Af(e){this.o=null,this.A=e,this.G=new cl,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.s="UNKNOWN"}Af.prototype.configure=function(e){this.o=e},Af.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.G.destroy()},Af.prototype.setManifestType=function(e){this.s=e};function bp(e,t){var n,r,i,o,a,f,p;return z(function(g){if(g.g==1)return n=An(e.i,[VE(e,t)]),r=wt(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),Zo(e.G,i),de(g,2),L(g,i.promise,4);if(g.g!=2)return o=g.h,a=Jt(o.data),f=JSON.parse(a),f.VERSION==1&&FE(e,f,o.uri),Oe(g,0);if((p=ke(g))&&p.code==7001)return g.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new st(function(){bp(e,t)}),e.g.aa(e.C),oe(g)})}function VE(e,t){if(!e.m.length)return t;t=new pn(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return e.s=="DASH"?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):e.s=="HLS"&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),ad(i)&&Tu(t,i),t.toString()}function FE(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new st(function(){bp(e,r)}),(n=t.TTL)&&(e.C=n),e.g.aa(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}function Pf(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}Af.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)};function Np(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var r=[],i=T(e.m),o=i.next(),a={};!o.done;a={Wc:void 0},o=i.next())if(a.Wc=o.value,o=t.get(a.Wc))r.push({Pf:a.Wc,location:o});else if(o=e.F.find(function(p){return function(g){return g.Qj==p.Wc}}(a))){var f=t.get(o["BASE-ID"]);f&&(o["URI-REPLACEMENT"].Gh?(f=new pn(f),Sc(f,o["URI-REPLACEMENT"].Gh),r.push({Pf:a.Wc,location:f.toString()})):r.push({Pf:a.Wc,location:f}))}for(i=Date.now(),a=T(e.j.keys()),o=a.next();!o.done;o=a.next())o=o.value,f=e.j.get(o),i>f&&e.j.delete(o);if(r=r.filter(function(p){for(var g=T(e.j.keys()),m=g.next();!m.done;m=g.next())if(m.value.includes(new pn(p.location).ub))return!1;return!0}),r.length&&(e.B=r[0].Pf),r=r.map(function(p){return p.location}),!r.length&&e.h)for(i=T(e.h.split(",")),a=i.next();!a.done;a=i.next())(a=t.get(a.value))&&(e.B=e.h,r.push(a));if(!r.length)for(t=T(t.values()),i=t.next();!i.done;i=t.next())r.push(i.value);return n?r:An(e.i,r)}function Pr(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.s=this.o=!1,this.m=new Set}h=Pr.prototype,h.release=function(){for(var e=T(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.s=this.o=!1,this.m.clear()},h.yi=function(){return this.l},h.xf=function(){return this.j.slice()},h.gi=function(){return this.i},h.Bg=function(e,t){if(e){if(e.type=="audio")for(var n=T(this.h),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});else if(e.type=="video")for(n=T(this.g),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e}),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter(function(i){return i!==e}));else if(e.type==at)for(n=T(this.j),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});else if(e.type=="image")for(n=T(this.i),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}};function AS(e,t){var n=[],r=[],i=[],o=[];e=T(e);for(var a=e.next();!a.done;a=e.next()){var f=a.value;a=new Map(f.audioStreams.map(function(w){return[Zv(w),w]}));var p=new Map(f.videoStreams.map(function(w){return[Qv(w),w]})),g=new Map(f.textStreams.map(function(w){return[Bp(w),w]}));if(f=new Map(f.imageStreams.map(function(w){return[Vp(w),w]})),t){var m=LS(at);g.set(Bp(m),m),m=LS("image"),f.set(Vp(m),m)}n.push(a),r.push(p),i.push(g),o.push(f)}return{ug:n,Eh:r,Ah:i,Qg:o}}h.Ve=function(e,t,n){n=n===void 0?!1:n;var r=this,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye;return z(function(Ce){if(Ce.g==1){if(i=sn,!t&&e.length==1)return o=AS(e,!1),a=o.ug,f=o.Eh,p=o.Ah,g=o.Qg,r.h=Array.from(a[0].values()),r.g=Array.from(f[0].values()),r.j=Array.from(p[0].values()),r.i=Array.from(g[0].values()),Ce.u(2);for(m=n?r.m.size:0,w=-1,E=0;E<e.length;E++)C=e[E],r.m.has(C.id)||(r.m.add(C.id),w==-1&&(w=E));return w==-1?Ce.return():(P=AS(e,!0),R=P.ug,O=P.Eh,j=P.Ah,_=P.Qg,L(Ce,Promise.all([Cs(r,r.h,R,w,_p,Df,m),Cs(r,r.g,O,w,_p,Df,m),Cs(r,r.j,j,w,_p,Df,m),Cs(r,r.i,_,w,_p,Df,m)]),2))}if(K=0,G=[],r.g.length&&r.h.length)for(Z=T(r.h),$=Z.next();!$.done;$=Z.next())for(ie=$.value,fe=T(r.g),re=fe.next();!re.done;re=fe.next())ae=re.value,me=ic(ie.drmInfos,ae.drmInfos),ie.drmInfos.length&&ae.drmInfos.length&&!me.length||(ye=K++,G.push({id:ye,language:ie.language,disabledUntilTime:0,primary:ie.primary,audio:ie,video:ae,bandwidth:(ie.bandwidth||0)+(ae.bandwidth||0),drmInfos:me,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(W=r.g.length?r.g:r.h,q=T(W),F=q.next();!F.done;F=q.next())Q=F.value,H=K++,G.push({id:H,language:Q.language,disabledUntilTime:0,primary:Q.primary,audio:Q.type==i.W?Q:null,video:Q.type==i.oa?Q:null,bandwidth:Q.bandwidth||0,drmInfos:Q.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});r.l=G,oe(Ce)})};function PS(e){var t,n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re;return z(function(ae){switch(ae.g){case 1:if(t=sn,e.length==1)return ae.return(e[0]);for(n=e.map(function(me){return new Map(me.filter(function(ye){return ye.type===t.W}).map(function(ye){return[Zv(ye),ye]}))}),r=e.map(function(me){return new Map(me.filter(function(ye){return ye.type===t.oa}).map(function(ye){return[Qv(ye),ye]}))}),i=e.map(function(me){return new Map(me.filter(function(ye){return ye.type===t.wa}).map(function(ye){return[Bp(ye),ye]}))}),o=e.map(function(me){return new Map(me.filter(function(ye){return ye.type===t.Pe}).map(function(ye){return[Vp(ye),ye]}))}),a=T(i),f=a.next();!f.done;f=a.next())p=f.value,g=MS(t.wa),p.set(Bp(g),g);for(m=T(o),w=m.next();!w.done;w=m.next())E=w.value,C=MS(t.Pe),E.set(Vp(C),C);return P=new Pr,L(ae,Cs(P,[],n,0,Vy,Fy,0),2);case 2:return R=ae.h,L(ae,Cs(P,[],r,0,Vy,Fy,0),3);case 3:return O=ae.h,L(ae,Cs(P,[],i,0,Vy,Fy,0),4);case 4:return j=ae.h,L(ae,Cs(P,[],o,0,Vy,Fy,0),5);case 5:if(_=ae.h,K=0,O.length&&R.length)for(Q=T(R),H=Q.next();!H.done;H=Q.next())for(Z=H.value,$=T(O),ie=$.next();!ie.done;ie=$.next())fe=ie.value,re=K++,fe.variantIds.push(re),Z.variantIds.push(re);else for(G=O.concat(R),W=T(G),q=W.next();!q.done;q=W.next())F=q.value,F.variantIds=[K++];return ae.return(O.concat(R).concat(j).concat(_))}})}function Cs(e,t,n,r,i,o,a){var f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H;return z(function(Z){switch(Z.g){case 1:for(f=[],p=0;p<n.length;p++)p>=r?f.push(new Set(n[p].values())):f.push(new Set);g=T(t),m=g.next();case 2:if(m.done){Z.u(4);break}return w=m.value,L(Z,KE(e,w,n,r,o,f,a),5);case 5:if(E=Z.h,!E)throw new X(2,4,4037);m=g.next(),Z.u(2);break;case 4:for(C=T(f),P=C.next();!P.done;P=C.next())for(R=P.value,O=T(R),j=O.next();!j.done;j=O.next())_=j.value,(K=HE(e,_,n,i,o,f))&&t.push(K);for(G=T(f),W=G.next();!W.done;W=G.next())for(q=W.value,F=T(q),Q=F.next(),H={};!Q.done;H={dg:void 0},Q=F.next())if(H.dg=Q.value,!Jv(H.dg)&&t.some(function($){return function(ie){return $v(e,$.dg,ie)}}(H)))throw new X(2,4,4037);return Z.return(t)}})}function KE(e,t,n,r,i,o,a){return z(function(f){return f.g==1?(RS(e,n,t,0<a),t.matchedStreams?t.segmentIndex?L(f,DS(t,r+a),2):f.u(2):f.return(!1)):(OS(t,r,i,o,a),f.return(!0))})}function DS(e,t){var n,r,i,o,a,f;return z(function(p){if(p.g==1){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)o=r[i],n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex());return L(p,Promise.all(n),2)}if(e.segmentIndex instanceof zt)for(a=t;a<r.length;a++)f=r[a],f.segmentIndex&&e.segmentIndex.h.push(f.segmentIndex);oe(p)})}function HE(e,t,n,r,i,o){if(Jv(t))return null;var a=r(t);return RS(e,n,a),a.createSegmentIndex&&(a.createSegmentIndex=function(){return z(function(f){return a.segmentIndex?f.u(0):(a.segmentIndex=new zt,L(f,DS(a,0),0))})}),!a.matchedStreams||!a.matchedStreams.length?null:(OS(a,0,i,o,0),a)}function OS(e,t,n,r,i){var o=e.matchedStreams;for(t+=i;t<o.length;t++){var a=o[t];n(e,a);var f=!0;if(e.type=="audio"&&Cu(e.language,a.language)==0&&(f=!1),f&&(r[t-i].delete(a),a.fullMimeTypes))for(a=T(a.fullMimeTypes.values()),f=a.next();!f.done;f=a.next())e.fullMimeTypes.add(f.value)}}function _p(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=T(t.matchedStreams),r=n.next();!r.done;r=n.next())r=r.value,r.segmentIndex&&(r.segmentIndex.release(),r.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t}function Vy(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set,t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function Df(e,t){function n(a,f){a||(a=[]),f=T(f);for(var p=f.next();!p.done;p=f.next())p=p.value,a.includes(p)||a.push(p);return a}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=T(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(e.originalId==null?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=ic(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new X(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),r=T(t.closedCaptions),i=r.next();!i.done;i=r.next()){var o=T(i.value);i=o.next().value,o=o.next().value,e.closedCaptions.set(i,o)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=_p(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var a=new zt,f=T(e.trickModeVideo.matchedStreams),p=f.next();!p.done;p=f.next())a.h.push(p.value.segmentIndex);return e.trickModeVideo.segmentIndex=a,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),Df(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),Df(e.trickModeVideo,t))}function Fy(e,t){var n=e.roles;n||(n=[]);for(var r=T(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,n=T(t.keyIds),r=n.next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,te(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=T(t.closedCaptions),n=t.next();!n.done;n=t.next())r=T(n.value),n=r.next().value,r=r.next().value,e.closedCaptions.set(n,r)}function RS(e,t,n,r){r=r!==void 0&&r?n.matchedStreams:[],t=T(t);for(var i=t.next();!i.done;i=t.next()){if(i=qE(e,i.value,n),!i)return;r.push(i)}n.matchedStreams=r}function qE(e,t,n){var r={audio:Zv,video:Qv,text:Bp,image:Vp}[n.type],i=null,o=r(n);if(t.has(o))i=t.get(o);else{o={audio:function(g,m){return $v(e,g,m)},video:function(g,m){return $v(e,g,m)},text:zE,image:GE}[n.type];for(var a={audio:WE,video:XE,text:YE,image:$E}[n.type],f=T(t.values()),p=f.next();!p.done;p=f.next())p=p.value,!o(n,p)||n.fastSwitching!=p.fastSwitching||i&&!a(n,i,p)||(i=p)}return e.s&&!Jv(i)&&t.delete(r(i)),i}function Up(e,t){return e.mimeType!=t.mimeType?!1:Ky(e.codecs)===Ky(t.codecs)}h.nh=function(e){this.o=e},h.th=function(e){this.s=e};function $v(e,t,n){return!(!Up(t,n)&&!e.o||t.drmInfos&&!Jf(t.drmInfos,n.drmInfos))}function zE(e,t){return t.language?!(e.forced!==t.forced||Cu(e.language,t.language)==0||t.kind!=e.kind):!0}function GE(){return!0}function WE(e,t,n){var r=Up(e,t),i=Up(e,n);if(r&&!i)return!1;if(!r&&i||(r=Cu(e.language,t.language),i=Cu(e.language,n.language),i>r))return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(o){return e.roles.includes(o)}),i=n.roles.filter(function(o){return e.roles.includes(o)}),i.length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(r=jp(e.channelsCount,t.channelsCount,n.channelsCount),r==fu?!0:r==Rl?!1:(r=jp(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),r==fu?!0:r==Rl?!1:!!(e.bandwidth&&bS(e.bandwidth,t.bandwidth,n.bandwidth)==fu)))}function XE(e,t,n){var r=Up(e,t),i=Up(e,n);if(r&&!i)return!1;if(!r&&i||(r=jp(e.width*e.height,t.width*t.height,n.width*n.height),r==fu))return!0;if(r==Rl)return!1;if(e.frameRate){if(r=jp(e.frameRate,t.frameRate,n.frameRate),r==fu)return!0;if(r==Rl)return!1}return!!(e.bandwidth&&bS(e.bandwidth,t.bandwidth,n.bandwidth)==fu)}function YE(e,t,n){var r=Cu(e.language,t.language),i=Cu(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(o){return e.roles.includes(o)}),i=n.roles.filter(function(o){return e.roles.includes(o)}),i.length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function $E(e,t,n){return jp(e.width*e.height,t.width*t.height,n.width*n.height)==fu}function MS(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function LS(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new St([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1}}function jp(e,t,n){if(t==e&&e!=n)return Rl;if(n==e&&e!=t)return fu;if(t>e){if(n<=e||n-e<t-e)return fu;if(n-e>t-e)return Rl}else{if(n>e)return Rl;if(e-n<e-t)return fu;if(e-n>e-t)return Rl}return NS}function bS(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?fu:t<e?Rl:NS}function Jv(e){switch(e.type){case at:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function Qv(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,Ky(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth])}function Zv(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,Ky(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary])}function Bp(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Vp(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function Ky(e){if(!em.has(e)){var t=Rn(e);em.set(e,t)}return em.get(e)}Re("shaka.util.PeriodCombiner",Pr),Pr.prototype.setUseStreamOnce=Pr.prototype.th,Pr.prototype.setAllowMultiTypeVariants=Pr.prototype.nh,Pr.prototype.combinePeriods=Pr.prototype.Ve,Pr.prototype.deleteStream=Pr.prototype.Bg,Pr.prototype.getImageStreams=Pr.prototype.gi,Pr.prototype.getTextStreams=Pr.prototype.xf,Pr.prototype.getVariants=Pr.prototype.yi;var fu=1,NS=0,Rl=-1,em=new Map;function JE(e,t){var n=new DOMParser,r=QE.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function _S(e,t){try{var n=Ut(e);return JE(n,t)}catch{return null}}var QE=new wi(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Hy(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.pa=1,this.F=[],this.l={he:"",type:"",profiles:[],Sb:null,cb:0,Qa:null,Fd:0},this.s=new Map,this.o={},this.B={},this.ha={},this.m=new Pr,this.I=0,this.na=new Gu(5),this.K=new st(function(){if(e.H&&!e.g.continueLoadingWhenPaused&&(e.G.bb(e.H,"timeupdate"),e.H.paused)){e.G.la(e.H,"timeupdate",function(){return KS(e)});return}KS(e)}),this.O=new cl,this.M=null,this.C=[],this.da=1/0,this.ga=!1,this.h=null,this.L=0,this.P=!1,this.G=new At,this.H=null,this.V=!1,this.ba="",this.fa=function(){return!1},this.$=[]}h=Hy.prototype,h.configure=function(e,t){var n=this.j&&e.dash.updatePeriod!=this.g.dash.updatePeriod&&0<=e.dash.updatePeriod;this.g=e,t&&(this.fa=t),n&&this.i&&this.i.presentationTimeline.T()&&this.K.Hb(),this.h&&this.h.configure(this.g),this.m&&(this.m.nh(this.g.dash.multiTypeVariantsAllowed&&du()),this.m.th(this.g.dash.useStreamOnceInPeriodFlattening))},h.start=function(e,t){var n=this,r;return z(function(i){if(i.g==1)return n.ga=t.isLowLatencyMode(),n.A=[e],n.j=t,L(i,tm(n),2);if(r=i.h,n.j&&nm(n,r),!n.j)throw new X(2,7,7001);return i.return(n.i)})},h.stop=function(){for(var e=T(Object.values(this.o)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o={},this.B={},this.s.clear(),this.l={he:"",type:"",profiles:[],Sb:null,cb:0,Qa:null,Fd:0},this.m=null,this.K!=null&&(this.K.stop(),this.K=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.O.destroy()},h.update=function(){var e=this,t;return z(function(n){if(n.g==1)return de(n,2),L(n,tm(e),4);if(n.g!=2)return Oe(n,0);if(t=ke(n),!e.j||!t)return n.return();e.j.onError(t),oe(n)})},h.onExpirationUpdated=function(){},h.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.T()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.ac();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.I=t.endTime-e,nm(this,0))}}},h.banLocation=function(e){this.h&&this.h.banLocation(e)},h.setMediaElement=function(e){this.H=e};function tm(e){var t,n,r,i,o,a,f,p,g,m,w;return z(function(E){return E.g==1?(t=4,n="MPD",r=yC(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&(o=Np(e.h,"Location",!0),o.length&&(i=o)),a=wt(i,e.g.retryParameters),f=Date.now(),L(E,im(e,a,0,{type:t}),2)):E.g!=3?(p=E.h,e.j?(p.uri&&p.uri!=p.originalUri&&!e.A.includes(p.uri)&&e.A.unshift(p.uri),g=new pn(p.uri),e.ba=g.g.toString(),L(E,ZE(e,p.data,p.uri,n),3)):E.return(0)):(m=Date.now(),w=(m-f)/1e3,e.na.sample(1,w),E.return(w))})}function ZE(e,t,n,r){var i,o,a,f,p,g,m,w,E,C;return z(function(P){if(P.g==1){if(i=t,o=e.g.dash.manifestPreprocessor,a=df,o!=a){if(Ot("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),f=_S(i,r),!f)throw new X(2,4,4001,n);o(f),i=ri(f.outerHTML)}if(p=Vl(i,r),!p)throw new X(2,4,4001,n);return g=e.g.dash.manifestPreprocessorTXml,m=ry,g!=m&&g(p),r==="Patch"?P.return(eC(e,p)):e.g.dash.disableXlinkProcessing?P.return(US(e,p,n)):(w=e.g.dash.xlinkFailGracefully,E=jy(p,e.g.retryParameters,w,n,e.j.networkingEngine),Zo(e.O,E),L(P,E.promise,2))}return C=P.h,P.return(US(e,C,n))})}function US(e,t,n){var r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e,Ve,yt,pt,ze,Ft,Pt,ot,Xt,Ht,lt,wn,ti,kn,En,On,qn,Qa,Ll,Ps;return z(function(fo){switch(fo.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],o=new Map,a=Rt(t,"Location"),f=T(a),p=f.next();!p.done;p=f.next())g=p.value,m=g.attributes.serviceLocation,(w=er(g))&&(E=An(r,[w])[0],m&&(e.h?Pf(e.h,"Location",m,E):o.set(m,E)),i.push(E));if(e.h?(C=Np(e.h,"Location",!0),0<C.length&&(r=e.A=C)):i.length&&(r=e.A=i),e.l.he=t.attributes.id||"",e.l.Fd=rt(t,"publishTime",Uo)||0,e.F=Rt(t,"PatchLocation"),P=Promise.resolve(),(R=dn(t,"ContentSteering"))&&e.j)for(O=R.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=O):(e.h=new Af(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=O,(j=er(R))&&(rt(R,"queryBeforeStart",Js,!1)?P=bp(e.h,j):bp(e.h,j))),_=T(o.keys()),K=_.next();!K.done;K=_.next())G=K.value,W=o.get(G),Pf(e.h,"Location",G,W);if(q=Rt(t,"BaseURL"),F=!1,e.h)for(Q=T(q),H=Q.next();!H.done;H=Q.next())Z=H.value,$=Z.attributes.serviceLocation,ie=er(Z),$&&ie&&(Pf(e.h,"BaseURL",$,ie),F=!0);if(e.$=null,F&&e.h||(fe=q.map(er),e.$=An(r,fe)),re=function(){return e.h&&F?Np(e.h,"BaseURL"):e.$?e.$:[]},e.l.Qa=re,ae=0,q&&q.length&&(ae=rt(q[0],"availabilityTimeOffset",Zu)||0),e.l.cb=ae,e.I=rt(t,"minimumUpdatePeriod",ir,-1),me=rt(t,"availabilityStartTime",Uo),ye=rt(t,"timeShiftBufferDepth",ir),Ce=e.g.dash.ignoreSuggestedPresentationDelay,_e=null,Ce||(_e=rt(t,"suggestedPresentationDelay",ir)),Ve=e.g.dash.ignoreMaxSegmentDuration,yt=null,Ve||(yt=rt(t,"maxSegmentDuration",ir)),pt=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.V=e.i.presentationTimeline.T()&&pt=="static"),e.l.type=pt,e.i)for(ze=e.i.presentationTimeline,Ft=ze.nb(),Pt=T(Object.values(e.o)),ot=Pt.next();!ot.done;ot=Pt.next())Xt=ot.value,Xt.segmentIndex&&Xt.segmentIndex.Ja(Ft);else Ht=e.g.dash.ignoreMinBufferTime,lt=0,Ht||(lt=rt(t,"minBufferTime",ir)||0),wn=0,wn=_e!=null?Math.min(_e,ye||1/0):0<e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:Math.min(1.5*lt,ye||1/0),ze=new Me(me,wn,e.g.dash.autoCorrectDrift);return ze.Cc(pt=="static"),ze.T()&&!isNaN(e.g.availabilityWindowOverride)&&(ye=e.g.availabilityWindowOverride),ye==null&&(ye=1/0),ze.ve(ye),ti=t.attributes.profiles||"",e.l.profiles=ti.split(","),kn={Kb:pt!="static",presentationTimeline:ze,qa:null,ka:null,ia:null,J:null,bandwidth:0,zf:!1,cb:ae,Sb:null,profiles:ti.split(","),roles:null,rb:function(){return""}},e.L=0,En=FS(e,kn,re,t,!1),On=En.duration,qn=En.periods,(pt!="static"||e.V)&&En.Dg||ze.ab(On||1/0),e.P&&e.ga&&ze.oh(e.da),ze.Jf(yt||1),L(fo,P,2);case 2:return e.P&&e.ga&&(Qa=_e??e.g.defaultPresentationDelay,ze.$f(Qa)),e.i?(e.i.periodCount=qn.length,e.i.gapCount=e.L,L(fo,jS(e,qn,!1),4)):L(fo,e.m.Ve(qn,kn.Kb),6);case 6:if(e.i={presentationTimeline:ze,variants:e.m.l,textStreams:e.m.xf(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:rC(t),nextUrl:iC(t),periodCount:qn.length,gapCount:e.L,isLowLatency:e.P,startTime:null},!ze.Ch()){fo.u(7);break}return Ll=Rt(t,"UTCTiming"),L(fo,pC(e,re,Ll),8);case 8:if(Ps=fo.h,!e.j)return fo.return();ze.ph(Ps);case 7:ze.de();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),oC(e),oe(fo)}})}function jS(e,t,n){var r;return z(function(i){if(i.g==1)return L(i,e.m.Ve(t,!0,n),2);e.i.variants=e.m.l,r=e.m.xf(),0<r.length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),oe(i)})}function eC(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie;return z(function(fe){if(fe.g==1){if(n=t.attributes.mpdId,r=rt(t,"originalPublishTime",Uo),!n||n!==e.l.he||r!==e.l.Fd)throw e.F=[],new X(1,4,4052);for(i=[],o=[],a=new Set,f=T(nd(t)),p=f.next();!p.done;p=f.next())if(g=p.value,m=jo(g.attributes.sel||""),w=m[m.length-1],E=er(g)||"",w.name==="MPD")if(w.Yb==="mediaPresentationDuration"){C=er(g)||"";var re=ir(C);if(re!=null){e.l.Sb=re;for(var ae=T(e.s.values()),me=ae.next();!me.done;me=ae.next())me.value.Sb=re}}else if(w.Yb==="type"){for(e.i.presentationTimeline.Cc(E=="static"),e.l.type=E,re=T(e.s.values()),ae=re.next();!ae.done;ae=re.next())ae.value.Kb=E=="dynamic";E=="static"&&(e.I=-1)}else w.Yb==="publishTime"?e.l.Fd=Uo(E)||0:w.Yb===null&&g.tagName==="add"&&o.push(g);else if(w.name==="PatchLocation")sc(e.F,g);else if(w.name==="Period")g.tagName==="add"?o.push(g):g.tagName==="remove"&&w.id&&nC(e,w.id);else if(w.name==="SegmentTemplate"){if(ae=jo(g.attributes.sel||""),re=ae[ae.length-1],re.Yb){ae=BS(e,ae),me=er(g)||"";for(var ye=T(ae),Ce=ye.next();!Ce.done;Ce=ye.next())Ce=e.s.get(Ce.value),Sh(Ce.J.ic,g.tagName,re.Yb,me);re=ae}else re=[];for(P=re,R=T(P),O=R.next();!O.done;O=R.next())j=O.value,a.add(j)}else if(w.name==="SegmentTimeline"||w.name==="S"){for(re=jo(g.attributes.sel||""),re=BS(e,re),ae=T(re),me=ae.next();!me.done;me=ae.next())me=e.s.get(me.value),me=Cf(me,Es,"SegmentTimeline"),ye=Rt(me,"S"),sc(ye,g),me.children=ye;for(_=re,K=T(_),G=K.next();!G.done;G=K.next())W=G.value,a.add(W)}for(q=T(a),F=q.next();!F.done;F=q.next())Q=F.value,VS(e,Q);for(H=T(o),Z=H.next();!Z.done;Z=H.next())$=Z.value,i.push.apply(i,te(tC(e,$)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.L,L(fe,jS(e,i,!0),2)):fe.u(2)}e.l.type=="static"&&(ie=e.l.Sb,e.i.presentationTimeline.ab(ie||1/0)),oe(fe)})}function tC(e,t){return FS(e,{Kb:e.l.type=="dynamic",presentationTimeline:e.i.presentationTimeline,qa:null,ka:null,ia:null,J:null,bandwidth:0,zf:!1,cb:e.l.cb,profiles:e.l.profiles,Sb:e.l.Sb,roles:null,rb:function(){return""}},e.l.Qa,t,!0).periods}function nC(e,t){e.i.periodCount--;for(var n=T(e.s.keys()),r=n.next();!r.done;r=n.next())if(r=r.value,r.startsWith(t)){var i=e.s.get(r);Cf(i,Es,"SegmentTimeline").children=[],VS(e,r),e.s.delete(r)}e.C=e.C.filter(function(o){return o!==t})}function BS(e,t){var n="",r="",i=-1,o="";t=T(t);for(var a=t.next();!a.done;a=t.next())a=a.value,a.name==="Period"?n=a.id:a.name==="AdaptationSet"?(r=a.id,a.position!==null&&(i=a.position)):a.name==="Representation"&&(o=a.id);if(t=[],o)t.push(n+","+o);else if(r)for(i=T(e.s.values()),e=i.next();!e.done;e=i.next())e=e.value,e.qa.id===n&&e.ia.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=T(e.s.values()),e=r.next();!e.done;e=r.next())e=e.value,e.qa.id===n&&e.ia.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function VS(e,t){var n=e.s.get(t),r=e.o[t];r.segmentIndex&&r.segmentIndex.Ja(e.i.presentationTimeline.nb());try{var i=ES(n,function(o,a,f,p){return qS(e,o,a,f,p)},e.o,!0,e.g.dash.initialSegmentLimit,e.ha,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return z(function(o){if(o.g==1)return r.segmentIndex?o.u(0):L(o,i.pc(),3);r.segmentIndex=o.h,oe(o)})}}catch(o){if(t=n.J.contentType,t!=at&&t!="application"&&t!="image"||o.code!=4002)throw o}}function rC(e){var t=dn(e,"ServiceDescription");if(!t||(e=dn(t,"Latency"),t=dn(t,"PlaybackRate"),!e&&!t))return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function iC(e){if(e=Rt(e,"SupplementalProperty"),!e.length)return null;e=T(e);for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.attributes.schemeIdUri=="urn:mpeg:dash:chaining:2016")return t.attributes.value;return null}function FS(e,t,n,r,i){var o=t.Sb;o||(o=rt(r,"mediaPresentationDuration",ir),e.l.Sb=o);var a=0;e.i&&e.i.presentationTimeline&&e.V&&(a=e.i.presentationTimeline.Ob());var f=[],p=a;r=Rt(r,"Period");for(var g=0;g<r.length;g++){var m=r[g],w=r[g+1],E=rt(m,"start",ir,p),C=m.attributes.id,P=rt(m,"duration",ir);E=g==0&&E==0&&e.V?a:E;var R=null;if(w){var O=rt(w,"start",ir);O!=null&&(R=O-E+a)}else o!=null&&(R=o-E+a);if(O=dd,R&&P&&Math.abs(R-P)>O&&R>P&&e.L++,R==null&&(R=P),!(e.M!==null&&C!==null&&E!==null&&E<e.M)||e.C.includes(C)||g+1==r.length){if(E!==null&&(e.M===null||E>e.M)&&(e.M=E),p=uC(e,t,n,{start:E,duration:R,node:m,Sg:R==null||!w}),f.push(p),t.qa.id&&R&&(e.ha[t.qa.id]=R),R==null){p=null;break}p=E+R}}if(i)for(t=T(f),n=t.next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=f.map(function(j){return j.id});return o!=null?{periods:f,duration:o+a,Dg:!1}:{periods:f,duration:p,Dg:!0}}function oC(e){var t=Object.keys(e.B).filter(function(f){return!e.C.includes(f)});t=T(t);for(var n=t.next();!n.done;n=t.next()){n=n.value;for(var r=!0,i=T(e.B[n]),o=i.next();!o.done;o=i.next()){o=o.value;var a=e.o[o];a&&(a.segmentIndex&&a.segmentIndex.getNumReferences()!=0?r=!1:(e.m&&e.m.Bg(e.o[o],n),delete e.o[o]))}r&&delete e.B[n]}}function uC(e,t,n,r){t.qa=rm(e,r.node,null,n),t.ka=r,t.qa.cb=t.cb,t.qa.id||(t.qa.id="__shaka_period_"+r.start);var i=Rt(r.node,"EventStream");n=t.presentationTimeline.nb(),i=T(i);for(var o=i.next();!o.done;o=i.next())hC(e,r.start,r.duration,o.value,n);for(n=Rt(r.node,"SupplementalProperty"),n=T(n),i=n.next();!i.done;i=n.next())i=i.value,i.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"&&(i=Fp(e,i))&&(t.rb=i);if(n=Rt(r.node,"AdaptationSet").map(function(g,m){return lC(e,t,m,g)}).filter(Ji),t.Kb){for(r=[],i=T(n),o=i.next();!o.done;o=i.next()){o=T(o.value.ej);for(var a=o.next();!a.done;a=o.next())r.push(a.value)}if(r.length!=new Set(r).size)throw new X(2,4,4018)}if(r=n.filter(function(g){return!g.kg}),n=n.filter(function(g){return g.kg}),!e.g.disableIFrames)for(n=T(n),i=n.next();!i.done;i=n.next()){i=i.value,o=i.kg.split(" "),a=T(r);for(var f=a.next();!f.done;f=a.next())if(f=f.value,o.includes(f.id)){f=T(f.streams);for(var p=f.next();!p.done;p=f.next())sr(p.value,i.streams)}}if(n=qy(e.g.disableAudio,r,"audio"),i=qy(e.g.disableVideo,r,"video"),o=qy(e.g.disableText,r,at),r=qy(e.g.disableThumbnails,r,"image"),i.length===0&&n.length===0)throw new X(2,4,4004);return{id:t.qa.id,audioStreams:n,videoStreams:i,textStreams:o,imageStreams:r}}function qy(e,t,n){return e||!t.length?[]:t.reduce(function(r,i){return i.contentType!=n||r.push.apply(r,te(i.streams)),r},[])}function lC(e,t,n,r){function i($){var ie=$.attributes["dvb:fontFamily"];$=$.attributes["dvb:url"],ie&&$&&($=An(t.ia.Qa(),[$],t.rb()),e.j.addFont(ie,$[0]))}function o($){switch($){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function a($){switch($){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.ia=rm(e,r,t.qa,null),t.ia.position=n;var f=!1;n=Rt(r,"Role");var p=n.map(function($){return $.attributes.value}).filter(Ji),g=void 0,m=t.ia.contentType==at;m&&(g="subtitle"),n=T(n);for(var w=n.next();!w.done;w=n.next()){w=w.value;var E=w.attributes.schemeIdUri;if(E==null||E=="urn:mpeg:dash:role:2011")switch(w=w.attributes.value,w){case"main":f=!0;break;case"caption":case"subtitle":g=w}}var C=Rt(r,"EssentialProperty");n=null;var P=!1;w=null,E=!1,C=T(C);for(var R=C.next();!R.done;R=C.next()){R=R.value;var O=R.attributes.schemeIdUri;if(O=="http://dashif.org/guidelines/trickmode")n=R.attributes.value;else if(O=="urn:mpeg:mpegB:cicp:TransferCharacteristics")var j=a(parseInt(R.attributes.value,10));else if(O=="urn:mpeg:mpegB:cicp:ColourPrimaries")var _=o(parseInt(R.attributes.value,10));else O!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(O=="urn:mpeg:dash:ssr:2023"&&e.g.dash.enableFastSwitching?P=!0:O=="urn:dvb:dash:fontdownload:2014"?i(R):O=="urn:mpeg:dash:urlparam:2014"&&(w=Fp(e,R))||(E=!0))}if(E)return null;var K=null;for(E=Rt(r,"SupplementalProperty"),E=T(E),C=E.next();!C.done;C=E.next())C=C.value,R=C.attributes.schemeIdUri,R=="http://dashif.org/guidelines/last-segment-number"?K=parseInt(C.attributes.value,10)-1:R=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?j=a(parseInt(C.attributes.value,10)):R=="urn:mpeg:mpegB:cicp:ColourPrimaries"?_=o(parseInt(C.attributes.value,10)):R=="urn:dvb:dash:fontdownload:2014"?i(C):R=="urn:mpeg:dash:urlparam:2014"&&(w=Fp(e,C));w&&(t.rb=w),w=Rt(r,"Accessibility");var G=new Map,W;for(w=T(w),E=w.next();!E.done;E=w.next())if(C=E.value,E=C.attributes.schemeIdUri,C=C.attributes.value,E!="urn:scte:dash:cc:cea-608:2015"||e.g.disableText)if(E!="urn:scte:dash:cc:cea-708:2015"||e.g.disableText)E=="urn:mpeg:dash:role:2011"?C!=null&&(p.push(C),C=="captions"&&(g="caption")):E=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(C=="1"?W="visually impaired":C=="2"&&(W="hard of hearing"));else if(E=1,C!=null)for(C=T(C.split(";")),R=C.next();!R.done;R=C.next()){O=R.value;var q=R=void 0;O.includes("=")?(O=O.split("="),R="svc"+O[0],q=O[1].split(",")[0].split(":").pop()):(R="svc"+E,E++,q=O),G.set(R,Et(q))}else G.set("svc1","und");else if(E=1,C!=null)for(C=C.split(";"),R=T(C),O=R.next();!O.done;O=R.next()){q=O.value;var F=O=void 0;q.includes("=")?(q=q.split("="),O=q[0].startsWith("CC")?q[0]:"CC"+q[0],F=q[1]||"und"):(O="CC"+E,C.length==2?E+=2:E++,F=q),G.set(O,Et(F))}else G.set("CC1","und");w=Rt(r,"ContentProtection");var Q=hS(w,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),H=Et(t.ia.language||"und"),Z=t.ia.label;if(r=Rt(r,"Representation"),!e.g.dash.ignoreSupplementalCodecs){for(w=[],E=T(r),C=E.next();!C.done;C=E.next())R=C.value,(C=Yi(R,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&(R=Rr(R),R.attributes.codecs=C.split(" ").join(","),w.push(R));r.push.apply(r,te(w))}if(w=r.map(function($){return($=sC(e,t,Q,g,H,Z,f,p,G,$,W,K))&&($.hdr=$.hdr||j,$.colorGamut=$.colorGamut||_,$.fastSwitching=P),$}).filter(function($){return!!$}),w.length==0){if(n=t.ia.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||m||n)return null;throw new X(2,4,4003)}if(!t.ia.contentType||t.ia.contentType=="application")for(t.ia.contentType=zS(w[0].mimeType,w[0].codecs),m=T(w),E=m.next();!E.done;E=m.next())E.value.type=t.ia.contentType;for(m=t.ia.id||"__fake__"+e.pa++,E=T(w),C=E.next();!C.done;C=E.next()){for(C=C.value,R=T(Q.drmInfos),O=R.next();!O.done;O=R.next())O=O.value,O.keyIds=O.keyIds&&C.keyIds?new Set([].concat(te(O.keyIds),te(C.keyIds))):O.keyIds||C.keyIds;C.groupId=m}return r=r.map(function($){return $.attributes.id}).filter(Ji),{id:m,contentType:t.ia.contentType,language:H,Ck:f,streams:w,drmInfos:Q.drmInfos,kg:n,ej:r}}function Fp(e,t){if((t=Ii(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&rt(t,"useMPDUrlQuery",Js,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return n=="$querypart$"?e.ba:n.split("&").map(function(r){if(r=="$querypart$")return e.ba;var i=/\$query:(.*?)\$/g.exec(r);if(i&&i.length==2){i=i[1];var o=new il(e.ba).get(i);if(o.length)return i+"="+o[0]}return r}).join("&")}}return null}function sC(e,t,n,r,i,o,a,f,p,g,m,w){t.J=rm(e,g,t.ia,null);var E=t.J.id;if(e.da=Math.min(e.da,t.J.cb),e.P=0<e.da,!dC(t.J))return null;var C=t.ka.start;t.bandwidth=rt(g,"bandwidth",mo)||0,t.roles=f;var P=Rt(g,"SupplementalProperty"),R=Rt(g,"EssentialProperty"),O=null,j=R.find(function(ae){return ae.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"});(j||(j=P.find(function(ae){return ae.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"})))&&(O=Fp(e,j)),O&&(t.rb=O),j=t.J.contentType,O=j==at||j=="application",j=j=="image";try{var _=void 0;if(n.Re){var K=t.J.Qa,G=t.rb,W=An(K(),[n.Re.Li],G()),q=wt(W,e.g.retryParameters);_={bitsKey:128,blockCipherMode:"CBC",iv:n.Re.iv,firstMediaSequenceNumber:0,fetchKey:function(){var ae,me,ye;return z(function(Ce){if(Ce.g==1)return L(Ce,im(e,q,6),2);if(Ce.g!=3){if(ae=Ce.h,!ae.data||ae.data.byteLength!=16)throw new X(2,4,4049);return me={name:"AES-CBC"},ye=_,L(Ce,x.crypto.subtle.importKey("raw",ae.data,me,!0,["decrypt"]),3)}ye.cryptoKey=Ce.h,_.fetchKey=void 0,oe(Ce)})}}}if(t.J.aesKey=_,K=function(ae,me,ye,Ce){return qS(e,ae,me,ye,Ce)},t.J.ad)var F=DE(t,K,_);else if(t.J.Vb)F=RE(t,e.o,_);else if(t.J.ic)F=ES(t,K,e.o,!!e.i,e.g.dash.initialSegmentLimit,e.ha,_,w,!1);else{var Q=t.ka.duration||0,H=t.J.Qa,Z=t.J.mimeType,$=t.J.codecs;F={pc:function(){var ae=Tl(C,Q,H());return ae.Db(function(me){me.mimeType=Z,me.codecs=$}),Promise.resolve(ae)}}}}catch(ae){if((O||j)&&ae.code==4002)return null;throw ae}g=Rt(g,"ContentProtection"),g=gE(g,n,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),g=new Set(g?[g]:[]),K=P.some(function(ae){return ae.attributes.schemeIdUri=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&ae.attributes.value=="JOC"}),P=t.J.codecs,G=P.includes("ec-3")&&384e3<=t.bandwidth,w=!1,(K||G)&&(w=!0),K=!1,O&&(K=f.includes("forced_subtitle")||f.includes("forced-subtitle"));var ie;if(j&&((R=R.find(function(ae){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(ae.attributes.schemeIdUri)}))&&(ie=R.attributes.value),!ie))return null;var fe;t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(P.includes("hvc1.2.4.L153.B0")||P.includes("hev1.2.4.L153.B0"))&&(fe="PQ"),R=t.J.id?t.qa.id+","+t.J.id:"",e.F.length&&E&&e.s.set(t.qa.id+","+E,aC(t));var re=R&&e.o[R]?e.o[R]:{id:e.pa++,originalId:t.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){re.segmentIndex&&(re.segmentIndex.release(),re.segmentIndex=null)},segmentIndex:null,mimeType:t.J.mimeType,codecs:P,frameRate:t.J.frameRate,pixelAspectRatio:t.J.pixelAspectRatio,bandwidth:t.bandwidth,width:t.J.width,height:t.J.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:g,language:i,originalLanguage:t.ia.language,label:o,type:t.ia.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:t.J.emsgSchemeIdUris,roles:f,forced:K,channelsCount:t.J.je,audioSamplingRate:t.J.audioSamplingRate,spatialAudio:w,closedCaptions:p,hdr:fe,colorGamut:void 0,videoLayout:void 0,tilesLayout:ie,accessibilityPurpose:m,external:!1,fastSwitching:!1,fullMimeTypes:new Set([hn(t.J.mimeType,t.J.codecs)]),isAudioMuxedInVideo:!1};return re.createSegmentIndex=function(){var ae;return z(function(me){if(me.g==1)return re.segmentIndex?me.u(0):(ae=re,L(me,F.pc(),3));ae.segmentIndex=me.h,oe(me)})},R&&t.Kb&&!e.o[R]&&(t=t.qa.id||"",e.B[t]||(e.B[t]=[]),e.o[R]=re,e.B[t].push(R)),re}function aC(e){function t(n){return n?(n=Xr(n),n.ad=null,n.Vb=null,n.ic=Qs(n.ic),n):null}return e=Xr(e),e.qa=t(e.qa),e.ia=t(e.ia),e.J=t(e.J),e.ka&&(e.ka=Xr(e.ka),e.ka.node=null),e}function KS(e){var t,n;return z(function(r){switch(r.g){case 1:return t=0,de(r,2),L(r,tm(e),4);case 4:t=r.h,Oe(r,3);break;case 2:if(n=ke(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),nm(e,t),oe(r)}})}function nm(e,t){if(!(0>e.I)){var n=e.I;0<=e.g.dash.updatePeriod&&(n=e.g.dash.updatePeriod),e.K.aa(Math.max(n-t,Ls(e.na)))}}function rm(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,je:null,audioSamplingRate:null,cb:0,ue:0},r=r||n.Qa;var i=t.attributes.id,o=Rt(t,"BaseURL"),a,f=!1;if(e.h)for(var p=T(o),g=p.next();!g.done;g=p.next()){var m=g.value;g=m.attributes.serviceLocation,m=er(m),g&&m&&(Pf(e.h,i,g,m),f=!0)}f&&e.h||(a=o.map(er)),p=t.attributes.contentType||n.contentType,g=t.attributes.mimeType||n.mimeType,m=lp([t.attributes.codecs||n.codecs]).join(",");var w=rt(t,"frameRate",oi)||n.frameRate,E=t.attributes.sar||n.pixelAspectRatio,C=cC(Rt(t,"InbandEventStream"),n.emsgSchemeIdUris),P=Rt(t,"AudioChannelConfiguration");P=fC(P)||n.je;var R=rt(t,"audioSamplingRate",Nn)||n.audioSamplingRate;p||(p=zS(g,m));var O=dn(t,"SegmentBase"),j=dn(t,"SegmentTemplate"),_=O&&rt(O,"availabilityTimeOffset",Zu)||0,K=j&&rt(j,"availabilityTimeOffset",Zu)||0,G=o&&o.length&&rt(o[0],"availabilityTimeOffset",Zu)||0;_=n.cb+G+_+K,K=null,(G=dn(t,"SegmentSequenceProperties"))&&(G=dn(G,"SAP"))&&(K=rt(G,"cadence",or)),G=t.attributes.label;var W=Rt(t,"Label");return W&&W.length&&(W=W[0],ln(W)&&(G=ln(W))),{Qa:function(){return An(r(),o.length?e.h&&f?Np(e.h,i):a||[]:[])},ad:O||n.ad,Vb:dn(t,"SegmentList")||n.Vb,ic:j||n.ic,width:rt(t,"width",Nn)||n.width,height:rt(t,"height",Nn)||n.height,contentType:p,mimeType:g,codecs:m,frameRate:w,pixelAspectRatio:E,emsgSchemeIdUris:C,id:i,language:t.attributes.lang,je:P,audioSamplingRate:R,cb:_,ae:null,ue:K||n.ue,label:G||null}}function cC(e,t){t=t.slice(),e=T(e);for(var n=e.next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}function fC(e){e=T(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(t,10),!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],t=parseInt(t,16),!t)continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),t=parseInt(t,16),!t)continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}function dC(e){var t=e.ad?1:0;return t+=e.Vb?1:0,t+=e.ic?1:0,t==0?e.contentType==at||e.contentType=="application":(t!=1&&(e.ad&&(e.Vb=null),e.ic=null),!0)}function HS(e,t,n,r){var i,o,a,f,p,g,m;return z(function(w){if(w.g==1)return i=[rr(n)],o=An(t(),i),a=wt(o,e.g.retryParameters),a.method=r,f=e.j.networkingEngine.request(4,a,{isPreload:e.fa()}),Zo(e.O,f),L(w,f.promise,2);if(p=w.h,r=="HEAD"){if(!p.headers||!p.headers.date)return w.return(0);g=p.headers.date}else g=Jt(p.data);return m=Date.parse(g),isNaN(m)?w.return(0):w.return(m-Date.now())})}function pC(e,t,n){var r,i,o,a,f,p,g,m;return z(function(w){switch(w.g){case 1:r=n.map(function(E){return{scheme:E.attributes.schemeIdUri,value:E.attributes.value}}),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=T(r),a=o.next();case 2:if(a.done){w.u(4);break}switch(f=a.value,de(w,5),p=f.scheme,g=f.value,p){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return w.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return w.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return m=Date.parse(g),w.return(isNaN(m)?0:m-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":ft("NTP UTCTiming scheme is not supported");break;default:ft("Unrecognized scheme in UTCTiming element",p)}w.u(9);break;case 7:return L(w,HS(e,t,g,"HEAD"),10);case 10:return w.return(w.h);case 8:return L(w,HS(e,t,g,"GET"),11);case 11:return w.return(w.h);case 9:Oe(w,3);break;case 5:ke(w);case 3:a=o.next(),w.u(2);break;case 4:return ft("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),w.return(0)}})}function hC(e,t,n,r,i){var o=r.attributes.schemeIdUri||"",a=r.attributes.value||"",f=rt(r,"timescale",Nn)||1,p=rt(r,"presentationTimeOffset",Nn)||0;r=T(Rt(r,"Event"));for(var g=r.next();!g.done;g=r.next()){g=g.value;var m=rt(g,"presentationTime",Nn)||0,w=rt(g,"duration",Nn)||0;m=Math.max((m-p)/f+t,t),w=m+w/f,n!=null&&(m=Math.min(m,t+n),w=Math.min(w,t+n)),w<i||(g={schemeIdUri:o,value:a,startTime:m,endTime:w,id:g.attributes.id||"",eventElement:ac(g),eventNode:Qs(g)},e.j.onTimelineRegionAdded(g))}}function qS(e,t,n,r,i){var o,a,f,p;return z(function(g){return g.g==1?(o=Lr,a=i?0:1,f=Il(t,n,r,e.g.retryParameters),L(g,im(e,f,o,{type:a}),2)):(p=g.h,g.return(p.data))})}function zS(e,t){return t=hn(e,t),Iu(t)?at:e.split("/")[0]}function im(e,t,n,r){return r||(r={}),r.isPreload=e.fa(),t=e.j.networkingEngine.request(n,t,r),Zo(e.O,t),t.promise}function yC(e){var t=e.l.Fd;if(!e.l.he||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter(function(i){return i=Nn(i.attributes.ttl),!i||t+i>n}).map(er).filter(Ji);return r.length?An(e.A,r):[]}Re("shaka.dash.DashParser",Hy),fi["application/dash+xml"]=function(){return new Hy},fi["video/vnd.mpeg.dash.mpd"]=function(){return new Hy};function zy(){}Re("shaka.dependencies",zy),zy.has=function(e){return om.has(e)},zy.add=function(e,t){if(!WS[e])throw Error(e+" is not supported");e==GS?Ot("mux.js","mux.js is no longer used in Shaka Player."):om.set(e,function(){return t})};var GS="muxjs",WS={Dk:GS,ISOBoxer:"ISOBoxer"};zy.Allowed=WS;var om=new Map([["ISOBoxer",function(){return x.ISOBoxer}]]);function XS(e,t,n){this.type=e,this.Y=t,this.segments=n||null}function um(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=r===void 0?null:r}um.prototype.toString=function(e){function t(i){return i.name+"="+(isNaN(Number(i.value))?'"'+i.value+'"':i.value)}var n="#"+this.name,r=this.attributes?this.attributes.filter(function(i){return e?!e.has(i.name):!0}).map(t):[];return this.value&&r.unshift(this.value),0<r.length&&(n+=":"+r.join(",")),n};function YS(e,t){return t?e.toString():(t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function Of(e,t){return e=e.attributes.filter(function(n){return n.name==t}),e.length?e[0]:null}function je(e,t,n){return(e=Of(e,t))?e.value:n||null}function Vt(e,t){if(e=Of(e,t),!e)throw new X(2,4,4023,t);return e.value}function $S(e,t,n){n=n===void 0?[]:n,this.Y=t,this.g=e,this.Fb=n}function lm(e,t){this.name=e,this.value=t}function oo(e,t){return e.filter(function(n){return n.name==t})}function JS(e,t){return e.filter(function(n){return Vt(n,"TYPE")==t})}function Jn(e,t){e=T(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function Rf(e,t,n){return n=n===void 0?0:n,(e=Jn(e,t))?Number(e.value):n}function ks(e,t,n){return t?QS(e,[t],n):[]}function QS(e,t,n){if(!t.length)return[];t=An(e,t),e=[],t=T(t);for(var r=t.next();!r.done;r=t.next())e.push(ZS(r.value,n));return e}function ZS(e,t){if(!t||!t.size)return e;e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=T(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;var i=r.slice(2,r.length-1),o=t.get(i);if(o)e=e.replace(r,o);else throw new X(2,4,4039,i)}}return e}function gC(){this.g=0}function sm(e,t){t=Jt(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new X(2,4,4015);t=0;for(var r=!0,i=T(n),o=i.next();!o.done;o=i.next())if(o=o.value,/^#(?!EXT)/m.test(o)||r)r=!1;else if(o=am(e,o),--e.g,ew.includes(o.name)){t=1;break}else o.name=="EXT-X-STREAM-INF"&&(r=!0);for(i=[],r=!0,o=0;o<n.length;o++){var a=n[o],f=n[o+1];if(/^#(?!EXT)/m.test(a)||r)r=!1;else{if(a=am(e,a),vC.includes(a.name)){if(t!=1)throw new X(2,4,4017);a=n.splice(o,n.length-o),n=[],r=[],o=[],f=null,a=T(a);for(var p=a.next();!p.done;p=a.next())p=p.value,/^(#EXT)/.test(p)?(p=am(e,p),ew.includes(p.name)?i.push(p):p.name=="EXT-X-MAP"?f=p:p.name=="EXT-X-PART"?o.push(p):p.name=="EXT-X-PRELOAD-HINT"?je(p,"TYPE")=="PART"?o.push(p):je(p,"TYPE")=="MAP"&&(p.name="EXT-X-MAP",f=p):r.push(p)):/^#(?!EXT)/m.test(p)||(p=p.trim(),f&&r.push(f),n.push(new $S(p,r,o)),r=[],o=[]);return o.length&&(f&&r.push(f),n.push(new $S("",r,o))),new XS(t,i,n)}i.push(a),a.name=="EXT-X-STREAM-INF"&&(a.attributes.push(new lm("URI",f)),r=!0)}}return new XS(t,i)}function am(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new X(2,4,4016,t);t=n[1];var r=n[2];n=[];var i;if(r){r=new Ju(r);var o;(o=vo(r,/^([^,=]+)(?:,|$)/g))&&(i=o[1]);for(var a=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=vo(r,a);)n.push(new lm(o[1],o[2]||o[3])),Su(r)}return new um(e,t,n,i)}var ew="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),vC="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function tw(){}function nw(e,t){try{var n=Gy(e);return Qo({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(r){return Ai(r)}}function Gy(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new X(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new X(2,1,1004,e);var n=t[0];e=x.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var r=!1;1<t.length&&t[t.length-1]=="base64"&&(r=!0,t.pop());var i;return r?i=li(e):i=ri(e),{data:i,contentType:n}}Re("shaka.net.DataUriPlugin",tw),tw.parse=nw,_n("data",nw);function Wy(){var e=this;this.g=this.h=null,this.C=1,this.A=new Map,this.H=new Map,this.M=new Map,this.M.set("video",new Map),this.M.set("audio",new Map),this.M.set(at,new Map),this.M.set("image",new Map),this.Cb=new Set,this.i=new Map,this.l=null,this.L="",this.Ia=new gC,this.I=-1,this.fa=1/0,this.da=this.dc=this.Pa=!1,this.B=new st(function(){if(e.$&&!e.g.continueLoadingWhenPaused&&(e.V.bb(e.$,"timeupdate"),e.$.paused)){e.V.la(e.$,"timeupdate",function(){return xw(e)});return}xw(e)}),this.Ca=Qy,this.m=null,this.Na=0,this.o=1/0,this.Ha=this.za=this.P=0,this.ba=new cl,this.F=new Map,this.G=new Map,this.sa=new Map,this.ha=new Map,this.K=new Map,this.na=new Map,this.pa=new Map,this.Qb=this.ga=!1,this.Lb=new Gu(5),this.j=null,this.O=!0,this.Ba=new Set,this.V=new At,this.s=this.$=null,this.Mb=function(){return!1}}h=Wy.prototype,h.configure=function(e,t){var n=this.h&&e.hls.updatePeriod!=this.g.hls.updatePeriod&&0<=e.hls.updatePeriod;this.g=e,t&&(this.Mb=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.T()&&this.B.Hb()},h.start=function(e,t){var n=this,r;return z(function(i){return i.g==1?(n.h=t,n.ga=t.isLowLatencyMode(),L(i,vm(n,[e]).promise,2)):i.g!=3?(r=i.h,n.L=r.uri,L(i,wC(n,r.data,e),3)):i.return(n.m)})},h.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.ba&&(e.push(this.ba.destroy()),this.ba=null),this.g=this.h=null,this.Cb.clear(),this.m=null,this.i.clear(),this.H.clear(),this.G.clear(),this.A.clear(),this.sa.clear(),this.ha.clear(),this.K.clear(),this.na.clear(),this.pa.clear(),this.Ba.clear(),this.j&&this.j.destroy(),this.V&&(this.V.release(),this.V=null),Promise.all(e)},h.update=function(){var e=this,t,n,r,i,o,a,f,p,g,m,w,E;return z(function(C){if(C.g==1){if(!Br(e))return C.return();for(t=[],n=Array.from(e.i.values()),e.o=1/0,e.m.gapCount=0,r=n.filter(function(P){return P.stream.segmentIndex}),i=T(r),o=i.next();!o.done;o=i.next())a=o.value,t.push(mC(e,a));return L(C,Promise.all(t),2)}for(aw(e,r.map(function(P){return P.stream})),f=r.some(function(P){return P.od==0}),r.length&&!f&&(p=FC,$y(e,p.Hh),g=r.map(function(P){return P.Rb}),e.l.ab(Math.min.apply(Math,te(g))),e.h.updateDuration()),f&&fm(e),m=T(r),w=m.next();!w.done;w=m.next())E=w.value,E.stream.isAudioMuxedInVideo||!E.stream.segmentIndex||Qr(E.stream.segmentIndex)||e.h.disableStream(E.stream);oe(C)})};function cm(e,t){return Br(e)?e.M.get(t.type):t.ee}function mC(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e;return z(function(Ve){switch(Ve.g){case 1:if(t.stream.isAudioMuxedInVideo)return Ve.return();for(n=[],r=T(t.N()),i=r.next();!i.done;i=r.next())o=i.value,a=new pn(o),f=a.g,t.Pd&&(0<=t.yb&&f.add("_HLS_msn",String(t.yb)),0<=t.zb&&f.add("_HLS_part",String(t.zb))),t.Qd&&f.add("_HLS_skip","YES"),ad(f)&&Tu(a,f),n.push(a.toString());return de(Ve,2),L(Ve,vm(e,n,!0).promise,4);case 4:p=Ve.h,Oe(Ve,3);break;case 2:throw g=ke(Ve),e.h&&e.h.disableStream(t.stream),g;case 3:if(!t.stream.segmentIndex)return Ve.return();if(m=sm(e.Ia,p.data),m.type!=1)throw new X(2,4,4017);return w=p.uri,w==p.originalUri||t.N().includes(w)||t.gh.push(w),E=oo(m.Y,"EXT-X-DEFINE"),C=dm(e,E,w),P=t.stream,R=cm(e,t),L(Ve,pw(e,m,P.mimeType,t.N,C),5);case 5:for(O=Ve.h,j=O.keyIds,_=O.drmInfos,K=function(yt,pt){return yt.size===pt.size&&[].concat(te(yt)).every(function(ze){return pt.has(ze)})},K(P.keyIds,j)||(P.keyIds=j,P.drmInfos=_,e.h.newDrmInfo(P)),G=Sw(e,m,R,C,t.N,t.type),W=G.segments,(q=G.bandwidth)&&(P.bandwidth=q),F=Oo(P),Q=T(W),H=Q.next();!H.done;H=Q.next())Z=H.value,Z.ca&&(Z.ca.Tc=F);P.segmentIndex.yd(W,e.l.nb()),W.length&&($=Rf(m.Y,"EXT-X-MEDIA-SEQUENCE",0),fe=(ie=Jn(m.Y,"EXT-X-SKIP"))?Number(je(ie,"SKIPPED-SEGMENTS")):0,re=fw($,W),ae=re.yb,me=re.zb,t.yb=ae+fe,t.zb=me,ye=R.get($),P.segmentIndex.Ja(ye)),(Ce=Qr(P.segmentIndex))&&(t.yc=Ce.startTime,_e=W[W.length-1],t.Rb=_e.endTime),Jn(m.Y,"EXT-X-ENDLIST")&&(t.od=!0),hm(e,m),ym(e,m.Y,P.type,C,t.N),oe(Ve)}})}h.onExpirationUpdated=function(){},h.onInitialVariantChosen=function(){},h.banLocation=function(e){this.j&&this.j.banLocation(e)},h.setMediaElement=function(e){this.$=e};function rw(e,t,n){n=n===void 0?!1:n;for(var r=e.I==-1,i=T(t),o=i.next();!o.done;o=i.next()){o=o.value;var a=o.stream.segmentIndex,f=cm(e,o);if(a=Qr(a)){f=T(f);for(var p=f.next();!p.done;p=f.next()){p=T(p.value);var g=p.next().value;if(p.next().value==a.startTime){r&&(e.I=Math.max(e.I,g)),o.bf=g;break}}}}if(!(0>e.I))for(t=T(t),r=t.next();!r.done;r=t.next())r=r.value,(Kp(e,r.type)||n)&&(i=r.stream.segmentIndex)&&(o=e.I-r.bf,0<o&&(i.g.splice(0,o),i=Qr(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),iw(e,r,i)))}function SC(e,t){if(e.fa==1/0){t=T(t);for(var n=t.next();!n.done;n=t.next())n=Qr(n.value.stream.segmentIndex),n!=null&&n.h!=null&&(e.fa=Math.min(e.fa,n.h))}if(t=e.fa,t!=1/0){n=T(e.i.values());for(var r=n.next();!r.done;r=n.next())if(r=r.value,!Kp(e,r.type)){var i=r.stream.segmentIndex;if(i!=null){var o=Qr(i);if(o)if(o.h==null)mi("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(iw(e,r,o.h-t-o.startTime),r=T(i),i=r.next();!i.done;i=r.next())i.value.fg(t)}}}}function iw(e,t,n){t.yc+=n,t.Rb+=n,e=cm(e,t);for(var r=T(e),i=r.next();!i.done;i=r.next()){var o=T(i.value);i=o.next().value,o=o.next().value,e.set(i,o+n)}t.N()}function wC(e,t,n){var r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e,Ve,yt;return z(function(pt){switch(pt.g){case 1:return r=sn,i=sm(e.Ia,t),o=oo(i.Y,"EXT-X-DEFINE"),a=[],f=[],p=[],e.l=new Me(null,0),e.l.Cc(!0),g=function(){return[n]},m=null,w=new Map,i.type==1?(e.O=!1,$=oo(i.Y,"EXT-X-DEFINE"),w=dm(e,$,e.L),m=r.oa,ie="",fe=new Map,L(pt,cw(e,e.C++,w,i,g,"",m,ie,!0,"Media Playlist",null,fe,null,!1,null,!1),7)):(xC(e,o),E=oo(i.Y,"EXT-X-MEDIA"),C=oo(i.Y,"EXT-X-STREAM-INF"),P=oo(i.Y,"EXT-X-IMAGE-STREAM-INF"),R=oo(i.Y,"EXT-X-I-FRAME-STREAM-INF"),O=oo(i.Y,"EXT-X-SESSION-KEY"),j=oo(i.Y,"EXT-X-SESSION-DATA"),_=oo(i.Y,"EXT-X-CONTENT-STEERING"),EC(e,j),L(pt,CC(e,_),4));case 4:if(!e.g.hls.ignoreSupplementalCodecs){for(K=[],G=T(C),W=G.next(),q={};!W.done;q={zh:void 0},W=G.next())F=W.value,(Q=je(F,"SUPPLEMENTAL-CODECS"))&&(q.zh=Q.split(/\s*,\s*/).map(function(ze){return ze.split("/")[0]}),H=F.attributes.map(function(ze){return function(Ft){var Pt=Ft.name;return Ft=Ft.value,Pt=="CODECS"&&(Ft=ze.zh.join(",")),new lm(Pt,Ft)}}(q)),K.push(new um(F.id,F.name,H,null)));C.push.apply(C,te(K))}return IC(e,C),LC(e,E),Z=DC(e,R),L(pt,OC(e,C,O,E,g,e.A,Z),5);case 5:return a=pt.h,f=kC(e,E),L(pt,AC(e,P,R),6);case 6:p=pt.h,pt.u(3);break;case 7:re=pt.h,e.i.set(n,re),re.stream&&(ae=Oo(re.stream),re.stream.segmentIndex.Db(function(ze){ze.ca&&(ze.ca.Tc=ae)})),m=re.stream.type,a.push({id:0,language:Et(ie||"und"),disabledUntilTime:0,primary:!0,audio:m=="audio"?re.stream:null,video:m=="video"?re.stream:null,bandwidth:re.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new X(2,7,7001);if(yw(e,i),i.type==1&&(Br(e)&&(gw(e,i),me=e.o,e.B.aa(me)),ye=Array.from(e.i.values()),pm(e,ye),fm(e),ym(e,i.Y,m,w,g)),e.m={presentationTimeline:e.l,variants:a,textStreams:f,imageStreams:p,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.s},e.da||!e.g.hls.disableCodecGuessing){pt.u(8);break}for(Ce=[],_e=T(e.m.variants),Ve=_e.next();!Ve.done;Ve=_e.next())yt=Ve.value,yt.audio&&yt.audio.codecs===""&&Ce.push(yt.audio.createSegmentIndex()),yt.video&&yt.video.codecs===""&&Ce.push(yt.video.createSegmentIndex());return L(pt,Promise.all(Ce),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),oe(pt)}})}function TC(e,t){var n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q;return z(function(H){switch(H.g){case 1:if(n=Ba(e.g.hls.mediaPlaylistFullMimeType),!t.length)return H.return(n);if(r=ww(e,t),i=r.segment,o=r.segmentIndex,a=i.N(),f=a[0],p=new pn(f),g=p.Za.split(".").pop(),m=mm[g])return H.return(Ba(m));if(w=Lr,C=E=null,P=i.ca,!P){H.u(2);break}return R=Il(P.N(),P.bc(),P.$b(),e.g.retryParameters),L(H,Ml(e,R,w,{type:0}).promise,3);case 3:if(O=H.h,E=O.data,!P.aesKey){H.u(4);break}return L(H,of(E,P.aesKey,0),5);case 5:E=H.h;case 4:(C=O.headers["content-type"])&&(C=C.split(";")[0].toLowerCase());case 2:return j=Il(i.N(),i.bc(),i.$b(),e.g.retryParameters),L(H,Ml(e,j,w,{type:1}).promise,6);case 6:if(_=H.h,K=_.data,!i.aesKey){H.u(7);break}return L(H,of(K,i.aesKey,o),8);case 8:K=H.h;case 7:if((G=_.headers["content-type"])&&(G=G.split(";")[0].toLowerCase()),W="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),q=["audio/mp4","video/mp4","video/iso.segment"],hs(Ze(K))){var Z=K,$=e.g.disableAudio,ie=e.g.disableVideo,fe=e.g.disableText,re=Ze(Z),ae=new Wt().parse(re),me=ae.kd();re=ae.yf();var ye=[],Ce=!1,_e=!1;if(!$)switch(me.audio){case"aac":case"aac-loas":ae.fb().length&&(ye.push("mp4a.40.2"),Ce=!0);break;case"mp3":ae.fb().length&&(ye.push("mp4a.40.34"),Ce=!0);break;case"ac3":ae.fb().length&&(ye.push("ac-3"),Ce=!0);break;case"ec3":ae.fb().length&&(ye.push("ec-3"),Ce=!0);break;case"opus":ae.fb().length&&(ye.push("opus"),Ce=!0)}if(!ie)switch(me.video){case"avc":re.codec?ye.push(re.codec):ye.push("avc1.42E01E"),_e=!0;break;case"hvc":re.codec?ye.push(re.codec):ye.push("hvc1.1.6.L93.90"),_e=!0;break;case"av1":ye.push("av01.0.01M.08"),_e=!0}if(ye.length){if($=Ce&&!_e,ie=new Map,_e&&!fe){for(fe=new Zn("video/mp2t"),fe.i(Z),Z=T(fe.j()),_e=Z.next();!_e.done;_e=Z.next())_e=_e.value,ie.set(_e,_e);fe.g()}re={type:$?"audio":"video",mimeType:"video/mp2t",codecs:ye.join(", "),language:null,height:re.height,width:re.width,channelCount:null,sampleRate:null,closedCaptions:ie,Jd:null,colorGamut:null,frameRate:re.frameRate}}else re=null;if(F=re)return H.return(F)}else if((W.includes(g)||q.includes(G)||C&&q.includes(C))&&(Q=Ln(E,K,e.g.disableText)))return H.return(Q);return G?H.return(Ba(G)):C?H.return(Ba(C)):H.return(n)}})}function fm(e){if(Br(e)){if(e.Ca==Zy){for(var t=1/0,n=1/0,r=T(e.i.values()),i=r.next();!i.done;i=r.next())i=i.value,i.stream.segmentIndex&&i.stream.type!="text"&&!i.stream.isAudioMuxedInVideo&&(t=Math.min(t,i.Rb),n=Math.min(n,i.yc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.ve(t)}}else e.l.ab(sw(e));if(!e.l.s)for(t=T(e.i.values()),n=t.next();!n.done;n=t.next())n=n.value,!n.stream.segmentIndex||n.type!="audio"&&n.type!="video"||(n=Qr(n.stream.segmentIndex))&&n.h&&e.l.qh(n.h);e.l.de()}function xC(e,t){var n=new pn(e.L).g;t=T(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=je(i,"NAME");var o=je(i,"VALUE");i=je(i,"QUERYPARAM"),r&&o&&(e.A.has(r)||e.A.set(r,o)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}function dm(e,t,n){n=new pn(n).g;var r=new Map;t=T(t);for(var i=t.next();!i.done;i=t.next()){var o=i.value,a=je(o,"NAME"),f=je(o,"VALUE");i=je(o,"QUERYPARAM"),o=je(o,"IMPORT"),a&&f&&(r.has(a)||r.set(a,f)),i&&(a=n.get(i)[0])&&!r.has(a)&&r.set(i,a),o&&(i=e.A.get(o))&&r.set(o,i)}return r}function IC(e,t){t=T(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=je(r,"AUDIO");n=je(r,"VIDEO");var o=je(r,"SUBTITLES");if(r=ow(e,r),o){var a=lr(at,r);e.G.set(o,a),Hr(r,a)}i&&(o=lr("audio",r),o||(o=e.g.hls.defaultAudioCodec),e.G.set(i,o)),n&&(i=lr("video",r),i||(i=e.g.hls.defaultVideoCodec),e.G.set(n,i))}}function EC(e,t){t=T(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=je(r,"DATA-ID");n=je(r,"URI");var o=je(r,"LANGUAGE");r=je(r,"VALUE"),i=new Map().set("id",i),n&&i.set("uri",ks([e.L],n,e.A)[0]),o&&i.set("language",o),r&&i.set("value",r),n=new Te("sessiondata",i),e.h&&e.h.onEvent(n)}}function CC(e,t){var n,r,i,o,a,f;return z(function(p){if(!e.h||!e.g)return p.return();for(r=T(t),i=r.next();!i.done;i=r.next())if(o=i.value,a=je(o,"PATHWAY-ID"),f=je(o,"SERVER-URI"),a&&f){e.j=new Af(e.h),e.j.configure(e.g),e.j.i=[e.L],e.j.setManifestType("HLS"),e.j.h=a,n=bp(e.j,f);break}return L(p,n,0)})}function kC(e,t){var n=JS(t,"SUBTITLES");t=n.map(function(a){if(e.g.disableText)return null;try{return uw(e,[a],new Map).stream}catch(f){if(e.g.hls.ignoreTextStreamFailures)return null;throw f}}),n=T(n);for(var r=n.next();!r.done;r=n.next()){var i=Vt(r.value,"GROUP-ID");if((r=e.G.get(i))&&(i=e.H.get(i))){i=T(i);for(var o=i.next();!o.done;o=i.next())o=o.value,o.stream.codecs=r,o.stream.mimeType=gm(at,r)||Yy(at),Ya(o.stream)}}return t.filter(function(a){return a})}function Ya(e){var t=new Set([hn(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Db(function(n){n.mimeType&&t.add(hn(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function AC(e,t,n){var r,i;return z(function(o){return o.g==1?(r=t.map(function(a){var f,p;return z(function(g){if(g.g==1)return e.g.disableThumbnails?g.return(null):(de(g,2),L(g,bC(e,a),4));if(g.g!=2)return f=g.h,g.return(f.stream);if(p=ke(g),e.g.hls.ignoreImageStreamFailures)return g.return(null);throw p})}).concat(n.map(function(a){if(e.g.disableThumbnails)return null;try{var f=lw(e,a);return f.stream.type!=="image"?null:f.stream}catch(p){if(e.g.hls.ignoreImageStreamFailures)return null;throw p}})),L(o,Promise.all(r),2)):(i=o.h,o.return(i.filter(function(a){return a})))})}function PC(e,t,n){t=t.filter(function(f){var p=je(f,"URI")||"";return f=je(f,"TYPE"),f!="SUBTITLES"&&(p!=""||f=="AUDIO")});var r={};t=T(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=YS(i,!e.j);r[o]?r[o].push(i):r[o]=[i]}for(var a in r)uw(e,r[a],n,!1)}function DC(e,t){return t.map(function(n){return n=lw(e,n),n.stream.type!=="video"?null:n.stream}).filter(function(n){return n})}function OC(e,t,n,r,i,o,a){var f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e,Ve,yt,pt,ze,Ft,Pt;return z(function(ot){switch(ot.g){case 1:if(f=[],p=new Set,!(0<n.length)){ot.u(2);break}g=T(n),m=g.next();case 3:if(m.done){ot.u(2);break}if(w=m.value,E=Vt(w,"METHOD"),C=je(w,"KEYFORMAT")||"identity",P=null,E=="NONE"){ot.u(4);break}if(Jy(E)){R=ks(i(),Vt(w,"URI"),o),O=R.sort().join(""),e.K.has(O)||(j=wt(R,e.g.retryParameters),_=Ml(e,j,6).promise,e.K.set(O,_)),ot.u(4);break}if(C!="identity"){P=(K=Cw[C])?K(w,""):null,ot.u(6);break}return L(ot,Iw(e,w,"",i,null,o),9);case 9:P=ot.h;case 6:if(P){if(P.keyIds)for(G=T(P.keyIds),W=G.next();!W.done;W=G.next())q=W.value,p.add(q);f.push(P)}case 4:m=g.next(),ot.u(3);break;case 2:for(F={},Q=T(t),H=Q.next();!H.done;H=Q.next())Z=H.value,$=YS(Z,!e.j),F[$]?F[$].push(Z):F[$]=[Z];ie=[];for(fe in F)re=F[fe],ae=re[0],me=je(ae,"FRAME-RATE"),ye=Number(je(ae,"AVERAGE-BANDWIDTH"))||Number(Vt(ae,"BANDWIDTH")),Ce=je(ae,"RESOLUTION"),_e=T(Ce?Ce.split("x"):[null,null]),Ve=_e.next().value,yt=_e.next().value,pt=je(ae,"VIDEO-RANGE"),(ze=je(ae,"REQ-VIDEO-LAYOUT"))&&ze.includes(",")&&(Ft=ze.split(",").filter(function(Xt){return Xt=="CH-STEREO"||Xt=="CH-MONO"}),ze=Ft[0]),ze=ze||"CH-MONO",Pt=RC(e,re,r),ie.push.apply(ie,te(MC(e,Pt.audio,Pt.video,ye,Ve,yt,me,pt,ze,f,p,a)));return ot.return(ie.filter(function(Xt){return Xt!=null}))}})}function RC(e,t,n){for(var r={audio:[],video:[]},i=new Map,o=[],a=!1,f=!1,p=T(t),g=p.next();!g.done;g=p.next()){var m=g.value;g=je(m,"AUDIO");var w=je(m,"VIDEO"),E=g||w;E&&(o.includes(E)||o.push(E),(m=je(m,"PATHWAY-ID"))&&i.set(E,m),g?a=!0:w&&(f=!0))}o.length&&n.length&&(n=n.filter(function(P){return o.includes(Vt(P,"GROUP-ID"))}),PC(e,n,i)),n=(i=o.sort().join(","))&&e.H.has(i)?e.H.get(i):[],a?r.audio.push.apply(r.audio,te(n)):f&&r.video.push.apply(r.video,te(n)),a=!1;var C=t.map(function(P){return Vt(P,"URI")});return g=r.audio.find(function(P){return P&&P.N().find(function(R){return C.includes(R)})}),f=ow(e,t[0]),n=lr("video",f),(p=lr("audio",f))&&!n?(g="audio",a=0<r.audio.length):!r.audio.length&&!r.video.length&&p&&n?(g="video",f=[[n,p].join()]):r.audio.length&&g?(g="audio",a=!0):g=r.video.length&&!r.audio.length?"audio":"video",a||(e=NC(e,t,f,g),i&&(e.stream.groupId=i),r[e.stream.type]=[e]),r}function ow(e,t){return t=je(t,"CODECS")||"",e.da=0<t.length,e.da||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),lp(t.split(/\s*,\s*/))}function MC(e,t,n,r,i,o,a,f,p,g,m,w){for(var E=T(n),C=E.next();!C.done;C=E.next())Tw(C.value.stream,i,o,a,f,p,null);for(i=e.g.disableAudio,(!t.length||i)&&(t=[null]),i=e.g.disableVideo,(!n.length||i)&&(n=[null]),i=[],t=T(t),o=t.next();!o.done;o=t.next())for(o=o.value,a=T(n),f=a.next();!f.done;f=a.next()){var P=f.value;(f=o?o.stream:null)&&(f.drmInfos=g,f.keyIds=m),(p=P?P.stream:null)&&(p.drmInfos=g,p.keyIds=m,e.g.disableIFrames||sr(p,w)),p&&!f&&(p.bandwidth=r),!p&&f&&(f.bandwidth=r),E=o?o.stream.drmInfos:null,C=P?P.stream.drmInfos:null,P=P?P.N().sort().join(","):"";var R=o?o.N().sort().join(","):"",O=[];f&&f.codecs&&O.push(f.codecs),p&&p.codecs&&O.push(p.codecs),P=[P,R,O.sort()].join("-"),f&&p&&!Jf(E,C)||e.Cb.has(P)||(f={id:e.C++,language:f?f.language:"und",disabledUntilTime:0,primary:!!f&&f.primary||!!p&&p.primary,audio:f,video:p,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(f),e.Cb.add(P))}return i}function LC(e,t){t=JS(t,"CLOSED-CAPTIONS"),e.O=t.length==0,t=T(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=je(r,"LANGUAGE");n=Et(i||"und"),i||(i=je(r,"NAME"))&&(n=i),i=Vt(r,"GROUP-ID"),r=Vt(r,"INSTREAM-ID").replace("SERVICE","svc"),e.F.get(i)||e.F.set(i,new Map),e.F.get(i).set(r,n)}}function uw(e,t,n,r){r=r===void 0?!0:r;for(var i=[],o=[],a=new Map,f=T(t),p=f.next();!p.done;p=f.next()){var g=p.value;p=r?Vt(g,"URI"):je(g,"URI")||"shaka://hls-muxed",g=Vt(g,"GROUP-ID"),i.push(p),o.push(g),a.set(g,p)}if(r=o.sort().join(","),p=t[0],t="",f=Vt(p,"TYPE").toLowerCase(),f=="subtitles"&&(f=at),f==at)t=je(p,"CODECS")||"";else for(o=T(o),g=o.next();!g.done;g=o.next())if(g=g.value,e.G.has(g)){t=e.G.get(g);break}if(o=i.sort().join(","),e.i.has(o))return e.i.get(o);if(g=e.C++,e.j){a=T(a);for(var m=a.next();!m.done;m=a.next()){var w=T(m.value);m=w.next().value,w=w.next().value,(m=n.get(m))&&Pf(e.j,g,m,w)}}n=je(p,"LANGUAGE"),a=je(p,"NAME"),m=je(p,"DEFAULT")=="YES",f=="audio"?w=(w=je(p,"CHANNELS"))?parseInt(w.split("/")[0],10):null:w=null;var E=f=="audio"&&(E=je(p,"CHANNELS"))?E.includes("/JOC"):!1,C=je(p,"CHARACTERISTICS"),P=je(p,"FORCED")=="YES";return f=="audio"?p=(p=je(p,"SAMPLE-RATE"))?parseInt(p,10):null:p=null,i=Xy(e,g,i,t,f,n,m,a,w,null,C,P,p,E),i.stream&&(i.stream.groupId=r),e.H.has(r)?e.H.get(r).push(i):e.H.set(r,[i]),e.i.set(o,i),i}function bC(e,t){var n,r,i,o,a,f,p,g,m,w;return z(function(E){return E.g==1?(n=Vt(t,"URI"),r=je(t,"CODECS","jpeg")||"",e.i.has(n)?E.return(e.i.get(n)):(i=je(t,"LANGUAGE"),o=je(t,"NAME"),a=je(t,"CHARACTERISTICS"),f=Xy(e,e.C++,[n],r,"image",i,!1,o,null,null,a,!1,null,!1),(p=je(t,"RESOLUTION"))?L(E,f.stream.createSegmentIndex(),3):E.u(2))):(E.g!=2&&(g=Qr(f.stream.segmentIndex),m=g.tilesLayout)&&(f.stream.width=Number(p.split("x")[0])*Number(m.split("x")[0]),f.stream.height=Number(p.split("x")[1])*Number(m.split("x")[1])),(w=je(t,"BANDWIDTH"))&&(f.stream.bandwidth=Number(w)),e.i.set(n,f),E.return(f))})}function lw(e,t){var n="video",r=Vt(t,"URI"),i=je(t,"CODECS")||"";if(i=="mjpg"&&(n="image"),e.i.has(r))return e.i.get(r);var o=je(t,"LANGUAGE"),a=je(t,"NAME"),f=je(t,"CHARACTERISTICS");return n=Xy(e,e.C++,[r],i,n,o,!1,a,null,null,f,!1,null,!1),i=je(t,"RESOLUTION"),o=T(i?i.split("x"):[null,null]),i=o.next().value,o=o.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(o)||void 0,(t=je(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function NC(e,t,n,r){for(var i=e.C++,o=[],a=T(t),f=a.next();!f.done;f=a.next()){var p=f.value;f=Vt(p,"URI"),p=je(p,"PATHWAY-ID"),e.j&&p&&Pf(e.j,i,p,f),o.push(f)}if(a=o.sort().join(",")+n.sort().join(","),e.i.has(a))return e.i.get(a);e:{if(t=je(t[0],"CLOSED-CAPTIONS"),r=="video"){if(e.g.disableText){e.O=!1,t=null;break e}if(t){if(t!="NONE"){t=e.F.get(t);break e}e.O=!1}else if(!t&&e.F.size)for(t=T(e.F.keys()).next();!t.done;){t=e.F.get(t.value);break e}}t=null}return n=ia(r,n),r=Xy(e,i,o,n,r,null,!1,null,null,t,null,!1,null,!1),e.i.set(a,r),r}function Xy(e,t,n,r,i,o,a,f,p,g,m,w,E,C){function P(W){var q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e,Ve,yt,pt,ze,Ft,Pt,ot,Xt,Ht;return z(function(lt){switch(lt.g){case 1:return q=sn,de(lt,2),F=_.N(),L(lt,W.promise,4);case 4:if(Q=lt.h,W.aborted)return lt.return();if(H=Q.uri,H==Q.originalUri||F.includes(H)||j.push(H),Z=sm(e.Ia,Q.data),Z.type!=1)throw new X(2,4,4017);return $=oo(Z.Y,"EXT-X-DEFINE"),ie=dm(e,$,H),fe=!1,(!e.da&&e.g.hls.disableCodecGuessing||e.O&&i==q.oa&&!e.g.hls.disableClosedCaptionsDetection)&&0<Z.segments.length&&(e.O=!1,fe=!0),re=!e.da&&e.g.hls.disableCodecGuessing,ae=Br(e),L(lt,cw(e,0,ie,Z,R,r,i,o,a,f,p,g,m,w,E,C,void 0,fe,re),5);case 5:if(me=lt.h,W.aborted)return lt.return();if(ye=me.stream,yw(e,Z),Br(e)&&!ae&&gw(e,Z),_.yc=me.yc,_.Rb=me.Rb,_.Qd=me.Qd,_.Pd=me.Pd,_.od=me.od,_.ee=me.ee,_.yb=me.yb,_.zb=me.zb,_.Hf=!0,O.segmentIndex=ye.segmentIndex,O.encrypted=ye.encrypted,O.drmInfos=ye.drmInfos,O.keyIds=ye.keyIds,O.mimeType=ye.mimeType,O.bandwidth=O.bandwidth||ye.bandwidth,O.codecs=O.codecs||ye.codecs,O.closedCaptions=O.closedCaptions||ye.closedCaptions,O.width=O.width||ye.width,O.height=O.height||ye.height,O.hdr=O.hdr||ye.hdr,O.colorGamut=O.colorGamut||ye.colorGamut,O.frameRate=O.frameRate||ye.frameRate,O.language=="und"&&ye.language!="und"&&(O.language=ye.language),O.language=O.language||ye.language,O.channelsCount=O.channelsCount||ye.channelsCount,O.audioSamplingRate=O.audioSamplingRate||ye.audioSamplingRate,Ya(O),O.drmInfos.length&&e.h.newDrmInfo(O),Ce=!1,(!g&&O.closedCaptions||g&&O.closedCaptions&&g.size!=O.closedCaptions.size)&&(Ce=!0),e.m&&Ce&&e.h.makeTextStreamsForClosedCaptions(e.m),i==q.oa||i==q.W)for(_e=T(e.i.values()),Ve=_e.next();!Ve.done;Ve=_e.next())yt=Ve.value,yt.Hf||yt.type!=i||(yt.stream.mimeType=ye.mimeType,Ya(yt.stream));i==q.wa&&(pt=Qr(ye.segmentIndex))&&pt.ca&&(O.mimeType="application/mp4",Ya(O)),ze=Oo(O),O.segmentIndex.Db(function(wn){wn.ca&&(wn.ca.Tc=ze)}),_C(e)&&(e.dc?pm(e,[_]):(e.dc=!0,Ft=Array.from(e.i.values()),Pt=Ft.filter(function(wn){return wn.stream.segmentIndex}),pm(e,Pt),fm(e),ot=e.o,0<ot&&e.B.aa(ot))),ym(e,Z.Y,O.type,ie,R),e.m&&(e.m.startTime=e.s),Oe(lt,0);break;case 2:if(Xt=ke(lt),O.closeSegmentIndex(),Xt.code===7001)return lt.return();if(Ht=e.h.disableStream(O),!Ht)throw Xt;oe(lt)}})}function R(){return e.j&&1<n.length?Np(e.j,t):j.concat(QS([e.L],n,e.A))}var O=dw(e,r,i,o,a,f,p,g,m,w,E,C);n.includes("shaka://hls-muxed")&&(O.isAudioMuxedInVideo=!0,O.mimeType="video/mp2t",Ya(O));var j=[],_={stream:O,type:i,gh:j,N:R,yc:0,Rb:0,ee:new Map,Qd:!1,Pd:!1,od:!1,bf:-1,yb:-1,zb:-1,Hf:!1},K=null,G;return O.createSegmentIndex=function(){return K||(O.isAudioMuxedInVideo?(O.segmentIndex=new St([]),Promise.resolve()):(G=vm(e,_.N(),!0),K=new Promise(function(W){W(P(G))})))},O.closeSegmentIndex=function(){K&&!O.segmentIndex&&G.abort(),O.segmentIndex&&(O.segmentIndex.release(),O.segmentIndex=null),K=null},_}function sw(e){var t=1/0;e=T(e.i.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Rb));return t}function aw(e,t){var n=[];t=T(t);for(var r=t.next();!r.done;r=t.next())r=r.value,r.segmentIndex&&r.segmentIndex.Db(function(i){n.push(i)});e.l.Cd(n)}function pm(e,t){if(!Br(e))for(var n=sw(e),r=T(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Lc(0,n);aw(e,t.map(function(o){return o.stream})),r=Array.from(e.i.values()).filter(function(o){return o.stream.segmentIndex}),n=r.some(function(o){return o.stream.type=="audio"}),i=r.some(function(o){return o.stream.type=="video"}),r=Br(e)&&!e.Pa,n=!Br(e)&&e.Pa&&!(n&&i),e.g.hls.ignoreManifestProgramDateTime||r||n?rw(e,t,r):(SC(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&rw(e,t))}function Kp(e,t){return e.g.hls.ignoreManifestProgramDateTime?!0:e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function _C(e){if(!e.m)return!1;var t=[],n=[];e=T(e.m.variants);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some(function(i){return i.segmentIndex})||0<n.length&&!n.some(function(i){return i.segmentIndex}))}function cw(e,t,n,r,i,o,a,f,p,g,m,w,E,C,P,R,O,j,_){j=j===void 0?!0:j,_=_===void 0?!0:_;var K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye,Ce,_e,Ve,yt,pt,ze,Ft,Pt,ot,Xt,Ht,lt,wn,ti;return z(function(kn){switch(kn.g){case 1:if(K=r.segments||[],G=K.every(function(En){return!!Jn(En.Y,"EXT-X-GAP")}),!K.length||G)throw new X(2,4,4053);if(UC(e,r),Br(e)&&hm(e,r),W=Br(e)?e.M.get(a):new Map,q=Sw(e,r,W,n,i,a),F=q.segments,Q=q.bandwidth,fe=ie=$=Z=H=null,!(0<F.length&&j)){kn.u(2);break}return L(kn,TC(e,F),3);case 3:re=kn.h,a=re.type,f=re.language,m=re.channelCount,P=re.sampleRate,e.g.disableText||(w=re.closedCaptions),Z=re.height,H=re.width,$=re.Jd,ie=re.colorGamut,fe=re.frameRate,_&&(O=re.mimeType,o=re.codecs);case 2:if(O){kn.u(4);break}return L(kn,VC(e,a,o,F),5);case 5:O=kn.h,a!=at||o||O!="application/mp4"||!F[0]||F[0].ca||(O="text/vtt");case 4:return L(kn,pw(e,r,O,i,n),6);case 6:if(ae=kn.h,me=ae.drmInfos,ye=ae.keyIds,Ce=ae.encrypted,_e=ae.Lh,Ce&&!me.length&&!_e)throw new X(2,4,4026);return Ve=dw(e,o,a,f,p,g,m,w,E,C,P,R),Ve.encrypted=Ce&&!_e,Ve.drmInfos=me,Ve.keyIds=ye,Ve.mimeType=O,Q&&(Ve.bandwidth=Q),Ya(Ve),a=="video"&&(H||Z||$||ie)&&Tw(Ve,H,Z,fe,$,null,ie),Br(e)&&hm(e,r),yt=F[0].startTime,pt=F[F.length-1],ze=pt.endTime,Ft=new St(F),Ve.segmentIndex=Ft,ot=(Pt=Jn(r.Y,"EXT-X-SERVER-CONTROL"))?Of(Pt,"CAN-SKIP-UNTIL")!=null:!1,Xt=Pt?Of(Pt,"CAN-BLOCK-RELOAD")!=null:!1,Ht=Rf(r.Y,"EXT-X-MEDIA-SEQUENCE",0),lt=fw(Ht,F),wn=lt.yb,ti=lt.zb,kn.return({stream:Ve,type:a,gh:[],N:i,yc:yt,Rb:ze,Qd:ot,Pd:Xt,od:!1,bf:-1,yb:wn,zb:ti,ee:W,Hf:!1})}})}function fw(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{yb:e,zb:n};t=t[t.length-1];var r=t.g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{yb:e,zb:n}):(e++,t.m&&(n=0),{yb:e,zb:n})}function dw(e,t,n,r,i,o,a,f,p,g,m,w){var E=gm(n,t)||Yy(n),C=[];if(p){p=T(p.split(","));for(var P=p.next();!P.done;P=p.next())C.push(P.value)}return p=void 0,P=null,n==at?p=C.includes("public.accessibility.transcribes-spoken-dialog")&&C.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":C.includes("public.accessibility.describes-video")&&(P="visually impaired"),C.length||p!=="subtitle"||C.push("subtitle"),e={id:e.C++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:E,codecs:t,kind:n==at?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:Et(r||"und"),originalLanguage:r,label:o,type:n,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:C,forced:g,channelsCount:a,audioSamplingRate:m,spatialAudio:w,closedCaptions:f,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:P,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1},Ya(e),e}function pw(e,t,n,r,i){var o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me;return z(function(ye){switch(ye.g){case 1:if(o=new Map,t.segments){for(a=T(t.segments),f=a.next();!f.done;f=a.next())if(p=f.value,g=oo(p.Y,"EXT-X-KEY"),m=null,g.length)for(m=vw(e,t,p.Y,r,i),w=T(g),E=w.next();!E.done;E=w.next())C=E.value,o.set(C,m)}R=P=!1,O=[],j=new Set,_=T(o),K=_.next();case 2:if(K.done){ye.u(4);break}if(G=K.value,W=T(G),q=W.next().value,F=W.next().value,Q=q,H=F,Z=Vt(Q,"METHOD"),Z=="NONE"){ye.u(3);break}if(P=!0,$=je(Q,"KEYFORMAT")||"identity",ie=null,Jy(Z)){R=!0,ye.u(3);break}if($!="identity"){ie=(fe=Cw[$])?fe(Q,n):null,ye.u(6);break}return L(ye,Iw(e,Q,n,r,H,i),8);case 8:ie=ye.h;case 6:if(ie){if(ie.keyIds)for(re=T(ie.keyIds),ae=re.next();!ae.done;ae=re.next())me=ae.value,j.add(me);O.push(ie)}case 3:K=_.next(),ye.u(2);break;case 4:return ye.return({drmInfos:O,keyIds:j,encrypted:P,Lh:R})}})}function hw(e,t,n,r,i){if(!x.crypto||!x.crypto.subtle)throw ft("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new X(2,4,4042);var o=0,a=je(t,"IV","");if(a){var f=ol(a.substr(2));if(f.byteLength!=16)throw new X(2,4,4048)}else o=Rf(n.Y,"EXT-X-MEDIA-SEQUENCE",0);var p=ks(r(),Vt(t,"URI"),i),g=p.sort().join("");if(n=t.toString()+"-"+o+"-"+g,!e.ha.has(n)){var m={bitsKey:128,blockCipherMode:"CBC",iv:f,firstMediaSequenceNumber:o};switch(Vt(t,"METHOD")){case"AES-256":m.bitsKey=256;break;case"AES-256-CTR":m.bitsKey=256,m.blockCipherMode="CTR"}m.fetchKey=function(){var w,E,C,P;return z(function(R){if(R.g==1)return e.K.has(g)||(w=wt(p,e.g.retryParameters),E=Ml(e,w,6).promise,e.K.set(g,E)),L(R,e.K.get(g),2);if(R.g!=3){if(C=R.h,!C.data||C.data.byteLength!=m.bitsKey/8)throw new X(2,4,4049);return P={name:m.blockCipherMode=="CTR"?"AES-CTR":"AES-CBC",length:m.bitsKey},L(R,x.crypto.subtle.importKey("raw",C.data,P,!0,["decrypt"]),3)}m.cryptoKey=R.h,m.fetchKey=void 0,oe(R)})},e.ha.set(n,m)}return e.ha.get(n)}function yw(e,t){e.s==null&&(t=Jn(t.Y,"EXT-X-START"))&&(e.s=Number(Vt(t,"TIME-OFFSET")))}function UC(e,t){var n=Jn(t.Y,"EXT-X-PLAYLIST-TYPE");t=Jn(t.Y,"EXT-X-ENDLIST"),t=n&&n.value=="VOD"||t,n=n&&n.value=="EVENT"&&!t,n=!t&&!n,t?$y(e,Qy):n?$y(e,Zy):$y(e,kw)}function hm(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var o=Jn(r[i].Y,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}i--}if(r=Jn(t.Y,"EXT-X-TARGETDURATION"),!r)throw new X(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=Jn(t.Y,"EXT-X-PART-INF"))&&(e.P=Number(Vt(i,"PART-TARGET"))),t=Jn(t.Y,"EXT-X-SERVER-CONTROL"),e.ga&&e.P?(e.o=e.Qb?5*e.P<=n?Math.min(e.P,e.o):Math.min(n,e.o):Math.min(e.P,e.o),e.Ha=t?Number(Vt(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?Of(t,"HOLD-BACK"):null,e.za=n?Number(n.value):0),e.Na=Math.max(r,e.Na)}function gw(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Ha)n=e.Ha;else if(e.za)n=e.za;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var o=Jn(t.segments[i].Y,"EXTINF");n=o?n+Math.ceil(Number(o.value.split(",")[0])):n+e.Na}}e.s&&0>e.s&&(n=Math.min(-e.s,n),e.s+=n),e.l.rh(0),e.l.$f(n),e.l.Cc(!1)}function vw(e,t,n,r,i){var o=Jn(n,"EXT-X-MAP");if(!o)return null;var a=Vt(o,"URI"),f=ks(r(),a,i);if(a=[f.toString(),je(o,"BYTERANGE","")].join("-"),!e.sa.has(a)){var p=void 0,g=null;n=T(n);for(var m=n.next();!m.done;m=n.next())m=m.value,m.name=="EXT-X-KEY"?Jy(Vt(m,"METHOD"))&&m.id<o.id&&(p=hw(e,m,t,r,i)):m.name=="EXT-X-BYTERANGE"&&m.id<o.id&&(g=m);t=jC(f,o,g,p),e.sa.set(a,t)}return e.sa.get(a)}function jC(e,t,n,r){var i=0,o=null;return t=je(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(i=t.split("@"),o=Number(i[0]),i=Number(i[1]),o=i+o-1,r&&(n=o+1-i,n%16&&(o+=16-n%16))),new Er(function(){return e},i,o,null,null,null,r)}function BC(e,t,n,r,i,o,a,f,p){function g(Ce){Ce=new pn(Ce).Za.split(".").pop();var _e=Sm[a][Ce];return _e||(_e=mm[Ce]),_e}var m=r.Y,w=Jn(m,"EXTINF"),E=0,C=0,P=null;r.Fb.length&&(e.m.isLowLatency=!0);var R=null;if(!e.g.hls.ignoreManifestProgramDateTime){var O=Jn(m,"EXT-X-PROGRAM-DATE-TIME");O&&O.value&&(R=Uo(O.value),e.Pa=!0)}var j=ou;if(Jn(m,"EXT-X-GAP")&&(e.m.gapCount++,j=2),!w){if(r.Fb.length==0)throw new X(2,4,4024,"EXTINF");if(!e.ga)return null}var _=[];O=!1;var K=null,G=!1,W=!1;if(e.ga&&r.Fb.length){E=t&&x.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var q=R,F={},Q=0;Q<r.Fb.length;F={Ee:void 0,le:void 0},Q++){var H=r.Fb[Q],Z=Q==0?n:_[_.length-1],$=Q==0?i:Z.endTime,ie=Number(je(H,"DURATION"))||e.P;if(ie){var fe=$+ie,re=0,ae=null;if(H.name=="EXT-X-PRELOAD-HINT"?(re=(re=je(H,"BYTERANGE-START"))?Number(re):0,(Z=je(H,"BYTERANGE-LENGTH"))?ae=re+Number(Z)-1:re&&(ae=Number.MAX_SAFE_INTEGER)):(re=je(H,"BYTERANGE"),ae=T(mw(Z,re)),re=ae.next().value,ae=ae.next().value),F.le=je(H,"URI"),F.le){Z=ou,je(H,"GAP")=="YES"&&(e.m.gapCount++,Z=2,G=!0),F.Ee=null;var me=function(Ce){return function(){return Ce.Ee==null&&(Ce.Ee=ks(f(),Ce.le,o)),Ce.Ee}}(F);E&&0<=re&&ae!=null&&(K=me,O=!0),$=new Fe($,fe,me,re,ae,t,0,0,1/0,[],"",null,q,Z,p),H.name=="EXT-X-PRELOAD-HINT"&&($.If(),W=!0),je(H,"INDEPENDENT")!="YES"&&0<Q&&$.Sc(),(F=g(F.le))&&($.mimeType=F,Ew.has(F)&&($.ca=null)),_.push($),q&&(q+=ie)}}}}if(w){if(w=Number(w.value.split(",")[0]),w==0)return null;E=i+w}else if(_.length)E=_[_.length-1].endTime;else return null;O&&(G||_[0].Ma!=0?(O=!1,K=null):_=[]),(w=Jn(m,"EXT-X-BYTERANGE"))?(P=T(mw(n,w.value)),C=P.next().value,P=P.next().value):_.length&&(C=_[0].Ma,P=_[_.length-1].va),n="",w=null,a=="image"&&(n="1x1",m=Jn(m,"EXT-X-TILES"))&&(n=Vt(m,"LAYOUT"),(m=je(m,"DURATION"))&&(w=Number(m)));var ye=null;return t=new Fe(i,E,function(){return K?K():(ye==null&&(ye=ks(f(),r.g,o)),ye||[])},C,P,t,0,0,1/0,_,n,w,R,j,p,0<_.length&&!!r.g),(i=g(r.g))&&(t.mimeType=i,Ew.has(i)&&(t.ca=null)),O&&(e.Qb=!0,t.Vg(),W&&t.If()),t}function mw(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.va+1,r=n+t-1),[n,r]}function ym(e,t,n,r,i){if(n=="video"||n=="audio"){var o=e.l.m;if(o&&!Kp(e,n))for(t=oo(t,"EXT-X-DATERANGE"),t=t.filter(function($){return Of($,"START-DATE")!=null}).sort(function($,ie){return $=Vt($,"START-DATE"),ie=Vt(ie,"START-DATE"),$<ie?-1:$>ie?1:0}),n=0;n<t.length;n++){var a=t[n];try{var f=Vt(a,"ID");if(!e.Ba.has(f)){var p=Vt(a,"START-DATE"),g=Uo(p);if(!isNaN(g)){var m=Math.max(0,g-o),w=null,E=je(a,"END-DATE");if(E){var C=Uo(E);if(!isNaN(C)&&(w=C-o,0>w))continue}if(w==null){var P=je(a,"DURATION")||je(a,"PLANNED-DURATION");if(P){var R=parseFloat(P);if(isNaN(R)||(w=m+R),0>g-o+R)continue}}var O=je(a,"CLASS")||"com.apple.quicktime.HLS",j=je(a,"END-ON-NEXT")=="YES";if(w==null&&j){for(var _=n+1;_<t.length;_++){var K=je(t[_],"CLASS")||"com.apple.quicktime.HLS";if(O==K){var G=Vt(t[_],"START-DATE"),W=Uo(G);if(!isNaN(W)&&W&&W>g){w=Math.max(0,W-o);break}}}if(w==null)continue}_=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var q=[],F=T(a.attributes),Q=F.next();!Q.done;Q=F.next()){var H=Q.value;if(!_.includes(H.name)){var Z=ZS(H.value,r);(H.name=="X-ASSET-URI"||H.name=="X-ASSET-LIST")&&(Z=ks(i(),H.value,r)[0]),q.push({key:H.name,description:"",data:Z,mimeType:null,pictureType:null})}}1<q.length&&e.h.onMetadata(O,m,w,q),e.Ba.add(f)}}}catch{}}}}function Sw(e,t,n,r,i,o){var a=t.segments,f=void 0,p=Rf(t.Y,"EXT-X-DISCONTINUITY-SEQUENCE",-1),g=Rf(t.Y,"EXT-X-MEDIA-SEQUENCE",0),m=Jn(t.Y,"EXT-X-SKIP"),w=m?Number(je(m,"SKIPPED-SEGMENTS")):0,E=g+w,C=0;Br(e)&&n.has(E)&&(C=n.get(E)),C===0&&e.Ca==Zy&&0<n.size&&!n.has(E)&&e.l.i!=null&&(C=e.l.nb());var P=[],R=null;m=[];for(var O=0;O<a.length;O++){var j=a[O],_=O==0?C:R.endTime;E=g+w+O,Jn(j.Y,"EXT-X-DISCONTINUITY")&&p++;for(var K=T(j.Y),G=K.next();!G.done;G=K.next())G=G.value,G.name=="EXT-X-KEY"&&(Jy(Vt(G,"METHOD"))?f=hw(e,G,t,i,r):f=void 0);n.set(E,_),K=vw(e,t,j.Y,i,r),(_=BC(e,K,R,j,_,r,o,i,f))&&((R=Rf(j.Y,"EXT-X-BITRATE"))?m.push({bitrate:R,duration:_.endTime-_.startTime}):m.length&&(R=m.pop(),R.duration+=_.endTime-_.startTime,m.push(R)),R=_,_.i=p,Kp(e,o)&&e.I!=null&&E<e.I||P.push(_))}if(t=void 0,m.length&&(t=m.reduce(function(W,q){return W+q.duration},0),t=Math.round(m.reduce(function(W,q){return W+q.bitrate*q.duration},0)/t*1e3)),m=P.some(function(W){return W.h!=null})){for(n={},r=0;r<P.length;n={Ud:void 0,Td:void 0,Md:void 0,Ac:void 0,Ld:void 0},r++)if(n.Ac=P[r],n.Ac.h==null)for(n.Td=0,n.Ud=r,i=function(W){return function(){var q=P[W.Ud];if(q){if(q.h!=null)return q.h+W.Td;W.Td-=q.endTime-q.startTime,W.Ud+=1}return null}}(n),n.Ld=0,n.Md=r,a=function(W){return function(){var q=P[W.Md];if(q){if(q!=W.Ac&&(W.Ld+=q.endTime-q.startTime),q.h!=null)return q.h+W.Ld;--W.Md}return null}}(n);n.Ac.h==null;)n.Ac.h=a(),n.Ac.h==null&&(n.Ac.h=i())}if(m)for(n=T(P),r=n.next();!r.done;r=n.next())for(i=r.value,r=i.h,i=T(i.g),a=i.next();!a.done;a=i.next())a=a.value,a.h=r,r+=a.endTime-a.startTime;if(n=e.fa,m&&n!=1/0&&!Kp(e,o))for(e=T(P),o=e.next();!o.done;o=e.next())o.value.fg(n);return{segments:P,bandwidth:t}}function gm(e,t){if(e==at){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function Yy(e){return e==at?"text/vtt":Sm[e].mp4}function ww(e,t){e=Br(e)?Math.trunc((t.length-1)/2):0;for(var n=t[e];n.cc()==2&&e+1<t.length;)e++,n=t[e];return{segment:n,segmentIndex:e}}function VC(e,t,n,r){var i,o,a,f,p,g,m,w,E,C,P,R,O,j;return z(function(_){switch(_.g){case 1:return i=Lr,o=ww(e,r),a=o.segment,a.status==2?_.return(Yy(t)):(f=a.N(),p=new pn(f[0]),g=p.Za.split(".").pop(),m=Sm[t],(w=m[g])||(w=mm[g])||(w=gm(t,n))?_.return(w):(C=1,P=wt(f,e.g.retryParameters),de(_,2),P.method="HEAD",L(_,Ml(e,P,i,{type:C}).promise,4)));case 4:R=_.h,E=R.headers["content-type"],Oe(_,3);break;case 2:if(O=ke(_),!O||O.code!=1002&&O.code!=1001){_.u(3);break}return P.method="GET",L(_,Ml(e,P,i,{type:C}).promise,6);case 6:j=_.h,E=j.headers["content-type"];case 3:return E?_.return(E.toLowerCase().split(";")[0]):_.return(Yy(t))}})}function Tw(e,t,n,r,i,o,a){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=o||void 0,e.colorGamut=a||void 0)}function vm(e,t,n){return Ml(e,wt(t,e.g.retryParameters),0,{type:n?2:3})}function xw(e){var t,n,r,i,o,a;return z(function(f){switch(f.g){case 1:return e.h?(de(f,2),t=Date.now(),L(f,e.update(),4)):f.return();case 4:n=Date.now(),Br(e)&&(r=(n-t)/1e3,e.Lb.sample(1,r),i=0<e.g.hls.updatePeriod?e.g.hls.updatePeriod:e.o,o=Math.max(0,i-Ls(e.Lb)),e.B.aa(o)),Oe(f,3);break;case 2:if(a=ke(f),!e.h)return f.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(a),f.return();a.severity=1,e.h.onError(a),e.B.aa(.1);case 3:if(!e.h)return f.return();e.h.onManifestUpdated(),oe(f)}})}function Br(e){return e.Ca!=Qy}function $y(e,t){e.Ca=t,e.l&&e.l.Cc(!Br(e)),Br(e)||e.B.stop()}function Ml(e,t,n,r){if(!e.ba)throw new X(2,7,7001);return r||(r={}),r.isPreload=e.Mb(),t=e.h.networkingEngine.request(n,t,r),Zo(e.ba,t),t}function Jy(e){return e=="AES-128"||e=="AES-256"||e=="AES-256-CTR"}function Iw(e,t,n,r,i,o){var a,f,p,g,m,w,E,C,P,R,O,j,_,K,G;return z(function(W){switch(W.g){case 1:if(n=="video/mp2t")throw new X(2,4,4040);if(Ws())throw new X(2,4,4041);if(a=Vt(t,"METHOD"),f=["SAMPLE-AES","SAMPLE-AES-CTR"],!f.includes(a))return W.return(null);if(p=ks(r(),Vt(t,"URI"),o),p[0].startsWith("data:text/plain;base64,")){g=Gn(li(p[0].split("data:text/plain;base64,").pop())),W.u(2);break}return m=p.sort().join(""),e.na.has(m)||(w=wt(p,e.g.retryParameters),E=Ml(e,w,6).promise,e.na.set(m,E)),L(W,e.na.get(m),3);case 3:C=W.h,g=Gn(C.data);case 2:if(P="00000000000000000000000000000000",!i){W.u(4);break}if(e.pa.has(i)){R=e.pa.get(i),W.u(5);break}return O=Il(i.N(),i.bc(),i.$b(),e.g.retryParameters),j=Lr,L(W,Ml(e,O,j,{type:0}).promise,6);case 6:_=W.h,R=iv(_.data),e.pa.set(i,R);case 5:R&&(P=R);case 4:return K=new Map,K.set(P,g),G="cenc",a=="SAMPLE-AES"&&(G="cbcs"),W.return(cd(K,G))}})}Re("shaka.hls.HlsParser",Wy);var mm={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},Sm={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},Ew=new Set(["video/mp2t"].concat(te(xr))),Cw={"com.apple.streamingkeydelivery":function(e,t){if(t=="video/mp2t")throw new X(2,4,4040);if(Ws())throw new X(2,4,4041);if(t=Vt(e,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),qo("com.apple.fps",n,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],Vt(e,"URI"))},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Vt(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),t=Vt(e,"URI"),t=Gy(t.split("?")[0]),t=Ze(t.data),n=qo("com.widevine.alpha",n,[{initDataType:"cenc",initData:t}]),(e=je(e,"KEYID"))&&(n.keyIds=new Set([e.toLowerCase().substr(2)])),n},"com.microsoft.playready":function(e){var t=Vt(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),e=Vt(e,"URI"),e=Gy(e.split("?")[0]),e=Ze(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),t=eo(e,t,new Set,0),n=qo("com.microsoft.playready",n,[{initDataType:"cenc",initData:t}]),(e=Xi(["<PLAYREADY>",Ho(e),"</PLAYREADY>"].join(`
`)))&&(n.licenseServerUri=_y(e)),n},"urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":function(e){var t=Vt(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),t=Vt(e,"URI"),t=Gy(t.split("?")[0]),t=Ze(t.data),n=qo("com.huawei.wiseplay",n,[{initDataType:"cenc",initData:t}]),(e=je(e,"KEYID"))&&(n.keyIds=new Set([e.toLowerCase().substr(2)])),n}},Qy="VOD",kw="EVENT",Zy="LIVE",FC={Hh:Qy,Kj:kw,Sj:Zy};fi["application/x-mpegurl"]=function(){return new Wy},fi["application/vnd.apple.mpegurl"]=function(){return new Wy};function eg(e){return _y(e)}var KC=new Map().set("com.microsoft.playready",eg).set("com.microsoft.playready.recommendation",eg).set("com.microsoft.playready.software",eg).set("com.microsoft.playready.hardware",eg);function Mf(e){if(!Ow){Ow=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);tg=vt("ftyp",t,r,t,n),t=vt("dref",ZC),wm=vt("dinf",t)}this.g=e}function Lf(e){for(var t=[],n=T(e.g),r=n.next();!r.done;r=n.next()){var i=t,o=i.push,a=r.value;r=vt;var f=a.id+1,p=a.stream.width||0,g=a.stream.height||0;a.type=="audio"&&(g=p=0);var m=a.duration*a.timescale,w=Math.floor(m/(As+1));switch(m=Math.floor(m%(As+1)),f=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(te(cn(f,4)),[0,0,0,0],te(cn(w,4)),te(cn(m,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],te(cn(p,2)),[0,0],te(cn(g,2)),[0,0])),f=vt("tkhd",f),p=vt,w=a.duration*a.timescale,g=Math.floor(w/(As+1)),w=Math.floor(w%(As+1)),m=a.stream.language,m=m.charCodeAt(0)-96<<10|m.charCodeAt(1)-96<<5|m.charCodeAt(2)-96,g=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(te(cn(a.timescale,4)),te(cn(g,4)),te(cn(w,4)),te(cn(m,2)),[0,0])),g=vt("mdhd",g),w=a,m=new Uint8Array([]),w.type){case"video":m=qC;break;case"audio":m=zC}w=vt("hdlr",m);e:{switch(a.type){case"video":a=vt("minf",vt("vmhd",$C),wm,Aw(a));break e;case"audio":a=vt("minf",vt("smhd",JC),wm,Aw(a));break e}a=new Uint8Array([])}a=p("mdia",g,w,a),r=r("trak",f,a),o.call(i,r)}for(t=nn.apply(ur,te(t)),o=e.g[0],n=vt,r=o.duration*o.timescale,i=Math.floor(r/(As+1)),r=Math.floor(r%(As+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(te(cn(o.timescale,4)),te(cn(i,4)),te(cn(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),i=vt("mvhd",i),r=[],e=T(e.g),p=e.next();!p.done;p=e.next())a=r,f=a.push,p=new Uint8Array([0,0,0,0].concat(te(cn(p.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),p=vt("trex",p),f.call(a,p);if(e=nn.apply(ur,te(r)),e=vt("mvex",e),r=[],o.encrypted){for(o=T(o.stream.drmInfos),a=o.next();!a.done;a=o.next())if(a=a.value,a.initData)for(a=T(a.initData),f=a.next();!f.done;f=a.next())r.push(f.value.initData);o=nn.apply(ur,te(r))}else o=new Uint8Array([]);return e=n("moov",i,t,e,o),t=new Uint8Array(tg.byteLength+e.byteLength),t.set(tg),t.set(e,tg.byteLength),t}function Aw(e){var t=vt,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var r=e.stream.height||0;if(0<e.ya.byteLength)var i=vt("avcC",e.ya);else{i=vt;for(var o=7,a=[],f=[],p=0,g=0,m=0,w=0;w<e.kb.length;w++){var E=Dw(e.kb[w]);switch(E[0]&31){case 7:a.push(E),o+=E.length+2;break;case 8:f.push(E),o+=E.length+2}}for(0<a.length&&(p=a[0][1],m=a[0][2],g=a[0][3]),o=new Uint8Array(o),w=0,o[w++]=1,o[w++]=p,o[w++]=m,o[w++]=g,o[w++]=255,o[w++]=224|a.length,p=0;p<a.length;p++)o[w++]=(a[p].length&65280)>>8,o[w++]=a[p].length&255,o.set(a[p],w),w+=a[p].length;for(o[w++]=f.length,a=0;a<f.length;a++)o[w++]=(f[a].length&65280)>>8,o[w++]=f[a].length&255,o.set(f[a],w),w+=f[a].length;i=i("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(te(cn(n,2)),te(cn(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",f=Pw(e),a=new Uint8Array([]),e.encrypted&&(a=bf(e),r="encv"),n=vt(r,n,i,f,a)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.ya.byteLength&&(n=vt("hvcC",e.ya)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(te(cn(r,2)),te(cn(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",f=Pw(e),a=new Uint8Array([]),e.encrypted&&(a=bf(e),i="encv"),n=vt(i,r,n,f,a));break;case"audio":e.codecs.includes("mp3")?e=vt(".mp3",Hp(e)):e.codecs.includes("ac-3")?(n=vt("dac3",e.ra),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=bf(e),r="enca"),e=vt(r,Hp(e),n,i)):e.codecs.includes("ec-3")?(n=vt("dec3",e.ra),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=bf(e),r="enca"),e=vt(r,Hp(e),n,i)):e.codecs.includes("opus")?(n=vt("dOps",e.ra),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=bf(e),r="enca"),e=vt(r,Hp(e),n,i)):(0<e.ra.byteLength?n=vt("esds",e.ra):(n=vt,r=e.id+1,i=e.stream.channelsCount||2,a=e.stream.audioSamplingRate||44100,p=ia("audio",e.codecs.split(",")),g={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},f=g[a],(p==="mp4a.40.5"||p==="mp4a.40.29")&&(f=g[2*a]),a=parseInt(p.split(".").pop(),10),r=new Uint8Array([0,0,0,0,3,25].concat(te(cn(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,a<<3|f>>>1,f<<7|i<<3,6,1,2])),n=n("esds",r)),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=bf(e),r="enca"),e=vt(r,Hp(e),n,i)),n=e}return e=vt("stsd",QC,n),t("stbl",e,vt("stts",GC),vt("stsc",WC),vt("stsz",YC),vt("stco",XC))}function Pw(e){if(!e.Ea&&!e.Ga)return new Uint8Array([]);var t=e.Ga;return e=new Uint8Array([].concat(te(cn(e.Ea,4)),te(cn(t,4)))),vt("pasp",e)}function Hp(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(te(cn(e.stream.audioSamplingRate||44100,2)),[0,0]))}function bf(e){for(var t=vt,n=e.codecs.substring(0,e.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=new Uint8Array([].concat(te(cn(r,4)))),n=vt("frma",n),r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),r=vt("schm",r),i=vt;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e=T(e.stream.drmInfos);for(var a=e.next();!a.done;a=e.next())if((a=a.value)&&a.keyIds&&a.keyIds.size){a=T(a.keyIds);for(var f=a.next();!f.done;f=a.next())o=Dw(f.value)}return e=new Uint8Array([0,0,0,0,0,0,1,8]),o=vt("tenc",e,o),t("sinf",n,r,i("schi",o))}function qp(e){var t=[];e=T(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.push,i=r.apply,o=vt,a=new Uint8Array([0,0,0,0].concat(te(cn(n.data?n.data.Bb:0,4))));a=vt("mfhd",a);var f,p=n.data?n.data.ib:[],g=new Uint8Array(4+p.length);for(f=0;f<p.length;f++){var m=p[f].flags;g[f+4]=m.Ua<<4|m.Wa<<2|m.Va}p=vt("sdtp",g);var w=p.length+92;g=vt,f=new Uint8Array([0,0,0,58].concat(te(cn(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),f=vt("tfhd",f),m=n.data?n.data.baseMediaDecodeTime:0;var E=Math.floor(m%(As+1));m=new Uint8Array([1,0,0,0].concat(te(cn(Math.floor(m/(As+1)),4)),te(cn(E,4)))),m=vt("tfdt",m);var C=w;w=n.data?n.data.ib:[],E=w.length;var P=12+16*E,R=new Uint8Array(P);for(C+=8+P,R.set([n.type==="video"?1:0,0,15,1].concat(te(cn(E,4)),te(cn(C,4))),0),C=0;C<E;C++){var O=w[C];P=cn(O.duration,4);var j=cn(O.size,4),_=O.flags;O=cn(O.eb,4),R.set([].concat(te(P),te(j),[_.gb<<2|_.Ua,_.Wa<<6|_.Va<<4|_.hb,_.Ta&61440,_.Ta&15],te(O)),12+16*C)}w=vt("trun",R),p=g("traf",f,m,w,p),o=o("moof",a,p),i.call(r,t,[o,HC(n)])}return nn.apply(ur,te(t))}function HC(e){return e=(e.data?e.data.ib:[]).map(function(t){return t.data}),e=nn.apply(ur,te(e)),vt("mdat",e)}function cn(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function Dw(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function vt(e){var t=It.apply(1,arguments),n=Rw[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Rw[e]=n);for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for(i=new Uint8Array(r),i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var Ow=!1,As=Math.pow(2,32)-1,Rw={},qC=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),zC=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),GC=new Uint8Array([0,0,0,0,0,0,0,0]),WC=new Uint8Array([0,0,0,0,0,0,0,0]),XC=new Uint8Array([0,0,0,0,0,0,0,0]),YC=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),$C=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),JC=new Uint8Array([0,0,0,0,0,0,0,0]),QC=new Uint8Array([0,0,0,0,0,0,0,1]),tg=new Uint8Array([]),ZC=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),wm=new Uint8Array([]);function Tm(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.C=new Gu(5),this.o=new st(function(){ek(e)}),this.B=new cl,this.m=new Map,this.A=function(){return!1}}h=Tm.prototype,h.configure=function(e,t){this.g=e,t&&(this.A=t)},h.start=function(e,t){var n=this;return z(function(r){if(r.g==1)return n.l=[e],n.h=t,L(r,xm(n),2);if(!n.h)throw new X(2,7,7001);return r.return(n.j)})};function ek(e){var t;z(function(n){switch(n.g){case 1:return de(n,2),L(n,xm(e),4);case 4:Oe(n,3);break;case 2:t=ke(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();oe(n)}})}h.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.o!=null&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},h.update=function(){var e=this,t;return z(function(n){if(n.g==1)return de(n,2),L(n,xm(e),4);if(n.g!=2)return Oe(n,0);if(t=ke(n),!e.h||!t)return n.return();e.h.onError(t),oe(n)})},h.onExpirationUpdated=function(){},h.onInitialVariantChosen=function(){},h.banLocation=function(){},h.setMediaElement=function(){};function xm(e){var t,n,r,i,o,a,f;return z(function(p){if(p.g==1)return t=wt(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),Zo(e.B,i),L(p,i.promise,2);if(o=p.h,!e.h)return p.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var g=o.uri,m=o.data,w=e.g.mss.manifestPreprocessor;if(w!=df){if(Ot("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),m=_S(m,"SmoothStreamingMedia"),!m)throw new X(2,4,4046,g);w(m),m=ri(m.outerHTML)}var E=Vl(m,"SmoothStreamingMedia");if(!E)throw new X(2,4,4046,g);if(g=e.g.mss.manifestPreprocessorTXml,g!=ry&&g(E),e.i||(e.i=new Me(null,0)),g=rt(E,"IsLive",Js,!1))throw new X(2,4,4047);e.i.Cc(!g),w=rt(E,"TimeScale",Nn,1e7),m=rt(E,"DVRWindowLength",Nn),g&&(m===0||isNaN(m))&&(m=1/0);var C=rt(E,"CanSeek",Js,!1);m===0&&C&&(m=1/0),C=null,m&&0<m&&(C=m/w),g&&!isNaN(e.g.availabilityWindowOverride)&&(C=e.g.availabilityWindowOverride),C==null&&(C=1/0),e.i.ve(C),m=rt(E,"Duration",Nn,1/0),g||e.i.ab(m/w),g={variants:[],textStreams:[],timescale:w,duration:m/w};var P;for(C=Rt(E,"Protection"),w=e.g.mss.keySystemsBySystemId,m=[],C=T(C),P=C.next();!P.done;P=C.next())m=m.concat(Rt(P.value,"ProtectionHeader"));if(m.length){for(C=[],P=0;P<m.length;P++){var R=m[P],O=R.attributes.SystemID.toLowerCase(),j=w[O];if(j){var _;e:{if(_=pS(R)){_=T(Sr(_,"DATA"));for(var K=_.next();!K.done;K=_.next())if(K=dn(K.value,"KID")){_=li(ln(K)),_=new Uint8Array([_[3],_[2],_[1],_[0],_[5],_[4],_[7],_[6]].concat(te(_.slice(8)))),_=Gn(_);break e}}_=null}K=li(ln(R)),O=ol(O.replace(/-/g,"")),O=[{initData:eo(K,O,new Set,0),initDataType:"cenc",keyId:_}],O=qo(j,"cenc",O),_&&O.keyIds.add(_),(j=KC.get(j))&&(O.licenseServerUri=j(R)),C.push(O)}}w=C}else w=[];for(P=w,C=[],w=[],m=[],E=Rt(E,"StreamIndex"),E=T(E),R=E.next();!R.done;R=E.next()){R=R.value,j=Rt(R,"QualityLevel"),O=g.timescale,_=g.duration,K=Rt(R,"c");for(var G=[],W=0,q=0;q<K.length;++q){var F=K[q],Q=K[q+1],H=rt(F,"t",Nn),Z=rt(F,"d",Nn);if(F=rt(F,"r",or),!Z)break;if(H=H??W,(F=F||0)&&F--,0>F)if(Q){if(Q=rt(Q,"t",Nn),Q==null)break;if(H>=Q)break;F=Math.ceil((Q-H)/Z)-1}else{if(_==1/0)break;if(H/O>=_)break;F=Math.ceil((_*O-H)/Z)-1}for(Q=0;Q<=F;++Q)W=H+Z,G.push({start:H/O,end:W/O,mg:H}),H=W}for(O=G,j=T(j),_=j.next();!_.done;_=j.next())(_=tk(e,R,_.value,O,P,g))&&(_.type!="audio"||e.g.disableAudio?_.type!="video"||e.g.disableVideo?_.type!=at||e.g.disableText||m.push(_):w.push(_):C.push(_))}for(E=[],C=T(0<C.length?C:[null]),P=C.next();!P.done;P=C.next())for(P=P.value,R=T(0<w.length?w:[null]),G=R.next();!G.done;G=R.next())j=E,O=j.push,_=e,K=P,G=G.value,q=0,K&&K.bandwidth&&0<K.bandwidth&&(q+=K.bandwidth),G&&G.bandwidth&&0<G.bandwidth&&(q+=G.bandwidth),_={id:_.s++,language:K?K.language:"und",disabledUntilTime:0,primary:!!K&&K.primary||!!G&&G.primary,audio:K,video:G,bandwidth:q,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},O.call(j,_);g.variants=E,g.textStreams=m,e.j?(e.j.variants=g.variants,e.j.textStreams=g.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:g.variants,textStreams:g.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.de()),Promise.resolve(),a=Date.now(),f=(a-r)/1e3,e.C.sample(1,f),oe(p)})}function tk(e,t,n,r,i,o){var a=t.attributes.Type;if(a!=="audio"&&a!=="video"&&a!=="text")return ft("Ignoring unrecognized type:",a),null;var f=t.attributes.Language,p=e.s++,g=rt(n,"Bitrate",mo),m=rt(n,"MaxWidth",mo),w=rt(n,"MaxHeight",mo),E=rt(n,"Channels",mo),C=rt(n,"SamplingRate",mo),P=o.duration;r.length&&(P=r[r.length-1].end-r[0].start);var R=e.i.getDuration();e.i.ab(Math.min(P,R));var O={id:p,originalId:t.attributes.Name||String(p),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:g||0,width:m||void 0,height:w||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Et(f||"und"),originalLanguage:f,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:E,audioSamplingRate:C,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:P,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1};if((i=t.attributes.Subtype)&&((i=lk[i])&&O.roles.push(i),i==="main"&&(O.primary=!0)),i=n.attributes.FourCC,(i===null||i==="")&&(i=t.attributes.FourCC),!i){if(a==="audio")i="AAC";else if(a==="video")return ft('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!uk.includes(i.toUpperCase()))return ft("Codec not supported:",i),null;switch(n=nk(n,a,i,O),O.mssPrivateData.codecPrivateData=n,a){case"audio":if(!n)return ft("Quality unsupported without CodecPrivateData",a),null;O.type="audio",O.mimeType="mss/audio/mp4",O.codecs=rk(i,n);break;case"video":if(!n)return ft("Quality unsupported without CodecPrivateData",a),null;O.type="video",O.mimeType="mss/video/mp4",O.codecs=ik(n);break;case"text":O.type=at,O.mimeType="application/mp4",(i==="TTML"||i==="DFXP")&&(O.codecs="stpp")}return O.fullMimeTypes.add(hn(O.mimeType,O.codecs)),O.createSegmentIndex=function(){if(O.segmentIndex)return Promise.resolve();if(e.m.has(O.id))var j=e.m.get(O.id);else j=[],O.type=="video"&&(j=O.mssPrivateData.codecPrivateData.split("00000001").slice(1)),j={id:O.id,type:O.type,codecs:O.codecs,encrypted:O.encrypted,timescale:O.mssPrivateData.timescale,duration:O.mssPrivateData.duration,kb:j,ra:new Uint8Array([]),ya:new Uint8Array([]),Ea:0,Ga:0,data:null,stream:O},j=Lf(new Mf([j])),e.m.set(O.id,j);return j=ok(e,new Er(function(){return[]},0,null,Oo(O),O.mssPrivateData.timescale,j),O,t,r),O.segmentIndex=new St(j),Promise.resolve()},O.closeSegmentIndex=function(){O.segmentIndex&&(O.segmentIndex.release(),O.segmentIndex=null)},O}function nk(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if(t!=="audio")return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],n==="AACH"?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function rk(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function ik(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function ok(e,t,n,r,i){var o=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[],i=T(i);for(var a=i.next(),f={};!a.done;f={ye:void 0},a=i.next())f.ye=a.value,r.push(new Fe(f.ye.start,f.ye.end,function(p){return function(){return An(e.l,[o.replace("{start time}",String(p.ye.mg))])}}(f),0,null,t,0,0,n.mssPrivateData.duration));return r}Re("shaka.mss.MssParser",Tm);var uk="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),lk={CAPT:"main",SUBT:"alternate",DESC:"main"};fi["application/vnd.ms-sstr+xml"]=function(){return new Tm};function Mw(e,t,n,r,i,o,a){if(200<=n&&299>=n&&n!=202)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:o};o=null;try{o=Ut(t)}catch{}throw new X(n==401||n==403?2:1,1,1001,r,n,o,e,a,i||r)}function Im(){}function ng(e,t,n,r,i,o){var a=new dk;es(t.headers).forEach(function(m,w){a.append(w,m)});var f=new ck,p={xg:!1,Bh:!1};if(e=sk(e,t,n,{body:t.body||void 0,headers:a,method:t.method,signal:f.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},p,r,i,t.streamDataCallback,o.minBytesForProgressEvents||0),e=new Yt(e,function(){return p.xg=!0,f.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var g=new st(function(){p.Bh=!0,f.abort()});g.aa(t/1e3),e.finally(function(){g.stop()})}return e}function sk(e,t,n,r,i,o,a,f,p){var g,m,w,E,C,P,R,O,j,_,K,G,W;return z(function(q){switch(q.g){case 1:return g=ak,m=fk,E=new ArrayBuffer(0),P=C=0,R=Date.now(),de(q,2),L(q,g(e,r),4);case 4:if(w=q.h,a(Lw(w.headers)),r.method=="HEAD"){q.u(5);break}return O=w.clone().body.getReader(),_=(j=w.headers.get("Content-Length"))?parseInt(j,10):0,K=function(F){function Q(){var H,Z,$,ie;return z(function(fe){switch(fe.g){case 1:return de(fe,2),L(fe,O.read(),4);case 4:H=fe.h,Oe(fe,3);break;case 2:return ke(fe),fe.return();case 3:if(H.done){fe.u(5);break}if(C+=H.value.byteLength,!f){fe.u(5);break}return L(fe,f(H.value),5);case 5:Z=Date.now(),$=C-P,(100<Z-R&&$>=p||H.done)&&(ie=H.done?0:_-C,o(Z-R,$,ie),P=C,R=Z),H.done?F.close():(F.enqueue(H.value),Q()),oe(fe)}})}Q()},new m({start:K}),L(q,w.arrayBuffer(),6);case 6:E=q.h;case 5:Oe(q,3);break;case 2:throw G=ke(q),i.xg?new X(1,1,7001,e,n):i.Bh?new X(1,1,1003,e,n):new X(1,1,1002,e,G,n);case 3:return W=Lw(w.headers),q.return(Mw(W,E,w.status,e,w.url,t,n))}})}function Lw(e){var t={};return e.forEach(function(n,r){t[r.trim()]=n}),t}function bw(){if(x.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(x.Response){if(!new Response("").body)return!1}else return!1;return!(!x.fetch||"polyfill"in x.fetch||!x.AbortController)}Re("shaka.net.HttpFetchPlugin",Im),Im.isSupported=bw,Im.parse=ng;var ak=x.fetch,ck=x.AbortController,fk=x.ReadableStream,dk=x.Headers;bw()&&(_n("http",ng,2,!0),_n("https",ng,2,!0),_n("blob",ng,2,!0));function Nw(){}function rg(e,t,n,r,i,o){var a=new pk,f=Date.now(),p=0,g=new Promise(function(m,w){a.open(t.method,e,!0),a.responseType="arraybuffer",a.timeout=t.retryParameters.timeout,a.withCredentials=t.allowCrossSiteCredentials,a.onabort=function(){w(new X(1,1,7001,e,n))};var E=!1;a.onreadystatechange=function(){if(a.readyState==2&&!E){var P=_w(a);i(P),E=!0}},a.onload=function(P){var R=_w(a),O=a.response;try{r(Date.now()-f,P.loaded-p,0);var j=Mw(R,O,a.status,e,a.responseURL,t,n);m(j)}catch(_){w(_)}},a.onerror=function(P){w(new X(1,1,1002,e,P,n))},a.ontimeout=function(){w(new X(1,1,1003,e,n))},a.onprogress=function(P){var R=Date.now(),O=o.minBytesForProgressEvents||0,j=P.loaded-p;(100<R-f&&j>=O||P.lengthComputable&&P.loaded==P.total)&&(r(R-f,j,a.readyState==4?0:P.total-P.loaded),p=P.loaded,f=R)};for(var C in t.headers)a.setRequestHeader(C.toLowerCase(),t.headers[C]);a.send(t.body)});return new Yt(g,function(){return a.abort(),Promise.resolve()})}function _w(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=T(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}Re("shaka.net.HttpXHRPlugin",Nw),Nw.parse=rg;var pk=x.XMLHttpRequest;_n("http",rg,1,!0),_n("https",rg,1,!0),_n("blob",rg,1,!0);function Uw(e,t,n,r,i){this.g=e,this.i=t,this.groupId=n,this.h=r,this.j=i}function Em(e){var t=e.Pb();return t?Ho(t):e.N().map(function(n){return"{"+encodeURI(n.split("#xywh=")[0])+"}"}).join("")+":"+e.Ma+":"+e.va}function hk(e,t){return Il(e.g.N(),e.g.Ma,e.g.va,t.streaming.retryParameters)}function jw(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function Bw(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}jw.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}};function Vw(e){return e.i==0?0:e.j/e.i}function Fw(e){var t=this;this.s=e,this.i=new Map,this.h=new Ou(function(){return Cm(t).catch(function(){})}),this.j=[],this.o=function(){},this.m=function(){},this.g=new jw,this.l=!1}Fw.prototype.destroy=function(){return this.h.destroy()};function yk(e,t,n){e.o=t,e.m=n}function Cm(e){e.l=!0;var t=e.j.map(function(n){return n()});return e.j=[],Promise.all(t)}function gk(e,t,n,r,i,o){Kt(e.h);var a=(e.i.get(t)||Promise.resolve()).then(function(){var f,p,g,m,w,E,C;return z(function(P){if(P.g==1)return L(P,Sk(e,n),2);if(f=P.h,e.h.g)throw new X(2,9,7001);if(i)for(m in p=Ze(f),g=new Zi(p),g.data)w=Number(m),E=g.data[w],C=g.g[w],e.m(E,C);return e.g.close(r,f.byteLength),e.o(Vw(e.g),e.g.g),P.return(o(f))})});e.i.set(t,a)}function vk(e,t,n,r,i,o){Kt(e.h);var a=(e.i.get(t)||Promise.resolve()).then(function(){if(e.h.g)throw new X(2,9,7001);if(i){var f=Ze(n);f=new Zi(f);for(var p in f.data){var g=Number(p);e.m(f.data[g],f.g[g])}}return e.g.close(r,n.byteLength),e.o(Vw(e.g),e.g.g),o(n)});e.i.set(t,a)}function mk(e){return z(function(t){return t.g==1?L(t,Promise.all(e.i.values()),2):t.return(e.g.g)})}function Sk(e,t){var n,r,i,o;return z(function(a){return a.g==1?(n=Lr,r=e.s.request(n,t),i=function(){return r.abort()},e.j.push(i),L(a,r.promise,2)):(o=a.h,Hr(e.j,i),a.return(o.data))})}function ig(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new bt,e.onabort=function(r){r.preventDefault(),n.g.reject()},e.onerror=function(r){r.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}ig.prototype.abort=function(){var e=this;return z(function(t){if(t.g==1){try{e.i.abort()}catch{}return de(t,2),L(t,e.g,4)}if(t.g!=2)return Oe(t,0);ke(t),oe(t)})};function km(e,t){return new Promise(function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var o;return z(function(a){if(a.g==1)return i.result==null?(n(),a.return()):(o=i.result,L(a,t(o.key,o.value,o),2));o.continue(),oe(a)})}})}ig.prototype.store=function(){return this.h},ig.prototype.promise=function(){return this.g};function Am(e){this.h=e,this.g=[]}Am.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function $a(e,t){return og(e,t,"readwrite")}function og(e,t,n){n=e.h.transaction([t],n);var r=new ig(n,t);return e.g.push(r),r.promise().then(function(){Hr(e.g,r)},function(){Hr(e.g,r)}),r}function Ja(e,t,n){this.h=new Am(e),this.i=t,this.g=n}h=Ja.prototype,h.destroy=function(){return this.h.destroy()},h.hasFixedKeySpace=function(){return!0},h.addSegments=function(){return Kw(this.i)},h.removeSegments=function(e,t){return Hw(this,this.i,e,t)},h.getSegments=function(e){var t=this,n;return z(function(r){return r.g==1?L(r,qw(t,t.i,e),2):(n=r.h,r.return(n.map(function(i){return t.zg(i)})))})},h.addManifests=function(){return Kw(this.g)},h.updateManifest=function(){return Promise.reject(new X(2,9,9016,"Cannot modify values in "+this.g))};function wk(e,t,n){e=$a(e.h,e.g);var r=e.store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}h.updateManifestExpiration=function(e,t){var n=$a(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(i){(i=i.target.result)&&(i.expiration=t,r.put(i,e))},n.promise()},h.removeManifests=function(e,t){return Hw(this,this.g,e,t)},h.getManifests=function(e){var t=this,n;return z(function(r){return r.g==1?L(r,qw(t,t.g,e),2):(n=r.h,r.return(Promise.all(n.map(function(i){return t.gd(i)}))))})},h.getAllManifests=function(){var e=this,t,n;return z(function(r){return r.g==1?(t=og(e.h,e.g,"readonly"),n=new Map,L(r,km(t,function(i,o){var a;return z(function(f){if(f.g==1)return L(f,e.gd(o),2);a=f.h,n.set(i,a),oe(f)})}),2)):r.g!=3?L(r,t.promise(),3):r.return(n)})},h.zg=function(e){return e},h.gd=function(e){return Promise.resolve(e)};function Kw(e){return Promise.reject(new X(2,9,9011,"Cannot add new value to "+e))}h.add=function(e,t){var n=this,r,i,o,a,f,p,g;return z(function(m){if(m.g==1){for(r=$a(n.h,e),i=r.store(),o=[],a=T(t),f=a.next(),p={};!f.done;p={Tf:void 0},f=a.next())g=f.value,p.Tf=i.add(g),p.Tf.onsuccess=function(w){return function(){o.push(w.Tf.result)}}(p);return L(m,r.promise(),2)}return m.return(o)})};function Hw(e,t,n,r){e=$a(e.h,t),t=e.store(),n=T(n);for(var i=n.next(),o={};!i.done;o={Ef:void 0},i=n.next())o.Ef=i.value,t.delete(o.Ef).onsuccess=function(a){return function(){return r(a.Ef)}}(o);return e.promise()}function qw(e,t,n){var r,i,o,a,f,p,g;return z(function(m){if(m.g==1){for(r=og(e.h,t,"readonly"),i=r.store(),o={},a=[],f=T(n),p=f.next(),g={};!p.done;g={qe:void 0,be:void 0},p=f.next())g.be=p.value,g.qe=i.get(g.be),g.qe.onsuccess=function(w){return function(){w.qe.result==null&&a.push(w.be),o[w.be]=w.qe.result}}(g);return L(m,r.promise(),2)}if(a.length)throw new X(2,9,9012,"Could not find values for "+a);return m.return(n.map(function(w){return o[w]}))})}function zp(e){this.g=new Am(e)}zp.prototype.destroy=function(){return this.g.destroy()},zp.prototype.getAll=function(){var e=this,t,n;return z(function(r){return r.g==1?(t=og(e.g,"session-ids","readonly"),n=[],L(r,km(t,function(i,o){n.push(o)}),2)):r.g!=3?L(r,t.promise(),3):r.return(n)})},zp.prototype.add=function(e){var t=$a(this.g,"session-ids"),n=t.store();e=T(e);for(var r=e.next();!r.done;r=e.next())n.add(r.value);return t.promise()},zp.prototype.remove=function(e){var t=this,n;return z(function(r){return r.g==1?(n=$a(t.g,"session-ids"),L(r,km(n,function(i,o,a){e.includes(o.sessionId)&&a.delete()}),2)):L(r,n.promise(),0)})};function ei(){this.g=new Map}ei.prototype.destroy=function(){for(var e=[],t=T(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},ei.prototype.init=function(){var e=this;Gp.forEach(function(i,o){(i=i())&&e.g.set(o,i)});for(var t=[],n=T(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)};function zw(e){var t=null;if(e.g.forEach(function(n,r){n.getCells().forEach(function(i,o){i.hasFixedKeySpace()||t||(t={path:{xb:r,Oa:o},Oa:i})})}),t)return t;throw new X(2,9,9013,"Could not find a cell that supports add-operations")}function Tk(e,t){e.g.forEach(function(n,r){n.getCells().forEach(function(i,o){t({xb:r,Oa:o},i)})})}function ug(e,t,n){if(e=e.g.get(t),!e)throw new X(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new X(2,9,9013,"Could not find cell with name "+n);return t}function xk(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function Ik(e){var t=Array.from(e.g.keys());if(!t.length)throw new X(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function Ek(e){var t,n,r;return z(function(i){return i.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(r=Gp,r.forEach(function(o){(o=o())&&t.push(o)})),L(i,Promise.all(t.map(function(o){return o.erase()})),2)):n?i.u(0):L(i,Promise.all(t.map(function(o){return o.destroy()})),0)})}function Gw(e,t){Gp.set(e,t)}Re("shaka.offline.StorageMuxer",ei),ei.unregister=function(e){Gp.delete(e)},ei.register=Gw,ei.prototype.destroy=ei.prototype.destroy;var Gp=new Map;function Wp(){Ja.apply(this,arguments)}mt(Wp,Ja),Wp.prototype.updateManifestExpiration=function(e,t){var n=this,r,i,o;return z(function(a){return r=$a(n.h,n.g),i=r.store(),o=new bt,i.get(e).onsuccess=function(f){(f=f.target.result)?(f.expiration=t,i.put(f),o.resolve()):o.reject(new X(2,9,9012,"Could not find values for "+e))},L(a,Promise.all([r.promise(),o]),0)})},Wp.prototype.gd=function(e){var t,n,r,i,o,a;return z(function(f){if(f.g==1){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,o=Ck(e.periods[n],i),t.push(o);return L(f,PS(t),2)}return a=f.h,f.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:a,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function Ck(e,t){Ak(e);for(var n=T(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map(function(i){return kk(i,e.startTime,t)})}function kk(e,t,n){var r=e.initSegmentUri?Ww(e.initSegmentUri):null,i=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(a){var f=Ww(a.uri);return{startTime:t+a.startTime,endTime:t+a.endTime,dataKey:f,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:o,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}Wp.prototype.zg=function(e){return{data:e.data}};function Ww(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new X(2,9,9004,"Could not parse uri "+e)}function Ak(e){var t=e.streams.filter(function(f){return f.contentType=="audio"});if(e=e.streams.filter(function(f){return f.contentType=="video"}),!t.every(function(f){return f.variantIds})||!e.every(function(f){return f.variantIds})){for(var n=T(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=T(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=T(e),o=i.next();!o.done;o=i.next())o.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,i=T(t),o=i.next();!o.done;o=i.next())o.value.variantIds.push(r);if(e.length&&t.length)for(t=T(t),r=t.next();!r.done;r=t.next())for(r=r.value,i=T(e),o=i.next();!o.done;o=i.next()){o=o.value;var a=n++;r.variantIds.push(a),o.variantIds.push(a)}}}function lg(){Ja.apply(this,arguments)}mt(lg,Ja),lg.prototype.gd=function(e){var t,n,r,i,o,a;return z(function(f){if(f.g==1){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var p=e.periods[n],g=[],m=T(p.streams),w=m.next();!w.done;w=m.next())w=w.value,w.variantIds.length!=0&&g.push(Pk(w,p.startTime,p.startTime+i));o=g,t.push(o)}return L(f,PS(t),2)}return a=f.h,f.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:a,sequenceMode:!1})})};function Pk(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function Pm(){Ja.apply(this,arguments)}mt(Pm,Ja),h=Pm.prototype,h.hasFixedKeySpace=function(){return!1},h.addSegments=function(e){return this.add(this.i,e)},h.addManifests=function(e){return this.add(this.g,e)},h.updateManifest=function(e,t){return wk(this,e,t)},h.gd=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function Xw(){this.m=this.j=this.i=this.h=this.g=this.l=null}h=Xw.prototype,h.init=function(){var e=this,t=new bt,n=!1,r=new st(function(){n=!0,t.reject(new X(2,9,9017))});r.aa(5);var i=x.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){if(!n){var o=i.result;e.l=o;var a=o.objectStoreNames;a=a.contains("manifest")&&a.contains("segment")?new Wp(o,"segment","manifest"):null,e.g=a,a=o.objectStoreNames,a=a.contains("manifest-v2")&&a.contains("segment-v2")?new lg(o,"segment-v2","manifest-v2"):null,e.h=a,a=o.objectStoreNames,a=a.contains("manifest-v3")&&a.contains("segment-v3")?new lg(o,"segment-v3","manifest-v3"):null,e.i=a,a=o.objectStoreNames,a=a.contains("manifest-v5")&&a.contains("segment-v5")?new Pm(o,"segment-v5","manifest-v5"):null,e.j=a,o=o.objectStoreNames.contains("session-ids")?new zp(o):null,e.m=o,r.stop(),t.resolve()}},i.onupgradeneeded=function(){for(var o=i.result,a=T(["segment-v5","manifest-v5","session-ids"]),f=a.next();!f.done;f=a.next())f=f.value,o.objectStoreNames.contains(f)||o.createObjectStore(f,{autoIncrement:!0})},i.onerror=function(o){n||(t.reject(new X(2,9,9001,i.error)),r.stop(),o.preventDefault())},t},h.destroy=function(){var e=this;return z(function(t){switch(t.g){case 1:if(!e.g){t.u(2);break}return L(t,e.g.destroy(),2);case 2:if(!e.h){t.u(4);break}return L(t,e.h.destroy(),4);case 4:if(!e.i){t.u(6);break}return L(t,e.i.destroy(),6);case 6:if(!e.j){t.u(8);break}return L(t,e.j.destroy(),8);case 8:if(!e.m){t.u(10);break}return L(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),oe(t)}})},h.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},h.getEmeSessionCell=function(){return this.m},h.erase=function(){var e=this;return z(function(t){switch(t.g){case 1:if(!e.g){t.u(2);break}return L(t,e.g.destroy(),2);case 2:if(!e.h){t.u(4);break}return L(t,e.h.destroy(),4);case 4:if(!e.i){t.u(6);break}return L(t,e.i.destroy(),6);case 6:if(!e.j){t.u(8);break}return L(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),L(t,Dk(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,L(t,e.init(),0)}})};function Dk(){var e=new bt,t=x.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new X(2,9,9001,t.error)),n.preventDefault()},e}Gw("idb",function(){return(!mr()||mr()&&vu())&&!Gi()&&x.indexedDB?new Xw:null});function Ku(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}Ku.prototype.xb=function(){return this.i},Ku.prototype.Oa=function(){return this.h},Ku.prototype.key=function(){return this.l},Ku.prototype.toString=function(){return this.j};function Dm(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var r=e[3];return r&&t!=null?new Ku(t,n,r,Number(e[4])):null}function Yw(e,t){this.h=e,this.g=t}function $w(e,t){var n=new Me(null,0);n.ab(t.duration);var r=t.streams.filter(function(g){return g.type=="audio"}),i=t.streams.filter(function(g){return g.type=="video"});r=Ok(e,r,i,n),i=t.streams.filter(function(g){return g.type==at}).map(function(g){return sg(e,g,n)});var o=t.streams.filter(function(g){return g.type=="image"}).map(function(g){return sg(e,g,n)}),a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var f=T(r.values()),p=f.next();!p.done;p=f.next())p=p.value,p.audio&&p.audio.encrypted&&(p.audio.drmInfos=a),p.video&&p.video.encrypted&&(p.video.drmInfos=a);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Ok(e,t,n,r){for(var i=new Set,o=T(t),a=o.next();!a.done;a=o.next()){a=T(a.value.variantIds);for(var f=a.next();!f.done;f=a.next())i.add(f.value)}for(o=T(n),a=o.next();!a.done;a=o.next())for(a=T(a.value.variantIds),f=a.next();!f.done;f=a.next())i.add(f.value);for(o=new Map,i=T(i),a=i.next();!a.done;a=i.next())a=a.value,o.set(a,{id:a,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=T(t),i=t.next();!i.done;i=t.next())for(a=i.value,i=sg(e,a,r),a=T(a.variantIds),f=a.next();!f.done;f=a.next())f=o.get(f.value),f.language=i.language,f.primary=f.primary||i.primary,f.audio=i;for(n=T(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=sg(e,i,r),i=T(i.variantIds),a=i.next();!a.done;a=i.next())a=o.get(a.value),a.primary=a.primary||t.primary,a.video=t;return o}function sg(e,t,n){var r=t.segments.map(function(i){return Rk(e,i,t)});return n.Cd(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new St(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([hn(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1}}function Rk(e,t,n){var r=new Ku("segment",e.h,e.g,t.dataKey);return e=new Fe(t.startTime,t.endTime,function(){return[r.toString()]},0,null,t.initSegmentKey!=null?Mk(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.we(t.thumbnailSprite),e}function Mk(e,t){var n=new Ku("segment",e.h,e.g,t);return new Er(function(){return[n.toString()]},0,null)}function Jw(){this.g=null}h=Jw.prototype,h.configure=function(){},h.start=function(e,t){var n=this,r,i,o,a,f,p,g;return z(function(m){switch(m.g){case 1:if(r=Dm(e),n.g=r,r==null||r.g!="manifest")throw new X(2,1,9004,e);return i=new ei,qe(m,2),L(m,i.init(),4);case 4:return L(m,ug(i,r.xb(),r.Oa()),5);case 5:return o=m.h,L(m,o.getManifests([r.key()]),6);case 6:return a=m.h,f=a[0],p=new Yw(r.xb(),r.Oa()),g=$w(p,f),t.makeTextStreamsForClosedCaptions(g),m.return(g);case 2:return _t(m),L(m,i.destroy(),7);case 7:Dt(m,0)}})},h.stop=function(){return Promise.resolve()},h.update=function(){},h.onExpirationUpdated=function(e,t){var n=this,r,i,o,a,f,p,g;return z(function(m){switch(m.g){case 1:return r=n.g,i=new ei,de(m,2,3),L(m,i.init(),5);case 5:return L(m,ug(i,r.xb(),r.Oa()),6);case 6:return o=m.h,L(m,o.getManifests([r.key()]),7);case 7:if(a=m.h,f=a[0],p=f.sessionIds.includes(e),g=f.expiration==null||f.expiration>t,!p||!g){m.u(3);break}return L(m,o.updateManifestExpiration(r.key(),t),3);case 3:return _t(m),L(m,i.destroy(),10);case 10:Dt(m,0);break;case 2:ke(m),m.u(3)}})},h.onInitialVariantChosen=function(){},h.banLocation=function(){},h.setMediaElement=function(){},fi["application/x-offline-manifest"]=function(){return new Jw};function Qw(){}function Zw(e,t){var n=Dm(e);return n&&n.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t},e=Qo(e)):e=n&&n.g=="segment"?Lk(n.key(),n,t):Ai(new X(2,1,9004,e)),e}function Lk(e,t,n){var r=new ei;return Qo(void 0).Da(function(){return r.init()}).Da(function(){return ug(r,t.xb(),t.Oa())}).Da(function(i){return i.getSegments([t.key()])}).Da(function(i){return{uri:t,data:i[0].data,headers:{},originalRequest:n}}).finally(function(){return r.destroy()})}Re("shaka.offline.OfflineScheme",Qw),Qw.plugin=Zw,_n("offline",Zw);function eT(e,t,n){var r,i,o,a,f,p;return z(function(g){switch(g.g){case 1:r=[];for(var m=[],w=T(n),E=w.next();!E.done;E=w.next()){E=E.value;for(var C=!1,P=T(m),R=P.next();!R.done;R=P.next())if(R=R.value,Nk(R.info,E)){R.sessionIds.push(E.sessionId),C=!0;break}C||m.push({info:E,sessionIds:[E.sessionId]})}i=T(m),o=i.next();case 2:if(o.done){g.u(4);break}return a=o.value,f=bk(e,t,a),L(g,f,5);case 5:p=g.h,r=r.concat(p),o=i.next(),g.u(2);break;case 4:return g.return(r)}})}function bk(e,t,n){var r,i;return z(function(o){switch(o.g){case 1:return r=new ts({Tb:t,onError:function(){},ke:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),de(o,2),r.configure(e),L(o,Rc(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:Oe(o,3);break;case 2:return ke(o),L(o,r.destroy(),5);case 5:return o.return([]);case 3:return i=[],L(o,Promise.all(n.sessionIds.map(function(a){return z(function(f){if(f.g==1)return de(f,2),L(f,Co(r,a),4);if(f.g!=2)return i.push(a),Oe(f,0);ke(f),oe(f)})})),6);case 6:return L(o,r.destroy(),7);case 7:return o.return(i)}})}function Nk(e,t){function n(r,i){return r.robustness==i.robustness&&r.contentType==i.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&yh(e.audioCapabilities,t.audioCapabilities,n)&&yh(e.videoCapabilities,t.videoCapabilities,n)}function _k(e,t,n){var r=t.presentationTimeline.getDuration();return t=tT(t),{offlineUri:null,originalManifestUri:e,duration:r,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function Om(e,t){var n=$w(new Yw(e.xb(),e.Oa()),t),r=t.appMetadata||{};return n=tT(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function tT(e){var t=[],n=gn(e.variants);n=T(n);for(var r=n.next();!r.done;r=n.next())t.push(Jl(r.value));for(e=T(e.textStreams),n=e.next();!n.done;n=e.next())t.push(To(n.value));return t}function Uk(){this.g={}}function jk(e,t){var n=t.audio,r=t.video;if(n&&!r&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&r&&(e.g[r.id]=r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,o=r.bandwidth||t.bandwidth-i;0>=o&&(o=t.bandwidth),e.g[n.id]=i,e.g[r.id]=o}}function Bk(e,t){e.g[t.id]=t.bandwidth||2048}function nT(e,t){return e=e.g[t],e==null&&(e=0),e}function Qn(e){var t=this;if(e&&e.constructor!=pe)throw new X(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.vb()):(this.h=ht(),this.g=new jt),this.i=[],this.l=[];var n=!e;this.j=new Ou(function(){var r,i,o,a,f;return z(function(p){switch(p.g){case 1:return L(p,Promise.all(t.l.map(function(g){return Cm(g)})),2);case 2:for(r=function(){},i=[],o=T(t.i),a=o.next();!a.done;a=o.next())f=a.value,i.push(f.then(r,r));return L(p,Promise.all(i),3);case 3:if(!n){p.u(4);break}return L(p,t.g.destroy(),4);case 4:t.h=null,t.g=null,oe(p)}})}),this.m=1e9}function Rm(){if(zi())e:{for(var e=T(Gp.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}h=Qn.prototype,h.destroy=function(){return this.j.destroy()},h.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=D(e,t)),Nt(this.h,e)},h.getConfiguration=function(){var e=ht();return Nt(e,this.h,ht()),e},h.vb=function(){return this.g},h.store=function(e,t,n,r,i){var o=this,a=this.getConfiguration(),f=new Fw(this.g);return this.l.push(f),t=Vk(this,e,t||{},r||[],i||[],function(){var p;return z(function(g){return g.g==1?n?g.u(2):L(g,za(e,o.g,a.manifest.retryParameters),3):(g.g!=2&&(n=g.h),p=_d(e,n||null),g.return(p()))})},a,f),t=new Yt(t,function(){return Cm(f)}),t.finally(function(){Hr(o.l,f)}),nA(this,t)};function Vk(e,t,n,r,i,o,a,f){var p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae;return z(function(me){switch(me.g){case 1:return ag(),g=p=null,m=new ei,C=E=w=null,de(me,2,3),L(me,o(),5);case 5:return p=me.h,L(me,Yk(e,t,p,a),6);case 6:if(P=me.h,_i(e),R=!P.presentationTimeline.T()&&!P.presentationTimeline.vc(),!R)throw new X(2,9,9005,t);O=T(r),j=O.next();case 7:if(j.done){me.u(9);break}return _=j.value,L(me,$k(e,_,P),10);case 10:K=me.h,P.imageStreams.push(K),_i(e),j=O.next(),me.u(7);break;case 9:G=T(i),W=G.next();case 11:return W.done?(Nc(a.drm.clearKeys,P.variants),Q=P.variants.some(function(ye){if(ye.audio){for(var Ce=T(ye.audio.drmInfos),_e=Ce.next();!_e.done;_e=Ce.next())if(_e.value.licenseServerUri.startsWith("data:"))return!0}if(ye.video){for(ye=T(ye.video.drmInfos),Ce=ye.next();!Ce.done;Ce=ye.next())if(Ce.value.licenseServerUri.startsWith("data:"))return!0}return!1}),H=a.offline.usePersistentLicense,Q&&(H=!1),L(me,e.Ic(P,function(ye){C=C||ye},a,H),15)):(q=W.value,L(me,Jk(e,P,q.uri,q.language,q.kind,q.mime,q.codecs),14));case 14:F=me.h,P.textStreams.push(F),_i(e),W=G.next(),me.u(11);break;case 15:if(g=me.h,_i(e),C)throw C;return L(me,Kk(P,g,a,H),16);case 16:return L(me,m.init(),17);case 17:return _i(e),L(me,zw(m),18);case 18:return w=me.h,_i(e),Z=Hk(g,P,t,n,a,f,H),$=Z.Mi,ie=Z.ig,L(me,w.Oa.addManifests([$]),19);case 19:if(fe=me.h,_i(e),E=fe[0],_i(e),C)throw C;return L(me,Fk(e,ie,E,$,f,a,w.Oa,P,g,H),20);case 20:return _i(e),uT(P,$,g,H),L(me,w.Oa.updateManifest(E,$),21);case 21:return _i(e),re=new Ku("manifest",w.path.xb,w.path.Oa,E),me.return(Om(re,$));case 3:return _t(me),L(me,m.destroy(),22);case 22:if(!p){me.u(23);break}return L(me,p.stop(),23);case 23:if(!g){me.u(25);break}return L(me,g.destroy(),25);case 25:Dt(me,0);break;case 2:if(ae=ke(me),E==null){me.u(27);break}return L(me,rT(E),27);case 27:throw C||ae}})}function Fk(e,t,n,r,i,o,a,f,p,g){var m,w,E,C,P,R,O,j,_,K,G;return z(function(W){switch(W.g){case 1:if(m={},w=0,E=function(){if(e.j.g||i.l)throw new X(2,9,7001)},C=function(q,F){var Q,H,Z,$,ie,fe,re,ae,me;return z(function(ye){if(ye.g==1){for(Q=T(q),H=Q.next(),Z={};!H.done;Z={Jb:void 0},H=Q.next())Z.Jb=H.value,E(),$=hk(Z.Jb,o),ie=Z.Jb.i,fe=Z.Jb.h,re=function(Ce){return function(_e){var Ve,yt,pt;return z(function(ze){switch(ze.g){case 1:if(Ve=Ce.Jb.g,yt=Em(Ve),!Ve.aesKey){ze.u(2);break}return L(ze,of(_e,Ve.aesKey,Ce.Jb.j),3);case 3:_e=ze.h;case 2:return L(ze,a.addSegments([{data:_e}]),4);case 4:pt=ze.h,E(),m[yt]=pt[0],w+=_e.byteLength,oe(ze)}})}}(Z),ae=Z.Jb.g,(me=ae.Pb())?vk(i,Z.Jb.groupId,me,ie,fe,re):gk(i,Z.Jb.groupId,$,ie,fe,re);return L(ye,mk(i),2)}return E(),!F||i.l?ye.u(0):(uT(f,r,p,g),L(ye,a.updateManifest(n,r),0))})},P=!1,de(W,2),!Mm(f)||!P||oT(f)){W.u(4);break}return L(W,C(t.filter(function(q){return q.h}),!0),5);case 5:return E(),t=t.filter(function(q){return!q.h}),R=m,O=w,m={},w=0,L(W,iT(a,n,r,R,O,function(){return _i(e)}),6);case 6:E();case 4:if(P){W.u(7);break}return L(W,C(t,!1),8);case 8:return E(),j=m,_=w,m={},w=0,L(W,iT(a,n,r,j,_,function(){return E()}),9);case 9:E();case 7:Oe(W,0);break;case 2:return K=ke(W),G=Object.values(m),L(W,a.removeSegments(G,function(){}),10);case 10:throw K}})}function rT(e){var t,n,r,i;return z(function(o){switch(o.g){case 1:return t=new ei,L(o,t.init(),2);case 2:return L(o,zw(t),3);case 3:return n=o.h,r=new Ku("manifest",n.path.xb,n.path.Oa,e),L(o,t.destroy(),4);case 4:return i=new Qn,L(o,i.remove(r.toString()),0)}})}function iT(e,t,n,r,i,o){var a,f,p,g,m,w,E,C,P,R,O;return z(function(j){switch(j.g){case 1:for(a=!1,de(j,2),f=!0,p=T(n.streams),g=p.next();!g.done;g=p.next())for(m=g.value,w=T(m.segments),E=w.next();!E.done;E=w.next())C=E.value,P=C.pendingSegmentRefId?r[C.pendingSegmentRefId]:null,P!=null&&(C.dataKey=P,C.pendingSegmentRefId=void 0),P=C.pendingInitSegmentRefId?r[C.pendingInitSegmentRefId]:null,P!=null&&(C.initSegmentKey=P,C.pendingInitSegmentRefId=void 0),C.pendingSegmentRefId&&(f=!1),C.pendingInitSegmentRefId&&(f=!1);return n.size+=i,f&&(n.isIncomplete=!1),L(j,e.updateManifest(t,n),4);case 4:a=!0,o(),Oe(j,0);break;case 2:return R=ke(j),L(j,rT(t),5);case 5:if(a){j.u(6);break}return O=Object.values(r),L(j,e.removeSegments(O,function(){}),6);case 6:throw R}})}function Kk(e,t,n,r){var i,o,a,f,p,g,m,w,E,C,P,R,O,j,_,K,G,W,q,F,Q,H,Z,$,ie,fe,re,ae,me,ye;return z(function(Ce){switch(Ce.g){case 1:return i={width:1/0,height:1/0},Sd(e,n.restrictions,i),L(Ce,wd(t,e,r,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(o=[],a=n.preferredDecodingAttributes,f=n.preferredVideoCodecs,p=n.preferredAudioCodecs,g=n.preferredTextFormats,Ic(e,f,p,a,g),m=T(e.variants),w=m.next();!w.done;w=m.next())E=w.value,o.push(Jl(E));for(C=T(e.textStreams),P=C.next();!P.done;P=C.next())R=P.value,o.push(To(R));for(O=T(e.imageStreams),j=O.next();!j.done;j=O.next())_=j.value,o.push(sl(_));return L(Ce,n.offline.trackSelectionCallback(o),3);case 3:for(K=Ce.h,G=e.presentationTimeline.getDuration(),W=0,q=T(K),F=q.next();!F.done;F=q.next())Q=F.value,H=Q.bandwidth*G/8,W+=H;return de(Ce,4),L(Ce,n.offline.downloadSizeCallback(W),6);case 6:if(Z=Ce.h,!Z)throw new X(2,9,9014);Oe(Ce,5);break;case 4:throw $=ke(Ce),$ instanceof X?$:new X(2,9,9015);case 5:for(ie=new Set,fe=new Set,re=new Set,ae=T(K),me=ae.next();!me.done;me=ae.next())ye=me.value,ye.type=="variant"&&ie.add(ye.id),ye.type=="text"&&fe.add(ye.id),ye.type=="image"&&re.add(ye.id);e.variants=e.variants.filter(function(_e){return ie.has(_e.id)}),e.textStreams=e.textStreams.filter(function(_e){return fe.has(_e.id)}),e.imageStreams=e.imageStreams.filter(function(_e){return re.has(_e.id)}),oA(e),oe(Ce)}})}function Hk(e,t,n,r,i,o,a){var f=_k(n,t,r),p=i.offline.progressCallback;yk(o,function(P,R){f.size=R,p(f,P)},function(P,R){g&&a&&m==R&&ru(e,"cenc",P)});var g=Mm(t)&&!oT(t),m=null;g&&(m=uA.get(e.h.keySystem));for(var w=new Uk,E=T(t.textStreams),C=E.next();!C.done;C=E.next())w.g[C.value.id]=52;for(E=T(t.imageStreams),C=E.next();!C.done;C=E.next())Bk(w,C.value);for(E=T(t.variants),C=E.next();!C.done;C=E.next())jk(w,C.value);return o=Zk(o,w,t,i),i=o.streams,o=o.ig,(w=e.h)&&a&&(w.initData=[]),{Mi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.ld(),streams:i,sessionIds:a?Mu(e):[],drmInfo:w,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},ig:o}}function Mm(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function oT(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function uT(e,t,n,r){if(t.expiration=n.ld(),n=Mu(n),t.sessionIds=r?n:[],Mm(e)&&r&&!n.length)throw new X(2,9,9007)}h.remove=function(e){return Lm(this,qk(this,e))};function qk(e,t){var n,r,i,o,a,f;return z(function(p){switch(p.g){case 1:if(ag(),n=Dm(t),n==null||n.g!="manifest")throw new X(2,9,9004,t);return r=n,i=new ei,qe(p,2),L(p,i.init(),4);case 4:return L(p,ug(i,r.xb(),r.Oa()),5);case 5:return o=p.h,L(p,o.getManifests([r.key()]),6);case 6:return a=p.h,f=a[0],L(p,Promise.all([zk(e,f,i),Gk(o,r,f)]),2);case 2:return _t(p),L(p,i.destroy(),8);case 8:Dt(p,0)}})}function lT(e,t){for(var n=[],r=T(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&i.type=="video"?n.push({contentType:hn(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||i.type!="audio"||n.push({contentType:hn(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function zk(e,t,n){return z(function(r){return L(r,iA(e.g,e.h.drm,n,t),0)})}function Gk(e,t,n){function r(){}var i=rA(n);return Om(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}h.dj=function(){return Lm(this,Wk(this))};function Wk(e){var t,n,r,i,o,a,f,p,g,m;return z(function(w){switch(w.g){case 1:return ag(),t=e.g,n=e.h.drm,r=new ei,i=!1,qe(w,2),L(w,r.init(),4);case 4:o=[],xk(r,function(E){return o.push(E)}),a=T(o),f=a.next();case 5:if(f.done){w.u(2);break}return p=f.value,L(w,p.getAll(),8);case 8:return g=w.h,L(w,eT(n,t,g),9);case 9:return m=w.h,L(w,p.remove(m),10);case 10:m.length!=g.length&&(i=!0),f=a.next(),w.u(5);break;case 2:return _t(w),L(w,r.destroy(),11);case 11:Dt(w,3);break;case 3:return w.return(!i)}})}h.list=function(){return Lm(this,Xk())};function Xk(){var e,t,n;return z(function(r){switch(r.g){case 1:return ag(),e=[],t=new ei,qe(r,2),L(r,t.init(),4);case 4:return n=Promise.resolve(),Tk(t,function(i,o){n=n.then(function(){var a;return z(function(f){if(f.g==1)return L(f,o.getAllManifests(),2);a=f.h,a.forEach(function(p,g){p=Om(new Ku("manifest",i.xb,i.Oa,g),p),e.push(p)}),oe(f)})})}),L(r,n,2);case 2:return _t(r),L(r,t.destroy(),6);case 6:Dt(r,3);break;case 3:return r.return(e)}})}function Yk(e,t,n,r){var i,o,a,f,p;return z(function(g){if(g.g==1)return i=null,o=e.g,a={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(m){i=m},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),_i(e),L(g,n.start(t,a),2);if(g.g!=3)return f=g.h,_i(e),p=aT(f),L(g,Promise.all(fl(p,function(m){return m.createSegmentIndex()})),3);if(_i(e),i)throw i;return g.return(f)})}function $k(e,t,n){var r,i,o,a,f,p,g,m,w,E,C,P,R,O,j;return z(function(_){switch(_.g){case 1:return L(_,sT(e,t),2);case 2:if(r=_.h,r!="text/vtt")throw new X(1,2,2017,t);return L(_,Qk(t,e.g,e.h.streaming.retryParameters),3);case 3:if(i=_.h,o=yn[r],!o)throw new X(2,2,2014,r);for(a=o(),f={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},p=Ze(i),g=a.parseMedia(p,f,t,[]),m=[],w=T(g),E=w.next(),C={};!E.done;C={Fe:void 0,Kc:void 0},E=w.next())C.Kc=E.value,C.Fe=null,P=function(K){return function(){return K.Fe==null&&(K.Fe=An([t],[K.Kc.payload])),K.Fe||[]}}(C),R=new Fe(C.Kc.startTime,C.Kc.endTime,P,0,null,null,0,0,1/0),C.Kc.payload.includes("#xywh")&&(O=C.Kc.payload.split("#xywh=")[1].split(","),O.length===4&&R.we({height:parseInt(O[3],10),positionX:parseInt(O[0],10),positionY:parseInt(O[1],10),width:parseInt(O[2],10)})),m.push(R);if(j=r,!m.length){_.u(4);break}return L(_,za(m[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:j=_.h;case 4:return _.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new St(m),mimeType:j||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([hn(j||"","")]),isAudioMuxedInVideo:!1})}})}function Jk(e,t,n,r,i,o,a){var f,p,g;return z(function(m){if(m.g==1)return o?m.u(2):L(m,sT(e,n),3);if(m.g!=2&&(o=m.h),f={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Tl(0,t.presentationTimeline.getDuration(),[n]),mimeType:o||"",codecs:a||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:at,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([hn(o||"",a||"")]),isAudioMuxedInVideo:!1},p=hn(f.mimeType,f.codecs),g=Iu(p),!g)throw new X(2,2,2014,o);return m.return(f)})}function sT(e,t){var n;return z(function(r){switch(r.g){case 1:return de(r,2),L(r,za(t,e.g,e.h.streaming.retryParameters),4);case 4:n=r.h,Oe(r,3);break;case 2:ke(r);case 3:if(n)return r.return(n);throw new X(1,2,2011,t)}})}function Qk(e,t,n){var r,i,o;return z(function(a){return a.g==1?(r=Lr,i=wt([e],n),i.method="GET",L(a,t.request(r,i).promise,2)):(o=a.h,a.return(o.data))})}h.Ic=function(e,t,n,r){var i=this,o;return z(function(a){return a.g==1?(o=new ts({Tb:i.g,onError:t,ke:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),o.configure(n.drm),L(a,tu(o,e.variants,r),2)):a.g!=3?L(a,ns(o),3):a.return(o)})};function Zk(e,t,n,r){var i=new Map,o=aT(n),a=new Map;o=T(o);for(var f=o.next();!f.done;f=o.next()){f=f.value;var p=eA(e,t,n,f,r,i);a.set(f.id,p)}for(e=T(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&a.get(t.audio.id).variantIds.push(t.id),t.video&&a.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(a.values()),ig:Array.from(i.values())}}function eA(e,t,n,r,i,o){var a={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,mssPrivateData:r.mssPrivateData,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},f=i.offline.numberOfParallelDownloads,p=f===0?r.id:0;return tA(r,n.presentationTimeline.nb(),function(g,m){var w=Em(g),E=void 0;if(!o.has(w)){var C=g.endTime-g.startTime;C=nT(t,r.id)*C,C=Bw(e.g,C),o.set(w,new Uw(g,C,p,!1,m))}g.ca&&(E=Em(g.ca),o.has(E)||(C=.5*nT(t,r.id),C=Bw(e.g,C),o.set(E,new Uw(g.ca,C,p,!0,m)))),a.segments.push({pendingInitSegmentRefId:E,initSegmentKey:E?0:null,startTime:g.startTime,endTime:g.endTime,appendWindowStart:g.appendWindowStart,appendWindowEnd:g.appendWindowEnd,timestampOffset:g.timestampOffset,tilesLayout:g.tilesLayout,pendingSegmentRefId:w,dataKey:0,mimeType:g.mimeType,codecs:g.codecs,thumbnailSprite:g.thumbnailSprite}),f!==0&&(p=(p+1)%f)}),a}function tA(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var r=e.segmentIndex.get(t);r;)n(r,t),r=e.segmentIndex.get(++t)}function _i(e){if(e.j.g)throw new X(2,9,7001)}function ag(){if(!Rm())throw new X(2,9,9e3)}function Lm(e,t){return z(function(n){return n.g==1?(e.i.push(t),qe(n,2),L(n,t,4)):n.g!=2?n.return(n.h):(_t(n),Hr(e.i,t),Dt(n,0))})}function nA(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){Hr(e.i,n)})}function rA(e){var t=new Set;e=T(e.streams);for(var n=e.next();!n.done;n=e.next()){n=T(n.value.segments);for(var r=n.next();!r.done;r=n.next())r=r.value,r.initSegmentKey!=null&&t.add(r.initSegmentKey),t.add(r.dataKey)}return Array.from(t)}function iA(e,t,n,r){var i,o,a;return z(function(f){return f.g==1?r.drmInfo?(i=Ik(n),o=r.sessionIds.map(function(p){return{sessionId:p,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:lT(r,!1),videoCapabilities:lT(r,!0)}}),L(f,eT(t,e,o),2)):f.return():f.g!=3?(a=f.h,L(f,i.remove(a),3)):L(f,i.add(o.filter(function(p){return!a.includes(p.sessionId)})),0)})}function aT(e){for(var t=new Set,n=T(e.variants),r=n.next();!r.done;r=n.next())r=r.value,r.audio&&t.add(r.audio),r.video&&t.add(r.video);for(n=T(e.textStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(e=T(e.imageStreams),n=e.next();!n.done;n=e.next())t.add(n.value);return t}function oA(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=T(t),r=n.next();!r.done;r=n.next()){r=T(t);for(var i=r.next();!i.done;i=r.next());}for(t=T(e),n=t.next();!n.done;n=t.next())for(n=T(e),r=n.next();!r.done;r=n.next());}Re("shaka.offline.Storage",Qn),Qn.deleteAll=function(){var e;return z(function(t){return t.g==1?(e=new ei,qe(t,2),L(t,Ek(e),2)):t.g!=5?(_t(t),L(t,e.destroy(),5)):Dt(t,0)})},Qn.prototype.list=Qn.prototype.list,Qn.prototype.removeEmeSessions=Qn.prototype.dj,Qn.prototype.remove=Qn.prototype.remove,Qn.prototype.store=Qn.prototype.store,Qn.prototype.getNetworkingEngine=Qn.prototype.vb,Qn.prototype.getConfiguration=Qn.prototype.getConfiguration,Qn.prototype.configure=Qn.prototype.configure,Qn.prototype.destroy=Qn.prototype.destroy,Qn.support=Rm;var uA=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");Pv.offline=Rm;function Dr(){}function yi(e,t){for(e={priority:t||0,callback:e},t=0;t<Xp.length;t++)if(Xp[t].priority<e.priority){Xp.splice(t,0,e);return}Xp.push(e)}Re("shaka.polyfill",Dr),Dr.register=yi,Dr.installAll=function(){for(var e=T(Xp),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){ft("Error installing polyfill!",n)}}};var Xp=[];function cT(){}function fT(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=T(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())lA(t.value)}function lA(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}Dr.Aria=cT,cT.install=fT,yi(fT);function dT(){}function pT(){Ti()||Tt("Sky_STB")||Ix()}Dr.EncryptionScheme=dT,dT.install=pT,yi(pT,-2);function hT(){}function yT(){if(x.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Nf),document.addEventListener("webkitfullscreenerror",Nf),document.addEventListener("mozfullscreenchange",Nf),document.addEventListener("mozfullscreenerror",Nf),document.addEventListener("MSFullscreenChange",Nf),document.addEventListener("MSFullscreenError",Nf)}}function Nf(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}Dr.Fullscreen=hT,hT.install=yT,yi(yT);function cg(){}function gT(){var e=!0;!mr()||mr()&&vu()||mr()&&Tt("Fuchsia")||(e=!1),(yo()||zr()||Ti()||qr()||Or()||Tt("PC=EOS")||Gr()||Tt("WPE"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),vT=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=sA)}function sA(e){var t,n,r,i,o,a,f,p,g,m,w;return z(function(E){switch(E.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},n=e.video,r=e.audio,e.type!="media-source"){if(e.type=="file"){if(n&&(i=n.contentType,o=qs(i),!o)||r&&(a=r.contentType,f=qs(a),!f))return E.return(t)}else return E.return(t);E.u(2);break}if(!zi())return E.return(t);if(!n){E.u(3);break}return L(E,aA(n),4);case 4:if(p=E.h,!p)return E.return(t);case 3:if(r){var C=r.contentType;if(mr()&&r.spatialRendering&&(C+="; spatialRendering=true"),g=bn(C),!g)return E.return(t)}case 2:return e.keySystemConfiguration?(m=e.keySystemConfiguration,L(E,cA(n,r,m),6)):(t.supported=!0,E.return(t));case 6:(w=E.h)&&(t.supported=!0,t.keySystemAccess=w);case 5:return E.return(t)}})}function aA(e){var t,n;return z(function(r){return r.g==1?mr()?L(r,fA(e),3):Or()?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width,t+="; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.bitrate&&(t+="; bitrate="+e.bitrate),r.return(bn(t))):r.u(2):r.g!=2?(n=r.h,r.return(n)):r.return(bn(e.contentType))})}function cA(e,t,n){var r,i,o,a,f,p,g,m,w,E,C;return z(function(P){switch(P.g){case 1:if(r=[],i=[],n.audio&&(o={robustness:n.audio.robustness||"",contentType:t.contentType},Or()&&t.contentType.includes('codecs="ac-3"')&&(o.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(o.encryptionScheme=n.audio.encryptionScheme),r.push(o)),n.video&&(a={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(a.encryptionScheme=n.video.encryptionScheme),i.push(a)),f={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(f.audioCapabilities=r),i.length&&(f.videoCapabilities=i),p=e?e.contentType:"",g=t?t.contentType:"",m=wr(p)+";"+Go(p),w=wr(g)+";"+Go(g),E=n.keySystem,C=null,de(P,2),Hs.has(m+"#"+w+"#"+E)){C=Hs.get(m+"#"+w+"#"+E)||null,P.u(4);break}return L(P,navigator.requestMediaKeySystemAccess(n.keySystem,[f]),5);case 5:C=P.h,Hs.set(m+"#"+w+"#"+E,C);case 4:Oe(P,3);break;case 2:ke(P);case 3:return P.return(C)}})}function fA(e){var t,n,r,i;return z(function(o){if(o.g==1){if(!(x.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return o.return(bn(e.contentType));switch(t=e.contentType,e.width&&e.height&&1280<e.width&&720<e.height&&(t+="; width="+e.width+"; height="+e.height),e.framerate&&(n=Math.round(e.framerate),24>n||30<n)&&(t+="; framerate="+e.framerate),r=e.transferFunction||"",r){case"":case"srgb":break;case"pq":t+="; eotf=smpte2084";break;case"hlg":t+="; eotf=arib-std-b67";break;default:return o.return(!1)}return i=!1,t in fg?(i=fg[t],o.u(2)):L(o,cast.__platform__.canDisplayType(t),3)}return o.g!=2&&(i=o.h,fg[t]=i),o.return(i)})}Dr.MediaCapabilities=cg,cg.install=gT;var vT=null;cg.originalMcap=vT;var fg={};cg.memoizedCanDisplayTypeRequests_=fg,yi(gT,-1);function mT(){}function ST(){var e=yu();(x.MediaSource||x.ManagedMediaSource)&&(e&&x.MediaSource?10>=e?x.MediaSource=null:12>=e?(dg(),bm()):15>=e&&dg():Tt("DT_STB_BCM")?(dg(),bm()):Tt("Tizen 2")||zs()||Tt("Tizen 4")?pA():Tt("WPE")&&(dg(),bm())),(x.MediaSource||x.ManagedMediaSource)&&dA(),x.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&hA()}function dg(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,It.apply(0,arguments));return t.abort=function(){},t}}function bm(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function dA(){if(x.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return ua(n)!="mp2t"&&e(n)}}if(x.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);x.ManagedMediaSource.isTypeSupported=function(n){return ua(n)!="mp2t"&&t(n)}}}function pA(){var e=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(n){return Go(n)!="opus"&&e(n)},x.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);x.ManagedMediaSource.isTypeSupported=function(n){return Go(n)!="opus"&&t(n)}}}function hA(){var e=MediaSource.isTypeSupported;qr()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex(function(a){return a.startsWith("codecs=")});if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex(function(a){return a.startsWith("vp09")});return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}Dr.MediaSource=mT,mT.install=ST,yi(ST);function wT(){}function TT(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?yA():x.orientation!=null&&gA())}function yA(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function gA(){function e(){switch(x.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new pg;screen.orientation=t,e(),x.addEventListener("orientationchange",function(){e();var n=new Te("change");t.dispatchEvent(n)})}Dr.Orientation=wT,wT.install=TT;function pg(){xt.call(this),this.type="",this.angle=0}mt(pg,xt),pg.prototype.lock=function(e){function t(r){return screen.lockOrientation?screen.lockOrientation(r):screen.mozLockOrientation?screen.mozLockOrientation(r):screen.msLockOrientation?screen.msLockOrientation(r):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},pg.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},yi(TT);function Nm(){}var _m,Um,jm,Bm,Vm,Fm;function vA(e,t){try{var n=new hg(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function mA(e){var t=this.mediaKeys;return t&&t!=e&&xT(t,null),delete this.mediaKeys,(this.mediaKeys=e)?xT(e,this):Promise.resolve()}function SA(e){if(e=Ze(e.initData),vr(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=go(e.subarray(4),!0),e=ri(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=Kr(e),this.dispatchEvent(t)}Dr.PatchedMediaKeysApple=Nm,Nm.uninstall=function(){_m&&(_m=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",Um),HTMLMediaElement.prototype.setMediaKeys=jm,x.MediaKeys=Bm,x.MediaKeySystemAccess=Vm,navigator.requestMediaKeySystemAccess=Fm,Um=Fm=jm=Vm=Bm=null,x.shakaMediaKeysPolyfill="")},Nm.install=function(e){x.HTMLVideoElement&&x.WebKitMediaKeys&&(e!==void 0&&e&&(_m=!0,Um=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),jm=HTMLMediaElement.prototype.setMediaKeys,Bm=x.MediaKeys,Vm=x.MediaKeySystemAccess,Fm=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=mA,x.MediaKeys=Yp,x.MediaKeySystemAccess=hg,navigator.requestMediaKeySystemAccess=vA,x.shakaMediaKeysPolyfill=wA)};function hg(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=T(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var o=T(n.audioCapabilities),a=o.next();!a.done;a=o.next())a=a.value,a.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.audioCapabilities.push(a),i=!0));if(n.videoCapabilities)for(n=T(n.videoCapabilities),o=n.next();!o.done;o=n.next())o=o.value,o.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}hg.prototype.createMediaKeys=function(){var e=new Yp(this.keySystem);return Promise.resolve(e)},hg.prototype.getConfiguration=function(){return this.g};function Yp(e){this.h=new WebKitMediaKeys(e),this.g=new At}Yp.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Km(this.h)},Yp.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function xT(e,t){if(e.g.La(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",SA);try{return bi(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}Yp.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Km(e){xt.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new At,this.sessionId="",this.expiration=NaN,this.closed=new bt,this.keyStatuses=new IT}mt(Km,xt),h=Km.prototype,h.generateRequest=function(e,t){var n=this;this.h=new bt;try{var r=this.l.createSession("video/mp4",Ze(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",function(i){n.h&&(n.h.resolve(),n.h=null),i=new Map().set("messageType",n.keyStatuses.cc()==null?"license-request":"license-renewal").set("message",Kr(i.message)),i=new Te("message",i),n.dispatchEvent(i)}),this.j.D(r,"webkitkeyadded",function(){n.g&&(yg(n,"usable"),n.g.resolve(),n.g=null)}),this.j.D(r,"webkitkeyerror",function(){var i=Error("EME PatchedMediaKeysApple key error");if(i.errorCode=n.i.error,n.h!=null)n.h.reject(i),n.h=null;else if(n.g!=null)n.g.reject(i),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:yg(n,"output-not-allowed");break;default:yg(n,"internal-error")}}),yg(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},h.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},h.update=function(e){this.g=new bt;try{this.i.update(Ze(e))}catch(t){this.g.reject(t)}return this.g},h.close=function(){try{this.i.close(),this.closed.resolve(),this.j.La()}catch(e){this.closed.reject(e)}return this.closed},h.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function yg(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Te("keystatuseschange"),e.dispatchEvent(t)}function IT(){this.size=0,this.g=void 0}h=IT.prototype,h.cc=function(){return this.g},h.forEach=function(e){this.g&&e(this.g,Ks.value())},h.get=function(e){if(this.has(e))return this.g},h.has=function(e){var t=Ks.value();return!!(this.g&&po(e,t))},h.entries=function(){},h.keys=function(){},h.values=function(){};var wA="apple";function ET(){}function CT(){x.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||zs()||Tt("Tizen 4")||Tt("Tizen 5.0")||qr()&&Gs()===38)&&(MediaKeys.prototype.setServerCertificate=TA)}function TA(){return Promise.resolve(!1)}Dr.PatchedMediaKeysCert=ET,ET.install=CT,yi(CT);function kT(){}function AT(){if(!(!x.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Wm="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=xA,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=IA,x.MediaKeys=$p,x.MediaKeySystemAccess=gg,x.shakaMediaKeysPolyfill=EA}}function Hm(e){var t=Wm;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function xA(e,t){try{var n=new gg(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function IA(e){var t=this.mediaKeys;return t&&t!=e&&PT(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&PT(e,this),Promise.resolve()}Dr.PatchedMediaKeysWebkit=kT,kT.install=AT;function gg(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video"),t=T(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},f=!1;if(o.audioCapabilities)for(var p=T(o.audioCapabilities),g=p.next();!g.done;g=p.next())g=g.value,g.contentType&&(f=!0,i.canPlayType(g.contentType.split(";")[0],this.g)&&(a.audioCapabilities.push(g),r=!0));if(o.videoCapabilities)for(p=T(o.videoCapabilities),g=p.next();!g.done;g=p.next())g=g.value,g.contentType&&(f=!0,i.canPlayType(g.contentType,this.g)&&(a.videoCapabilities.push(g),r=!0));if(f||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(a.persistentState="required",a.sessionTypes=["persistent-license"]):r=!1),r){this.h=a;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}gg.prototype.createMediaKeys=function(){var e=new $p(this.g);return Promise.resolve(e)},gg.prototype.getConfiguration=function(){return this.h};function $p(e){this.l=e,this.h=null,this.g=new At,this.i=[],this.j=new Map}function PT(e,t){e.h=t,e.g.La();var n=Wm;t&&(e.g.D(t,n+"needkey",function(r){var i=new CustomEvent("encrypted");i.initDataType="cenc",i.initData=Kr(r.initData),e.h.dispatchEvent(i)}),e.g.D(t,n+"keymessage",function(r){var i=qm(e,r.sessionId);i&&(r=new Map().set("messageType",i.keyStatuses.cc()==null?"licenserequest":"licenserenewal").set("message",r.message),r=new Te("message",r),i.h&&(i.h.resolve(),i.h=null),i.dispatchEvent(r))}),e.g.D(t,n+"keyadded",function(r){(r=qm(e,r.sessionId))&&r.ready()}),e.g.D(t,n+"keyerror",function(r){var i=qm(e,r.sessionId);if(i){var o=Error("EME v0.1b key error"),a=r.errorCode;a.systemCode=r.systemCode,o.errorCode=a,!r.sessionId&&i.h?(r.systemCode==45&&(o.message="Unsupported session type."),i.h.reject(o),i.h=null):r.sessionId&&i.g?(i.g.reject(o),i.g=null):(o=r.systemCode,r.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?vg(i,"output-restricted"):o==1?vg(i,"expired"):vg(i,"internal-error"))}}))}$p.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new zm(t,this.l,e),this.i.push(e),e},$p.prototype.setServerCertificate=function(){return Promise.resolve(!1)},$p.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function qm(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function zm(e,t,n){xt.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new bt,this.keyStatuses=new OT}mt(zm,xt),h=zm.prototype,h.ready=function(){vg(this,"usable"),this.g&&this.g.resolve(),this.g=null};function DT(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var r=Ze(ri("LOAD_SESSION|"+n));else{var i=ri("PERSISTENT|");r=nn(i,t)}else r=Ze(t)}catch(a){return Promise.reject(a)}e.h=new bt;var o=Hm("generateKeyRequest");try{e.j[o](e.i,r)}catch(a){if(a.name!="InvalidStateError")return e.h=null,Promise.reject(a);new st(function(){try{e.j[o](e.i,r)}catch(f){e.h.reject(f),e.h=null}}).aa(.01)}return e.h}function Gm(e,t,n){if(e.g)e.g.then(function(){return Gm(e,t,n)}).catch(function(){return Gm(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var r=Jt(n),i=JSON.parse(r);i.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=li(i.keys[0].k),i=li(i.keys[0].kid)}else r=Ze(n),i=null;var o=Hm("addKey");try{e.j[o](e.i,r,i,e.sessionId)}catch(a){e.g.reject(a),e.g=null}}}function vg(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Te("keystatuseschange"),e.dispatchEvent(t)}h.generateRequest=function(e,t){return DT(this,t,null)},h.load=function(e){return this.l=="persistent-license"?DT(this,null,e):Promise.reject(Error("Not a persistent session."))},h.update=function(e){var t=new bt;return Gm(this,t,e),t},h.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Hm("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},h.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function OT(){this.size=0,this.g=void 0}h=OT.prototype,h.cc=function(){return this.g},h.forEach=function(e){this.g&&e(this.g,Ks.value())},h.get=function(e){if(this.has(e))return this.g},h.has=function(e){var t=Ks.value();return!!(this.g&&po(e,t))},h.entries=function(){},h.keys=function(){},h.values=function(){};var Wm="",EA="webkit";yi(AT);function RT(){}function MT(){if(x.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=kA,Object.defineProperty(e,"disablePictureInPicture",{get:PA,set:DA,enumerable:!0,configurable:!0}),document.exitPictureInPicture=AA,document.addEventListener("webkitpresentationmodechanged",CA,!0))}}function CA(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function kA(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function AA(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function PA(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function DA(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Dr.PiPWebkit=RT,RT.install=MT,yi(MT);function LT(){}function bT(){x.crypto&&("randomUUID"in x.crypto||(x.crypto.randomUUID=OA))}function OA(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}Dr.RandomUUID=LT,LT.install=bT,yi(bT);function NT(){}function _T(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:RA})}function RA(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}Dr.Symbol=NT,NT.install=_T,yi(_T);function UT(){}function jT(){if(x.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}Dr.VideoPlayPromise=UT,UT.install=jT,yi(jT);function BT(){}function VT(){if(x.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||qr()&&Gs()===38)&&(e.getVideoPlaybackQuality=MA)}}function MA(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Dr.VideoPlaybackQuality=BT,BT.install=VT,yi(VT);function FT(){}function KT(){if(!x.VTTCue&&x.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=Xm;else if(t==6)e=LA;else{try{var n=!!Xm(1,2,"")}catch{n=!1}n&&(e=Xm)}e&&(x.VTTCue=function(r,i,o){return e(r,i,o)})}}function Xm(e,t,n){return new x.TextTrackCue(e,t,n)}function LA(e,t,n){return new x.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}Dr.VTTCue=FT,FT.install=KT,yi(KT);function Ui(){}Ui.prototype.parseInit=function(){},Ui.prototype.setSequenceMode=function(){},Ui.prototype.setManifestType=function(){},Ui.prototype.parseMedia=function(e,t){var n=null,r=[];e=Jt(e).split(/\r?\n/),e=T(e);for(var i=e.next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=bA.exec(i))){var o=NA.exec(i[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),i=new qt(o,t.segmentEnd?t.segmentEnd:o+2,i[2]),n&&(n.endTime=o,r.push(n)),n=i}return n&&r.push(n),r},Re("shaka.text.LrcTextParser",Ui),Ui.prototype.parseMedia=Ui.prototype.parseMedia,Ui.prototype.setManifestType=Ui.prototype.setManifestType,Ui.prototype.setSequenceMode=Ui.prototype.setSequenceMode,Ui.prototype.parseInit=Ui.prototype.parseInit;var bA=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,NA=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;yn["application/x-subtitle-lrc"]=function(){return new Ui};function gi(){}gi.prototype.parseInit=function(){},gi.prototype.setSequenceMode=function(){},gi.prototype.setManifestType=function(){},gi.prototype.parseMedia=function(e,t,n,r){var i=Jt(e);if(e=[],i=="")return e;var o=Xi(i,"tt",!0);if(!o)throw new X(2,2,2005,"Failed to parse TTML.");if(i=Sr(o,"body")[0],!i)return[];var a=Ei(o,Jp,"frameRate"),f=Ei(o,Jp,"subFrameRate"),p=Ei(o,Jp,"frameRateMultiplier"),g=Ei(o,Jp,"tickRate"),m=Ei(o,Jp,"cellResolution"),w=o.attributes["xml:space"]||"default",E=Ei(o,wg,"extent");if(w!="default"&&w!="preserve")throw new X(2,2,2005,"Invalid xml:space value: "+w);w=w=="default",a=new VA(a,f,p,g),m=BA(m),f=Sr(o,"metadata")[0],f=(f?f.children:[]).filter(function(R){return R!=`
`}),p=Sr(o,"style"),o=Sr(o,"region"),g=[];for(var C=T(o),P=C.next();!P.done;P=C.next())(P=_A(P.value,p,E))&&g.push(P);if(Rt(i,"p").length)throw new X(2,2,2001,"<p> can only be inside <div> in TTML");for(E=T(Rt(i,"div")),C=E.next();!C.done;C=E.next())if(Rt(C.value,"span").length)throw new X(2,2,2001,"<span> can only be inside <p> in TTML");return(t=HT(i,t,a,f,p,o,g,w,m,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function HT(e,t,n,r,i,o,a,f,p,g,m,w,E){var C=g;if(Qu(e)){if(!m)return null;var P={tagName:"span",children:[ln(e)],attributes:{},parent:null}}else P=e;for(var R=null,O=T(ZT),j=O.next();!j.done&&!(R=Sg(P,"backgroundImage",r,"#",j.value)[0]);j=O.next());O=null,j=Ei(P,ZT,"backgroundImage");var _=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(j&&_.test(j)){if(O=parseInt(j.split(":").pop(),10)-1,O>=E.length)return null;O=E[O]}else w&&j&&!j.startsWith("#")&&(_=new pn(w),j=new pn(j),(j=_.resolve(j).toString())&&(O=j));if((e.tagName=="p"||R||O)&&(m=!0),e=m,j=(P.attributes["xml:space"]||(f?"default":"preserve"))=="default",_=P.children.every(Qu),f=[],!_)for(var K=T(P.children),G=K.next();!G.done;G=K.next())(G=HT(G.value,t,n,r,i,o,a,j,p,P,m,w,E))&&f.push(G);if(r=g!=null,w=ln(P),w=P.children.length&&w&&/\S/.test(w),K=P.attributes.begin||P.attributes.end||P.attributes.dur,!(K||w||P.tagName=="br"||f.length!=0||r&&!j))return null;for(E=GT(P,n),w=E.start,E=E.end;C&&C.tagName&&C.tagName!="tt";)E=jA(C,n,w,E),w=E.start,E=E.end,C=C.parent;if(w==null&&(w=0),w+=t.periodStart,E=E==null?1/0:E+t.periodStart,w=Math.max(w,t.segmentStart),E=Math.min(E,t.segmentEnd),!K&&0<f.length)for(w=1/0,E=0,t=T(f),n=t.next();!n.done;n=t.next())n=n.value,w=Math.min(w,n.startTime),E=Math.max(E,n.endTime);if(P.tagName=="br")return i=new qt(w,E,""),i.lineBreak=!0,i;if(t="",_&&(t=rr(ln(P)||""),j&&(t=t.replace(/\s+/g," "))),t=new qt(w,E,t),t.nestedCues=f,m||(t.isContainer=!0),p&&(t.cellResolution=p),p=Sg(P,"region",o,"")[0],P.attributes.region&&p&&p.attributes["xml:id"]){var W=p.attributes["xml:id"];t.region=a.filter(function(q){return q.id==W})[0]}return a=p,g&&r&&!P.attributes.region&&!P.attributes.style&&(a=Sg(g,"region",o,"")[0]),UA(t,P,a,R,O,i,e,f.length==0),t}function _A(e,t,n){var r=new Yu,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=Zm.exec(n)||e0.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var o,a=mg(e,t,"extent");if(a){var f=(o=Zm.exec(a))||e0.exec(a);f!=null&&(r.width=Number(f[1]),r.height=Number(f[2]),o||(n!=null&&(r.width=100*r.width/n),i!=null&&(r.height=100*r.height/i)),r.widthUnits=o||n!=null?zn:0,r.heightUnits=o||i!=null?zn:0)}return(e=mg(e,t,"origin"))&&(f=(o=Zm.exec(e))||e0.exec(e),f!=null&&(r.viewportAnchorX=Number(f[1]),r.viewportAnchorY=Number(f[2]),o?a||(r.width=100-r.viewportAnchorX,r.widthUnits=zn,r.height=100-r.viewportAnchorY,r.heightUnits=zn):(i!=null&&(r.viewportAnchorY=100*r.viewportAnchorY/i),n!=null&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=o||n!=null?zn:0)),r}function Ym(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),t.length==4)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function UA(e,t,n,r,i,o,a,f){if(a=a||f,gr(t,n,o,"direction",a)=="rtl"&&(e.direction="rtl"),f=gr(t,n,o,"writingMode",a),f=="tb"||f=="tblr"?e.writingMode="vertical-lr":f=="tbrl"?e.writingMode="vertical-rl":f=="rltb"||f=="rl"?e.direction="rtl":f&&(e.direction=ta),(f=gr(t,n,o,"textAlign",!0))?(e.positionAlign=HA[f],e.lineAlign=KA[f],e.textAlign=hc[f.toUpperCase()]):e.textAlign=So,(f=gr(t,n,o,"displayAlign",!0))&&(e.displayAlign=xh[f.toUpperCase()]),(f=gr(t,n,o,"color",a))&&(e.color=Ym(f)),(f=gr(t,n,o,"backgroundColor",a))&&(e.backgroundColor=Ym(f)),(f=gr(t,n,o,"border",a))&&(e.border=f),f=gr(t,n,o,"fontFamily",a))switch(f){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=f.split(",").filter(function(p){return p!="default"}).join(",")}switch((f=gr(t,n,o,"fontWeight",a))&&f=="bold"&&(e.fontWeight=ql),f=gr(t,n,o,"wrapOption",a),e.wrapLine=!(f&&f=="noWrap"),(f=gr(t,n,o,"lineHeight",a))&&f.match(_f)&&(e.lineHeight=f),(f=gr(t,n,o,"fontSize",a))&&(f.match(_f)||f.match(FA))&&(e.fontSize=f),(f=gr(t,n,o,"fontStyle",a))&&(e.fontStyle=Ch[f.toUpperCase()]),r?(i=r.attributes.imageType||r.attributes.imagetype,f=r.attributes.encoding,r=ln(r).trim(),i=="PNG"&&f=="Base64"&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=gr(t,n,o,"textOutline",a))&&(r=r.split(" "),r[0].match(_f)?e.textStrokeColor=e.color:(e.textStrokeColor=Ym(r[0]),r.shift()),r[0]&&r[0].match(_f)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=gr(t,n,o,"letterSpacing",a))&&r.match(_f)&&(e.letterSpacing=r),(r=gr(t,n,o,"linePadding",a))&&r.match(_f)&&(e.linePadding=r),(r=gr(t,n,o,"opacity",a))&&(e.opacity=parseFloat(r)),(r=mg(n,o,"textDecoration"))&&qT(e,r),(r=$m(t,o,"textDecoration"))&&qT(e,r),(r=gr(t,n,o,"textCombine",a))&&(e.textCombineUpright=r),gr(t,n,o,"ruby",a)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function qT(e,t){t=T(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(Bo)||e.textDecoration.push(Bo);break;case"noUnderline":e.textDecoration.includes(Bo)&&Hr(e.textDecoration,Bo);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Hr(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Hr(e.textDecoration,"overline")}}function gr(e,t,n,r,i){return i=i===void 0?!0:i,(e=$m(e,n,r))?e:i?mg(t,n,r):null}function mg(e,t,n){if(!e)return null;var r=Ei(e,wg,n);return r||zT(e,t,n)}function $m(e,t,n){var r=Ei(e,wg,n);return r||zT(e,t,n)}function zT(e,t,n){e=Sg(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var o=Yi(e[i],"urn:ebu:tt:style",n);o||(o=Ei(e[i],wg,n)),o||(o=$m(e[i],t,n)),o&&(r=o)}return r}function Sg(e,t,n,r,i){var o=[];if(!e||1>n.length)return o;var a=e;for(e=null;!e&&!(e=i?Yi(a,i,t):a.attributes[t])&&(a=a.parent,a););if(t=e){for(t=T(t.split(" ")),i=t.next();!i.done;i=t.next())for(i=i.value,e=T(n),a=e.next();!a.done;a=e.next())if(a=a.value,r+a.attributes["xml:id"]==i){o.push(a);break}}return o}function jA(e,t,n,r){return e=GT(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),r==null?r=e.end:e.start!=null&&(r+=e.start),{start:n,end:r}}function GT(e,t){var n=Jm(e.attributes.begin,t),r=Jm(e.attributes.end,t);return e=Jm(e.attributes.dur,t),r==null&&e!=null&&(r=n+e),{start:n,end:r}}function Jm(e,t){var n=null;if(WT.test(e)){e=WT.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,i+=o/t.frameRate,n=i+60*r+3600*n}else if(XT.test(e))n=Qm(XT,e);else if(YT.test(e))n=Qm(YT,e);else if($T.test(e))e=$T.exec(e),n=Number(e[1])/t.frameRate;else if(JT.test(e))e=JT.exec(e),n=Number(e[1])/t.g;else if(QT.test(e))n=Qm(QT,e);else if(e)throw new X(2,2,2001,"Could not parse cue time range in TTML");return n}function Qm(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function BA(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{nc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}Re("shaka.text.TtmlTextParser",gi),gi.prototype.parseMedia=gi.prototype.parseMedia,gi.prototype.setManifestType=gi.prototype.setManifestType,gi.prototype.setSequenceMode=gi.prototype.setSequenceMode,gi.prototype.parseInit=gi.prototype.parseInit;function VA(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var Zm=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,FA=/^(\d{1,4}(?:\.\d+)?|100)%$/,_f=/^(\d+px|\d+em|\d*\.?\d+c)$/,e0=/^(\d+)px (\d+)px$/,WT=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,XT=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,YT=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,$T=/^(\d*(?:\.\d*)?)f$/,JT=/^(\d*(?:\.\d*)?)t$/,QT=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),KA={left:rl,center:"center",right:"end",start:rl,end:"end"},HA={left:"line-left",center:"center",right:"line-right"},Jp=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],wg=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],ZT=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];yn["application/ttml+xml"]=function(){return new gi};function Fn(){this.g=new gi}Fn.prototype.parseInit=function(e){var t=!1;if(new Bt().box("moov",it).box("trak",it).box("mdia",it).box("minf",it).box("stbl",it).S("stsd",Eo).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new X(2,2,2007)},Fn.prototype.setSequenceMode=function(){},Fn.prototype.setManifestType=function(){},Fn.prototype.parseMedia=function(e,t,n){var r=this,i=!1,o=[],a=[];if(new Bt().box("moof",it).box("traf",it).S("subs",function(f){a=[];for(var p=f.reader,g=p.R(),m=0;m<g;m++){p.R();for(var w=p.ma(),E=0;E<w;E++)f.version==1?a.push(p.R()):a.push(p.ma()),p.U(),p.U(),p.R()}}).box("mdat",Ru(function(f){if(i=!0,a.length){for(var p=Ze(f,0,a[0]),g=[],m=a[0],w=1;w<a.length;w++){var E=Ze(f,m,a[w]);E=Tc(E),g.push("data:image/png;base64,"+E),m+=a[w]}o=o.concat(r.g.parseMedia(p,t,n,g))}else o=o.concat(r.g.parseMedia(f,t,n,[]))})).parse(e,!1),!i)throw new X(2,2,2007);return o},Re("shaka.text.Mp4TtmlParser",Fn),Fn.prototype.parseMedia=Fn.prototype.parseMedia,Fn.prototype.setManifestType=Fn.prototype.setManifestType,Fn.prototype.setSequenceMode=Fn.prototype.setSequenceMode,Fn.prototype.parseInit=Fn.prototype.parseInit,yn['application/mp4; codecs="stpp"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.im1i"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.im2i"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.im2t"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.etd1"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.etd1|im1t"']=function(){return new Fn},yn['application/mp4; codecs="stpp.ttml.im1t|etd1"']=function(){return new Fn},yn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Fn};function Vr(){this.g="UNKNOWN"}Vr.prototype.parseInit=function(){},Vr.prototype.setSequenceMode=function(){},Vr.prototype.setManifestType=function(e){this.g=e},Vr.prototype.parseMedia=function(e,t){e=Jt(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new X(2,2,2e3);if(e=t.vttOffset,this.g=="HLS")if(n[0].includes("X-TIMESTAMP-MAP")){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new X(2,2,2e3);if(e=ii(e[1]),e==null)throw new X(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],r=T(n[0].split(`
`)),i=r.next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new Ju(i);var o=new Yu;Wr(i),Su(i);for(var a=Wr(i);a;){var f=o,p=a;(a=/^id=(.*)$/.exec(p))?f.id=a[1]:(a=/^width=(\d{1,2}|100)%$/.exec(p))?f.width=Number(a[1]):(a=/^lines=(\d+)$/.exec(p))?(f.height=Number(a[1]),f.heightUnits=2):(a=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))?(f.regionAnchorX=Number(a[1]),f.regionAnchorY=Number(a[2])):(a=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))?(f.viewportAnchorX=Number(a[1]),f.viewportAnchorY=Number(a[2])):/^scroll=up$/.exec(p)&&(f.scroll="up"),Su(i),a=Wr(i)}t.push(o)}for(r=new Map,dc(r),i=[],n=T(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(f=[],a=-1,p=1;p<o.length;p++)o[p].includes("::cue")&&(f.push([]),a=f.length-1),a!=-1&&(f[a].push(o[p]),o[p].includes("}")&&(a=-1));for(f=T(f),a=f.next();!a.done;a=f.next()){var g=a.value;a="global",(p=g[0].match(/\((.*)\)/))&&(a=p.pop()),p=g.slice(1,-1),g[0].includes("}")&&(g=/\{(.*?)\}/.exec(g[0]))&&(p=g[1].split(";")),(g=r.get(a))||(g=new qt(0,0,""));for(var m=!1,w=0;w<p.length;w++){var E=/^\s*([^:]+):\s*(.*)/.exec(p[w]);if(E){var C=E[2].trim().replace(";","");switch(E[1].trim()){case"background-color":case"background":m=!0,g.backgroundColor=C;break;case"color":m=!0,g.color=C;break;case"font-family":m=!0,g.fontFamily=C;break;case"font-size":m=!0,g.fontSize=C;break;case"font-weight":(700<=parseInt(C,10)||C=="bold")&&(m=!0,g.fontWeight=ql);break;case"font-style":switch(C){case"normal":m=!0,g.fontStyle=od;break;case"italic":m=!0,g.fontStyle=zl;break;case"oblique":m=!0,g.fontStyle="oblique"}break;case"opacity":m=!0,g.opacity=parseFloat(C);break;case"text-combine-upright":m=!0,g.textCombineUpright=C;break;case"text-shadow":m=!0,g.textShadow=C;break;case"white-space":m=!0,g.wrapLine=C!="noWrap"}}}m&&r.set(a,g)}}if(g=o,m=e,g.length==1&&!g[0]||/^NOTE($|[ \t])/.test(g[0])||g[0]=="STYLE"||g[0]=="REGION")o=null;else if(o=null,g[0].includes("-->")||(o=g[0],g.splice(0,1)),f=new Ju(g[0]),a=xi(f),w=vo(f,/[ \t]+--\x3e[ \t]+/g),p=xi(f),a==null||w==null||p==null)ft("Failed to parse VTT time code. Cue skipped:",o,g),o=null;else{for(a+=m,p+=m,m=g.slice(1).join(`
`).trim(),r.has("global")?(g=r.get("global").clone(),g.startTime=a,g.endTime=p,g.payload=m):g=new qt(a,p,m),Su(f),a=Wr(f);a;)ex(g,a,t),Su(f),a=Wr(f);fc(g,r),o!=null&&(g.id=o),o=g}o&&i.push(o)}return i};function ex(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],t=="middle"?e.textAlign=So:e.textAlign=hc[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=r[1]=="lr"?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":pc)):(r=/^region:(.*)$/.exec(t))?(t=qA(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=rd[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=nl,e.line=Number(n[1]),n[2]&&(e.lineAlign=rd[n[2].toUpperCase()]))}function qA(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}Re("shaka.text.VttTextParser",Vr),Vr.prototype.parseMedia=Vr.prototype.parseMedia,Vr.prototype.setManifestType=Vr.prototype.setManifestType,Vr.prototype.setSequenceMode=Vr.prototype.setSequenceMode,Vr.prototype.parseInit=Vr.prototype.parseInit,yn["text/vtt"]=function(){return new Vr},yn['text/vtt; codecs="vtt"']=function(){return new Vr},yn['text/vtt; codecs="wvtt"']=function(){return new Vr};function ji(){this.g=null}ji.prototype.parseInit=function(e){var t=this,n=!1;if(new Bt().box("moov",it).box("trak",it).box("mdia",it).S("mdhd",function(r){r=Aa(r.reader,r.version),t.g=r.timescale}).box("minf",it).box("stbl",it).S("stsd",Eo).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new X(2,2,2008);if(!n)throw new X(2,2,2008)},ji.prototype.setSequenceMode=function(){},ji.prototype.setManifestType=function(){},ji.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new X(2,2,2008);var n=0,r=[],i,o=[],a=!1,f=!1,p=!1,g=null;if(new Bt().box("moof",it).box("traf",it).S("tfdt",function(K){a=!0,n=ka(K.reader,K.version).baseMediaDecodeTime}).S("tfhd",function(K){g=Vh(K.reader,K.flags).jd}).S("trun",function(K){f=!0,r=Hd(K.reader,K.version,K.flags).kh}).box("mdat",Ru(function(K){p=!0,i=K})).parse(e,!1),!p&&!a&&!f)throw new X(2,2,2008);e=n;for(var m=new Mt(i,0),w=T(r),E=w.next();!E.done;E=w.next()){E=E.value;var C=E.Wf||g,P=E.se?n+E.se:e;e=P+(C||0);var R=0;do{var O=m.R();R+=O;var j=m.R(),_=null;br(j)=="vttc"?8<O&&(_=m.Ab(O-8)):m.skip(O-8),C&&_&&(O=zA(_,t.periodStart+P/this.g,t.periodStart+e/this.g),o.push(O))}while(E.sampleSize&&R<E.sampleSize)}return o.filter(Ji)};function zA(e,t,n){var r,i,o;return new Bt().box("payl",Ru(function(a){r=Jt(a)})).box("iden",Ru(function(a){i=Jt(a)})).box("sttg",Ru(function(a){o=Jt(a)})).parse(e),r?GA(r,i,o,t,n):null}function GA(e,t,n,r,i){if(e=new qt(r,i,e),fc(e),t&&(e.id=t),n)for(t=new Ju(n),n=Wr(t);n;)ex(e,n,[]),Su(t),n=Wr(t);return e}Re("shaka.text.Mp4VttParser",ji),ji.prototype.parseMedia=ji.prototype.parseMedia,ji.prototype.setManifestType=ji.prototype.setManifestType,ji.prototype.setSequenceMode=ji.prototype.setSequenceMode,ji.prototype.parseInit=ji.prototype.parseInit,yn['application/mp4; codecs="wvtt"']=function(){return new ji};function Bi(){}Bi.prototype.parseInit=function(){},Bi.prototype.setSequenceMode=function(){},Bi.prototype.setManifestType=function(){},Bi.prototype.parseMedia=function(e){var t=Jt(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=T(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var r=new Ju(n[0]),i=xi(r),o=vo(r,/,/g);if(r=xi(r),i==null||o==null||r==null)throw new X(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new qt(i,r,n.slice(1).join(`
`).trim()))}return e},Re("shaka.text.SbvTextParser",Bi),Bi.prototype.parseMedia=Bi.prototype.parseMedia,Bi.prototype.setManifestType=Bi.prototype.setManifestType,Bi.prototype.setSequenceMode=Bi.prototype.setSequenceMode,Bi.prototype.parseInit=Bi.prototype.parseInit,yn["text/x-subviewer"]=function(){return new Bi};function vi(){this.g=new Vr}vi.prototype.parseInit=function(){},vi.prototype.setSequenceMode=function(){},vi.prototype.setManifestType=function(){},vi.prototype.parseMedia=function(e,t,n){return e=Jt(e),e=tx(e),e=Ze(ri(e)),this.g.parseMedia(e,t,n,[])};function tx(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=T(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`;return t}Re("shaka.text.SrtTextParser",vi),vi.srt2webvtt=tx,vi.prototype.parseMedia=vi.prototype.parseMedia,vi.prototype.setManifestType=vi.prototype.setManifestType,vi.prototype.setSequenceMode=vi.prototype.setSequenceMode,vi.prototype.parseInit=vi.prototype.parseInit,yn["text/srt"]=function(){return new vi};function Vi(){}Vi.prototype.parseInit=function(){},Vi.prototype.setSequenceMode=function(){},Vi.prototype.setManifestType=function(){},Vi.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=Jt(e).split(/\r?\n\s*\r?\n/),e=T(i),i=e.next();!i.done;i=e.next()){var o=i.value;i=o,(o=XA.exec(o))&&(r=o[1],i=o[2]),r=="V4 Styles"||r=="V4+ Styles"?(t=i,t=n?t+(`
`+i):i):r=="Events"&&(n=n?n+(`
`+i):i)}for(r=[],i=null,t=T(t.split(/\r?\n/)),e=t.next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(o=ix.exec(e))){if(e=o[1].trim(),o=o[2].trim(),e=="Format")i=o.split(Tg);else if(e=="Style"){e=o.split(Tg),o={};for(var a=0;a<i.length&&a<e.length;a++)o[i[a]]=e[a];r.push(o)}}for(i=[],t=null,n=T(n.split(/\r?\n/)),o=n.next(),e={};!o.done;e={wh:void 0},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(a=ix.exec(o))){if(o=a[1].trim(),a=a[2].trim(),o=="Format")t=a.split(Tg);else if(o=="Dialogue"){a=a.split(Tg),o={};for(var f=0;f<t.length&&f<a.length;f++)o[t[f]]=a[f];f=rx(o.Start);var p=rx(o.End);a=new qt(f,p,a.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),e.wh=o.Style,(e=r.find(function(g){return function(m){return m.Name==g.wh}}(e)))&&WA(a,e),i.push(a)}}return i};function WA(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=nx(n))&&(e.color=n),(n=t.BackColour)&&(n=nx(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=ql),t.Italic&&(e.fontStyle=zl),t.Underline&&e.textDecoration.push(Bo),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=ea,e.textAlign="start";break;case 2:e.displayAlign=ea,e.textAlign=So;break;case 3:e.displayAlign=ea,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=So;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=So;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function nx(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function rx(e){return e=YA.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Re("shaka.text.SsaTextParser",Vi),Vi.prototype.parseMedia=Vi.prototype.parseMedia,Vi.prototype.setManifestType=Vi.prototype.setManifestType,Vi.prototype.setSequenceMode=Vi.prototype.setSequenceMode,Vi.prototype.parseInit=Vi.prototype.parseInit;var XA=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,ix=/^\s*([^:]+):\s*(.*)/,Tg=/\s*,\s*/,YA=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;yn["text/x-ssa"]=function(){return new Vi};function ox(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{rd:n,ea:e}:null}function ux(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(e[t+2]&60)>>>2;if(r>n.length-1)return null;var i=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[r],channelCount:o,codec:"mp4a.40."+i}}function lx(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var r=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return r<=n?!1:(t+=r,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function $A(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function Fi(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=Fi.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?bn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(Tr(t)||"mp4a.40.2")+'"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,r){for(var i=Ze(e),o=bu(i),a=o.length;a<i.length&&!lx(i,a);a++);if(e=1e3*n.endTime,o=uu(o),o.length&&n&&(o=o.find(function(m){return m.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=o.data),o=ux(i,a),!o)return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=o.sampleRate,t.channelsCount=o.channelCount;for(var f=[];a<i.length;){var p=ox(i,a);if(!p)return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));var g=p.rd+p.ea;a+g<=i.length&&f.push({data:i.subarray(a+p.rd,a+g),size:p.ea,duration:1024,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),a+=g}return i=o.sampleRate,e=Math.floor(e*i/1e3),r={id:t.id,type:"audio",codecs:o.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,kb:[],ra:new Uint8Array([]),ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.h,baseMediaDecodeTime:e,ib:f},stream:t},r=new Mf([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Lf(r),this.g.set(n,t)),n=this.i!==t,r=qp(r),this.i=t,this.h++,n?(t=nn(t,r),Promise.resolve(t)):Promise.resolve(r)},Re("shaka.transmuxer.AacTransmuxer",Fi),Fi.prototype.transmux=Fi.prototype.transmux,Fi.prototype.getOriginalMimeType=Fi.prototype.getOriginalMimeType,Fi.prototype.convertCodecs=Fi.prototype.convertCodecs,Fi.prototype.isSupported=Fi.prototype.isSupported,Fi.prototype.destroy=Fi.prototype.destroy,ui("audio/aac",function(){return new Fi("audio/aac")},Vo);function sx(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var r=e[t+4]&63,i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var o=e[t+6]>>5,a=0;o===2?a+=2:(o&1&&o!==1&&(a+=2),o&4&&(a+=2)),a=(e[t+6]<<8|e[t+7])>>12-a&1;var f=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|f>>2,(f&3)<<6|o<<3|a<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+a,ra:e,ea:i}}function JA(e,t){if(e[t]===11&&e[t+1]===119){var n=0,r=5;t+=r;for(var i,o;0<r;){o=e[t];var a=Math.min(r,8),f=8-a;i=4278190080>>>24+f<<f,i=(o&i)>>f,n=n?n<<a|i:i,t+=1,r-=a}if(16>n)return!0}return!1}function uo(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=uo.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?bn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?'audio/mp4; codecs="ac-3"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,r){e=Ze(e);for(var i=bu(e),o=i.length;o<e.length&&!JA(e,o);o++);var a=1e3*n.endTime;i=uu(i),i.length&&n&&(i=i.find(function(m){return m.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=i.data),i=0;for(var f=new Uint8Array([]),p=[];o<e.length;){var g=sx(e,o);if(!g)return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=g.sampleRate,t.channelsCount=g.channelCount,i=g.sampleRate,f=g.ra,p.push({data:e.subarray(o,o+g.ea),size:g.ea,duration:1536,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),o+=g.ea}return e=Math.floor(a*i/1e3),r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,kb:[],ra:f,ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.h,baseMediaDecodeTime:e,ib:p},stream:t},r=new Mf([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Lf(r),this.g.set(n,t)),n=this.i!==t,r=qp(r),this.i=t,this.h++,n?(t=nn(t,r),Promise.resolve(t)):Promise.resolve(r)},Re("shaka.transmuxer.Ac3Transmuxer",uo),uo.prototype.transmux=uo.prototype.transmux,uo.prototype.getOriginalMimeType=uo.prototype.getOriginalMimeType,uo.prototype.convertCodecs=uo.prototype.convertCodecs,uo.prototype.isSupported=uo.prototype.isSupported,uo.prototype.destroy=uo.prototype.destroy,ui("audio/ac3",function(){return new uo("audio/ac3")},Vo);function ax(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new Ao(e.subarray(t+2));Cr(n,2),Cr(n,3);var r=dt(n,11)+1<<1,i=dt(n,2);if(i==3){i=dt(n,2),i=[24e3,22060,16e3][i];var o=3}else i=[48e3,44100,32e3][i],o=dt(n,2);var a=dt(n,3),f=dt(n,1);return n=dt(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][o])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,i<<6|n<<1|0,0|a<<1|f<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][a]+f,ra:e,ea:r})}function lo(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=lo.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?bn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,r){e=Ze(e);for(var i=bu(e),o=i.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var a=1e3*n.endTime;i=uu(i),i.length&&n&&(i=i.find(function(m){return m.description==="com.apple.streaming.transportStreamTimestamp"}))&&(a=i.data),i=0;for(var f=new Uint8Array([]),p=[];o<e.length;){var g=ax(e,o);if(!g)return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=g.sampleRate,t.channelsCount=g.channelCount,i=g.sampleRate,f=g.ra,p.push({data:e.subarray(o,o+g.ea),size:g.ea,duration:1536,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),o+=g.ea}return e=Math.floor(a*i/1e3),r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,kb:[],ra:f,ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.h,baseMediaDecodeTime:e,ib:p},stream:t},r=new Mf([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Lf(r),this.g.set(n,t)),n=this.i!==t,r=qp(r),this.i=t,this.h++,n?(t=nn(t,r),Promise.resolve(t)):Promise.resolve(r)},Re("shaka.transmuxer.Ec3Transmuxer",lo),lo.prototype.transmux=lo.prototype.transmux,lo.prototype.getOriginalMimeType=lo.prototype.getOriginalMimeType,lo.prototype.convertCodecs=lo.prototype.convertCodecs,lo.prototype.isSupported=lo.prototype.isSupported,lo.prototype.destroy=lo.prototype.destroy,ui("audio/ec3",function(){return new lo("audio/ec3")},Vo);function QA(e){if(!e.length)return null;var t=e.find(function(R){return R.type==7});if(e=e.find(function(R){return R.type==8}),!t||!e)return null;var n=new Ao(t.data),r=Ct(n);if(Ct(n),Ct(n),nr(n),eP.includes(r)&&(r=Pe(n),r===3&&Cr(n,1),nr(n),nr(n),Cr(n,1),Be(n))){r=r!==3?8:12;for(var i=0;i<r;i++)Be(n)&&(6>i?ps(n,16):ps(n,64))}if(nr(n),r=Pe(n),r===0)Pe(n);else if(r===1)for(Cr(n,1),nr(n),nr(n),r=Pe(n),i=0;i<r;i++)nr(n);nr(n),Cr(n,1);var o=Pe(n),a=Pe(n),f=dt(n,1);f===0&&Cr(n,1),Cr(n,1);var p=0,g=0,m=0,w=0;if(Be(n)&&(p=Pe(n),g=Pe(n),m=Pe(n),w=Pe(n)),i=r=1,Be(n)&&Be(n)){var E=Ct(n),C=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],P=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<E&&16>=E?(r=C[E-1],i=P[E-1]):E===255&&(r=dt(n,16),i=dt(n,16))}return n=(2-f)*(a+1)*16-2*m-2*w,o=16*(o+1)-2*p-2*g,p=[],t=t.fullData,p.push(t.byteLength>>>8&255),p.push(t.byteLength&255),p=p.concat.apply(p,te(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,te(e)),e=new Uint8Array([1,p[3],p[4],p[5],255,225].concat(p,[1],t)),{height:n,width:o,ya:e,Ea:r,Ga:i}}function ZA(e){function t(P){i={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:P.pts,dts:P.dts,nalus:[]}}function n(){if(i&&i.nalus.length&&i.frame){for(var P=[],R=T(i.nalus),O=R.next();!O.done;O=R.next()){O=O.value;var j=O.fullData.byteLength,_=new Uint8Array(4);_[0]=j>>24&255,_[1]=j>>16&255,_[2]=j>>8&255,_[3]=j&255,P.push(_),P.push(O.fullData)}i.data=nn.apply(ur,te(P)),r.push(i)}}for(var r=[],i=null,o=!1,a=0;a<e.length;a++){var f=e[a],p=f.nalus,g=!1;i&&p.length&&!o&&(n(),t(f)),p=T(f.nalus);for(var m=p.next();!m.done;m=p.next()){m=m.value;var w=!1;switch(m.type){case 1:var E=!1;w=!0;var C=m.data;g&&4<C.length&&(C=Gd(new Ao(C)),C===2||C===4||C===7||C===9)&&(E=!0),E&&i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(f),i.frame=!0,i.isKeyframe=E;break;case 5:w=!0,i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||t(f),i.frame=!0,i.isKeyframe=!0;break;case 6:w=!0;break;case 7:g=w=!0;break;case 8:w=!0;break;case 9:o=w=!0,i&&i.frame&&(n(),i=null),i||t(f);break;case 12:w=!0;break;default:w=!1}i&&w&&i.nalus.push(m)}}return n(),r}var eP=[100,110,122,244,44,83,86,118,128,138,139,134];function tP(e){if(!e.length)return null;var t=e.find(function(a){return a.type==32}),n=e.find(function(a){return a.type==33}),r=e.find(function(a){return a.type==34});if(!t||!n||!r)return null;var i=nP(t.fullData);e=rP(n.fullData);var o=iP(r.fullData);return t=oP(t.fullData,n.fullData,r.fullData,{Kf:i.Kf,gg:i.gg,qf:e.qf,rf:e.rf,jf:e.jf,pf:e.pf,kf:e.kf,lf:e.lf,mf:e.mf,nf:e.nf,cf:e.cf,df:e.df,ef:e.ef,ff:e.ff,gf:e.gf,hf:e.hf,We:e.We,ge:e.ge,Ue:e.Ue,Te:e.Te,Se:e.Se,Nf:o.Nf}),{height:e.height,width:e.width,ya:t,Ea:e.ij,Ga:e.hj}}function nP(e){var t=new Ao(e,!0);return Ct(t),Ct(t),dt(t,4),dt(t,2),dt(t,6),e=dt(t,3),t=Be(t),{Kf:e+1,gg:t}}function rP(e){e=new Ao(e,!0),Ct(e),Ct(e);var t=0,n=0,r=0,i=0;dt(e,4);var o=dt(e,3);Be(e);for(var a=dt(e,2),f=dt(e,1),p=dt(e,5),g=Ct(e),m=Ct(e),w=Ct(e),E=Ct(e),C=Ct(e),P=Ct(e),R=Ct(e),O=Ct(e),j=Ct(e),_=Ct(e),K=Ct(e),G=[],W=[],q=0;q<o;q++)G.push(Be(e)),W.push(Be(e));if(0<o)for(q=o;8>q;q++)dt(e,2);for(q=0;q<o;q++)G[q]&&dt(e,88),W[q]&&Ct(e);Pe(e),G=Pe(e),G==3&&dt(e,1),W=Pe(e),q=Pe(e),Be(e)&&(t+=Pe(e),n+=Pe(e),r+=Pe(e),i+=Pe(e));var F=Pe(e),Q=Pe(e),H=Pe(e);if(Be(e))for(var Z=0;Z<=o;Z++)Pe(e),Pe(e),Pe(e);else Pe(e),Pe(e),Pe(e);if(Pe(e),Pe(e),Pe(e),Pe(e),Pe(e),Pe(e),Be(e)&&Be(e))for(Z=0;4>Z;Z++)for(var $=0;$<(Z===3?2:6);$++)if(Be(e)){var ie=Math.min(64,1<<4+(Z<<1));1<Z&&Nu(e);for(var fe=0;fe<ie;fe++)Nu(e)}else Pe(e);for(Be(e),Be(e),Be(e)&&(Ct(e),Pe(e),Pe(e),Be(e)),Z=Pe(e),ie=$=0;ie<Z;ie++)if(fe=!1,ie!==0&&(fe=Be(e)),fe){ie===Z&&Pe(e),Be(e),Pe(e);for(var re=fe=0;re<=$;re++){var ae=Be(e),me=!1;ae||(me=Be(e)),(ae||me)&&fe++}$=fe}else{for(re=Pe(e),fe=Pe(e),$=re+fe,ae=0;ae<re;ae++)Pe(e),Be(e);for(re=0;re<fe;re++)Pe(e),Be(e)}if(Be(e))for(Z=Pe(e),$=0;$<Z;$++){for(ie=0;ie<H+4;ie++)dt(e,1);dt(e,1)}if(Z=H=1,$=0,Be(e),Be(e),Be(e)){if(Be(e)&&(ie=Ct(e),fe=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],re=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<ie&&16>=ie?(H=fe[ie-1],Z=re[ie-1]):ie===255&&(H=dt(e,16),Z=dt(e,16))),Be(e)&&Be(e),Be(e)&&(dt(e,3),Be(e),Be(e)&&(Ct(e),Ct(e),Ct(e))),Be(e)&&(Pe(e),Pe(e)),Be(e),Be(e),Be(e),(ie=Be(e))&&(Pe(e),Pe(e),Pe(e),Pe(e)),Be(e)&&(dt(e,32),dt(e,32),Be(e)&&Pe(e),Be(e)))for(re=!1,ie=Be(e),fe=Be(e),(ie||fe)&&((re=Be(e))&&(Ct(e),dt(e,5),Be(e),dt(e,5)),dt(e,4),dt(e,4),re&&dt(e,4),dt(e,5),dt(e,5),dt(e,5)),ae=0;ae<=o;ae++){var ye=!0;me=1,Be(e)||(ye=Be(e));var Ce=!1;if(ye?Pe(e):Ce=Be(e),Ce||(me=Pe(e)+1),ie){for(ye=0;ye<me;ye++)Pe(e),Pe(e),re&&(Pe(e),Pe(e));Be(e)}if(fe){for(ye=0;ye<me;ye++)Pe(e),Pe(e),re&&(Pe(e),Pe(e));Be(e)}}Be(e)&&(Be(e),Be(e),Be(e),$=Pe(e),Pe(e),Pe(e),Pe(e),Pe(e))}return{jf:K,qf:a,rf:f,pf:p,kf:g,lf:m,mf:w,nf:E,cf:C,df:P,ef:R,ff:O,gf:j,hf:_,ge:$,We:0,Ue:G,Te:F,Se:Q,width:W-(t+n)*(G===1||G===2?2:1),height:q-(r+i)*(G===1?2:1),ij:H,hj:Z}}function iP(e){var t=new Ao(e,!0);Ct(t),Ct(t),Pe(t),Pe(t),Be(t),Be(t),dt(t,3),Be(t),Be(t),Pe(t),Pe(t),Nu(t),Be(t),Be(t),Be(t)&&Pe(t),Nu(t),Nu(t),Be(t),Be(t),Be(t),Be(t),e=Be(t),t=Be(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Nf:n}}function oP(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(r.qf&3)<<6|(r.rf?1:0)<<5|r.pf&31,i[2]=r.kf,i[3]=r.lf,i[4]=r.mf,i[5]=r.nf,i[6]=r.cf,i[7]=r.df,i[8]=r.ef,i[9]=r.ff,i[10]=r.gf,i[11]=r.hf,i[12]=r.jf,i[13]=240|(r.ge&3840)>>8,i[14]=r.ge&255,i[15]=252|r.Nf&3,i[16]=252|r.Ue&3,i[17]=248|r.Te&7,i[18]=248|r.Se&7,i[19]=0,i[20]=0,i[21]=(r.We&3)<<6|(r.Kf&7)<<3|(r.gg?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(e.byteLength&65280)>>8,i[27]=(e.byteLength&255)>>0,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(t.byteLength&65280)>>8,i[e.byteLength+32]=(t.byteLength&255)>>0,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,i[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,i.set(n,e.byteLength+10+t.byteLength+28),i}function xg(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&i!==0&&i!==15&&o!==3){var a=e[t+3]>>6;i=1e3*uP[14*(n===3?3-r:r===3?3:4)+i-1],o=lP[3*(n===3?0:n===2?1:2)+o],n=sP[n][r];var f=aP[r],p=Math.floor(n*i/o+(e[t+2]>>1&1))*f,g=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(g=g?parseInt(g[1],10):0)&&87>=g&&r===2&&224e3<=i&&a===0&&(e[t+3]|=128),{sampleRate:o,channelCount:a===3?1:2,ea:p,gj:8*n*f}}return null}function cx(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}function fx(e,t){if(t+1<e.length&&cx(e,t)){var n=xg(e,t),r=4;return n&&n.ea&&(r=n.ea),t+=r,t===e.length||t+1<e.length&&cx(e,t)}return!1}var uP=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],lP=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],sP=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],aP=[0,1,1,4];function so(e){this.j=e,this.h=0,this.g=new Map,this.i=null}h=so.prototype,h.destroy=function(){this.g.clear()},h.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?bn(this.convertCodecs("audio",e)):!1},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},h.getOriginalMimeType=function(){return this.j},h.transmux=function(e,t,n,r){for(var i=Ze(e),o=bu(i).length;o<i.length&&!fx(i,o);o++);var a;for(e=[];o<i.length;){var f=xg(i,o);if(!f)return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));a||(a=f),o+f.ea<=i.length&&e.push({data:i.subarray(o,o+f.ea),size:f.ea,duration:1152,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),o+=f.ea}return a?(i=9e4*a.gj/a.sampleRate*this.h,r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:a.sampleRate,duration:r,kb:[],ra:new Uint8Array([]),ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.h,baseMediaDecodeTime:i,ib:e},stream:t},r=new Mf([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=Lf(r),this.g.set(n,t)),n=this.i!==t,r=qp(r),this.i=t,this.h++,n?(t=nn(t,r),Promise.resolve(t)):Promise.resolve(r)):Promise.reject(new X(2,3,3018,n?n.N()[0]:null))},Re("shaka.transmuxer.Mp3Transmuxer",so),so.prototype.transmux=so.prototype.transmux,so.prototype.getOriginalMimeType=so.prototype.getOriginalMimeType,so.prototype.convertCodecs=so.prototype.convertCodecs,so.prototype.isSupported=so.prototype.isSupported,so.prototype.destroy=so.prototype.destroy,ui("audio/mpeg",function(){return new so("audio/mpeg")},Vo);function ao(e){this.h=e,this.g=null}h=ao.prototype,h.destroy=function(){},h.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=Tr(e).split(","),n=lr("audio",t);return t=lr("video",t),!n||t||Rn(n)!="mp3"?!1:bn(this.convertCodecs("audio",e))},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},h.getOriginalMimeType=function(){return this.h},h.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new Wt,e=Ze(e),e=this.g.parse(e),e.kd().audio!="mp3"||i!="audio")return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=T(e.fb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=xg(e,t))?(t+r.ea<=e.length&&(n=nn(n,e.subarray(t,t+r.ea))),t+=r.ea):t++;return Promise.resolve(n)},Re("shaka.transmuxer.MpegTsTransmuxer",ao),ao.prototype.transmux=ao.prototype.transmux,ao.prototype.getOriginalMimeType=ao.prototype.getOriginalMimeType,ao.prototype.convertCodecs=ao.prototype.convertCodecs,ao.prototype.isSupported=ao.prototype.isSupported,ao.prototype.destroy=ao.prototype.destroy,ui("video/mp2t",function(){return new ao("video/mp2t")},gc);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Ki(e){this.h=e,(this.g=om.get("ISOBoxer")())&&cP(this)}function cP(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(r){this._procEntryField(r,"BytesOfClearData","uint",16),this._procEntryField(r,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,r=0;16>r;r++)this.usertype[r]!==fP[r]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}h=Ki.prototype,h.destroy=function(){},h.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?bn(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),bn(t)||bn(e))},h.convertCodecs=function(e,t){return t.replace("mss/","")},h.getOriginalMimeType=function(){return this.h},h.transmux=function(e,t,n){if(!n)return Promise.resolve(Ze(e));if(!t.mssPrivateData)return Promise.reject(new X(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),o=i.fetch("tfhd");o.track_ID=t.id+1;var a=i.fetch("tfdt"),f=i.fetch("traf");a===null&&(a=this.g.createFullBox("tfdt",f,o),a.version=1,a.flags=0,a.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var p=i.fetch("trun"),g=i.fetch("tfxd");g&&g._parent.boxes.splice(g._parent.boxes.indexOf(g),1);var m=i.fetch("tfrf");m&&m._parent.boxes.splice(m._parent.boxes.indexOf(m),1);var w=i.fetch("sepiff");if(w!==null){w.type="senc",w.usertype=void 0;var E=i.fetch("saio");if(E===null){E=this.g.createFullBox("saio",f),E.version=0,E.flags=0,E.entry_count=1,E.offset=[0];var C=this.g.createFullBox("saiz",f);if(C.version=0,C.flags=0,C.sample_count=w.sample_count,C.default_sample_info_size=0,C.sample_info_size=[],w.flags&2)for(r=0;r<w.sample_count;r+=1)C.sample_info_size[r]=10+6*w.entry[r].NumberOfEntries;else C.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,p.flags|=1;var P=i.fetch("moof");p.data_offset=P.getLength()+8;var R=i.fetch("saio");R!==null&&(R.offset[0]=dx(P,"traf")+dx(f,"senc")+16);var O=Ze(i.write());return Promise.resolve(O)}catch(j){return j instanceof X?Promise.reject(j):Promise.reject(new X(2,3,3022,n?n.N()[0]:null))}};function dx(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}Re("shaka.transmuxer.MssTransmuxer",Ki),Ki.prototype.transmux=Ki.prototype.transmux,Ki.prototype.getOriginalMimeType=Ki.prototype.getOriginalMimeType,Ki.prototype.convertCodecs=Ki.prototype.convertCodecs,Ki.prototype.isSupported=Ki.prototype.isSupported,Ki.prototype.destroy=Ki.prototype.destroy;var fP=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);ui("mss/audio/mp4",function(){return new Ki("mss/audio/mp4")},Vo),ui("mss/video/mp4",function(){return new Ki("mss/video/mp4")},Vo);function co(e){this.m=e,this.g=0,this.i=new Map,this.l=this.h=this.j=null}h=co.prototype,h.destroy=function(){this.i.clear(),this.h&&this.h.destroy()},h.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=Tr(n).split(",");return n=lr("audio",r),r=lr("video",r),n&&(n=Rn(n),!dP.includes(n))||r&&(n=Rn(r),!pP.includes(n))?!1:t?bn(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),bn(t)||bn(e))},h.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=Tr(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return ai(n,"audio/mp4")}).map(ll).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},h.getOriginalMimeType=function(){return this.m},h.transmux=function(e,t,n,r,i){var o=Ze(e);if(i=="audio"&&!hs(o)){for(var a=bu(o),f=a.length;f<o.length;f++)if(fx(o,f))return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));for(f=a.length;f<o.length;f++)if(lx(o,f))return this.h||(this.h=new Fi("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new X(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new Wt;var p=this.j.parse(o),g=[],m=p.kd();try{var w=null;if(i=="video"){switch(m.video){case"avc":var E=[],C=null,P=p.tc(),R=ZA(P);if(!R.length)throw new X(2,3,3023,n?n.N()[0]:null);for(var O=0;O<R.length;O++){var j=R[O];C==null&&(C=j.dts);var _=void 0;_=O+1<R.length?(R[O+1].dts||0)-(j.dts||0):1<R.length?(j.dts||0)-(R[O-1].dts||0):9e4*(n.endTime-n.startTime),E.push({data:j.data,size:j.data.byteLength,duration:_,eb:Math.round((j.pts||0)-(j.dts||0)),flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:j.isKeyframe?2:1,hb:j.isKeyframe?0:1}})}for(var K=[],G=T(P),W=G.next();!W.done;W=G.next())K.push.apply(K,te(W.value.nalus));var q=QA(K);if(!q||C==null)throw new X(2,3,3018,n?n.N()[0]:null);t.height=q.height,t.width=q.width,w={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,kb:[],ra:new Uint8Array([]),ya:q.ya,Ea:q.Ea,Ga:q.Ga,data:{Bb:this.g,baseMediaDecodeTime:C,ib:E},stream:t};break;case"hvc":var F=[],Q=null,H=[],Z=p.tc();if(!Z.length)throw new X(2,3,3023,n?n.N()[0]:null);for(var $=0;$<Z.length;$++){var ie=Z[$],fe=ie.nalus;H.push.apply(H,te(fe));for(var re=!1,ae=[],me=!1,ye=T(fe),Ce=ye.next();!Ce.done;Ce=ye.next()){var _e=Ce.value;switch(_e.type){case 1:case 0:var Ve=me=!0;break;case 19:case 20:case 21:re=Ve=me=!0;break;case 32:Ve=!0;break;case 33:Ve=!0;break;case 34:Ve=!0;break;case 35:me=Ve=!0;break;case 39:case 40:Ve=!0;break;default:Ve=!1}if(me&&Ve){var yt=_e.fullData.byteLength,pt=new Uint8Array(4);pt[0]=yt>>24&255,pt[1]=yt>>16&255,pt[2]=yt>>8&255,pt[3]=yt&255,ae.push(pt),ae.push(_e.fullData)}}var ze=ae.length?{data:nn.apply(ur,te(ae)),isKeyframe:re}:null;if(ze){Q==null&&ie.dts!=null&&(Q=ie.dts);var Ft=void 0;Ft=$+1<Z.length?(Z[$+1].dts||0)-(ie.dts||0):1<Z.length?(ie.dts||0)-(Z[$-1].dts||0):9e4*(n.endTime-n.startTime),F.push({data:ze.data,size:ze.data.byteLength,duration:Ft,eb:Math.round((ie.pts||0)-(ie.dts||0)),flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:ze.isKeyframe?2:1,hb:ze.isKeyframe?0:1}})}}var Pt=tP(H);if(!Pt||Q==null)throw new X(2,3,3018,n?n.N()[0]:null);t.height=Pt.height,t.width=Pt.width,w={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,kb:[],ra:new Uint8Array([]),ya:Pt.ya,Ea:Pt.Ea,Ga:Pt.Ga,data:{Bb:this.g,baseMediaDecodeTime:Q,ib:F},stream:t}}w&&(g.push(w),w=null)}if(i=="audio"){switch(m.audio){case"aac":for(var ot=[],Xt,Ht=null,lt=null,wn=null,ti=T(p.fb()),kn=ti.next();!kn.done;kn=ti.next()){var En=kn.value,On=En.data;if(On){var qn=0;if(lt==-1&&wn)On=nn(wn,En.data),lt=null;else if(lt!=null&&wn){qn=Math.max(0,lt);var Qa=nn(wn,On.subarray(0,qn));ot.push({data:Qa,size:Qa.byteLength,duration:1024,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),lt=wn=null}if(Xt=ux(On,qn),!Xt)throw new X(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=Xt.sampleRate,t.channelsCount=Xt.channelCount,Ht==null&&En.pts!==null&&(Ht=En.pts);qn<On.length;){var Ll=ox(On,qn);if(!Ll){wn=On.subarray(qn,On.length),lt=-1;break}var Ps=Ll.rd+Ll.ea;lt=Math.max(0,qn+Ps-On.length),lt!=0?wn=On.subarray(qn+Ll.rd,qn+Ps):qn+Ps<=On.length&&ot.push({data:On.subarray(qn+Ll.rd,qn+Ps),size:Ll.ea,duration:1024,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),qn+=Ps}}}if(!Xt||Ht==null){if(!p.tc().length)throw new X(2,3,3018,n?n.N()[0]:null);Ht=9e4*n.startTime;var fo=lr("audio",t.codecs.split(","));if(!fo||!t.channelsCount||!t.audioSamplingRate)throw new X(2,3,3018,n?n.N()[0]:null);Xt={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:fo};var i0=$A(fo,t.channelsCount);if(!i0)throw new X(2,3,3018,n?n.N()[0]:null);for(var SP=Ht+9e4*(n.endTime-n.startTime),kx=Ht;kx<SP;)ot.push({data:i0,size:i0.byteLength,duration:1024,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),kx+=1024/Xt.sampleRate*9e4}var Ax=Xt.sampleRate,wP=Ht/9e4*Ax;w={id:t.id,type:"audio",codecs:Xt.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ax,duration:r,kb:[],ra:new Uint8Array([]),ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.g,baseMediaDecodeTime:wP,ib:ot},stream:t};break;case"ac3":for(var Px=[],Eg=0,o0=new Uint8Array([]),Cg=null,Dx=T(p.fb()),u0=Dx.next();!u0.done;u0=Dx.next()){var l0=u0.value,s0=l0.data;Cg==null&&l0.pts!==null&&(Cg=l0.pts);for(var Uf=0;Uf<s0.length;){var Ds=sx(s0,Uf);Ds?(t.audioSamplingRate=Ds.sampleRate,t.channelsCount=Ds.channelCount,Eg=Ds.sampleRate,o0=Ds.ra,Px.push({data:s0.subarray(Uf,Uf+Ds.ea),size:Ds.ea,duration:1536,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),Uf+=Ds.ea):Uf++}}if(Eg==0||o0.byteLength==0||Cg==null)throw new X(2,3,3018,n?n.N()[0]:null);var TP=Cg/9e4*Eg;w={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Eg,duration:r,kb:[],ra:o0,ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.g,baseMediaDecodeTime:TP,ib:Px},stream:t};break;case"ec3":for(var Ox=[],kg=0,a0=new Uint8Array([]),Ag=null,Rx=T(p.fb()),c0=Rx.next();!c0.done;c0=Rx.next()){var f0=c0.value,d0=f0.data;Ag==null&&f0.pts!==null&&(Ag=f0.pts);for(var jf=0;jf<d0.length;){var Os=ax(d0,jf);Os?(t.audioSamplingRate=Os.sampleRate,t.channelsCount=Os.channelCount,kg=Os.sampleRate,a0=Os.ra,Ox.push({data:d0.subarray(jf,jf+Os.ea),size:Os.ea,duration:1536,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),jf+=Os.ea):jf++}}if(kg==0||a0.byteLength==0||Ag==null)throw new X(2,3,3018,n?n.N()[0]:null);var xP=Ag/9e4*kg;w={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:kg,duration:r,kb:[],ra:a0,ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.g,baseMediaDecodeTime:xP,ib:Ox},stream:t};break;case"mp3":for(var Mx=[],Pg,Dg=null,Lx=T(p.fb()),p0=Lx.next();!p0.done;p0=Lx.next()){var h0=p0.value,eh=h0.data;if(eh){Dg==null&&h0.pts!==null&&(Dg=h0.pts);for(var Za=0;Za<eh.length;){var Bf=xg(eh,Za);Bf?(Pg||(Pg=Bf),Za+Bf.ea<=eh.length&&Mx.push({data:eh.subarray(Za,Za+Bf.ea),size:Bf.ea,duration:1152,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),Za+=Bf.ea):Za++}}}if(!Pg||Dg==null)throw new X(2,3,3018,n?n.N()[0]:null);var bx=Pg.sampleRate,IP=Dg/9e4*bx;w={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:bx,duration:r,kb:[],ra:new Uint8Array([]),ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.g,baseMediaDecodeTime:IP,ib:Mx},stream:t};break;case"opus":var Nx=[],Og=null,Hu=p.F;if(!Hu)throw new X(2,3,3018,n?n.N()[0]:null);var Fr=[];switch(Hu.Rh){case 1:case 2:Fr=[0];break;case 0:Fr=[255,1,1,0,1];break;case 128:Fr=[255,2,0,0,1];break;case 3:Fr=[1,2,1,0,2,1];break;case 4:Fr=[1,2,2,0,1,2,3];break;case 5:Fr=[1,3,2,0,4,1,2,3];break;case 6:Fr=[1,4,2,0,4,1,2,3,5];break;case 7:Fr=[1,4,2,0,4,1,2,3,5,6];break;case 8:Fr=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Fr=[1,1,2,0,1];break;case 131:Fr=[1,1,3,0,1,2];break;case 132:Fr=[1,1,4,0,1,2,3];break;case 133:Fr=[1,1,5,0,1,2,3,4];break;case 134:Fr=[1,1,6,0,1,2,3,4,5];break;case 135:Fr=[1,1,7,0,1,2,3,4,5,6];break;case 136:Fr=[1,1,8,0,1,2,3,4,5,6,7]}for(var _x=new Uint8Array([0,Hu.channelCount,0,0,Hu.sampleRate>>>24&255,Hu.sampleRate>>>17&255,Hu.sampleRate>>>8&255,Hu.sampleRate>>>0&255,0,0].concat(te(Fr))),Ux=Hu.sampleRate,jx=T(p.fb()),y0=jx.next();!y0.done;y0=jx.next()){var g0=y0.value,Vf=g0.data;Og==null&&g0.pts!==null&&(Og=g0.pts);for(var th=0;th<Vf.length;){for(var EP=(Vf[th+1]&16)!==0,CP=(Vf[th+1]&8)!==0,bl=th+2,Rg=0;Vf[bl]===255;)Rg+=255,bl+=1;Rg+=Vf[bl],bl+=1,bl+=EP?2:0,bl+=CP?2:0;var Bx=Vf.slice(bl,bl+Rg);Nx.push({data:Bx,size:Bx.byteLength,duration:960,eb:0,flags:{gb:0,Wa:0,Va:0,Ta:0,Ua:2,hb:0}}),th=bl+Rg}}if(_x.byteLength==0||Og==null)throw new X(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=Hu.sampleRate,t.channelsCount=Hu.channelCount;var kP=Og/9e4*Ux;w={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:Ux,duration:r,kb:[],ra:_x,ya:new Uint8Array([]),Ea:0,Ga:0,data:{Bb:this.g,baseMediaDecodeTime:kP,ib:Nx},stream:t}}w&&(g.push(w),w=null)}}catch(m0){return m0&&m0.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(m0)}if(!g.length)return Promise.reject(new X(2,3,3018,n?n.N()[0]:null));var Vx=new Mf(g),v0=t.id+"_"+n.i;if(this.i.has(v0))var nh=this.i.get(v0);else nh=Lf(Vx),this.i.set(v0,nh);var AP=this.l!==nh,Fx=qp(Vx);if(this.l=nh,this.g++,AP){var PP=nn(nh,Fx);return Promise.resolve(PP)}return Promise.resolve(Fx)},Re("shaka.transmuxer.TsTransmuxer",co),co.prototype.transmux=co.prototype.transmux,co.prototype.getOriginalMimeType=co.prototype.getOriginalMimeType,co.prototype.convertCodecs=co.prototype.convertCodecs,co.prototype.isSupported=co.prototype.isSupported,co.prototype.destroy=co.prototype.destroy;var dP=["aac","ac-3","ec-3","mp3","opus"],pP=["avc","hevc"];ui("video/mp2t",function(){return new co("video/mp2t")},vc);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function px(){}var Qp;function hx(){Qp||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Qp=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=hP,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function hP(e,t){var n=this,r;return z(function(i){return i.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),L(i,Qp.call(n,e,t),2)):(r=i.h,xx(r)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Qp,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=yx,i.return(yx.call(n,e,t))))})}function yx(e,t){var n=this,r,i,o,a,f,p,g,m,w,E,C,P;return z(function(R){if(R.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),r=Tx(e),i=[],o=T(t),a=o.next();!a.done;a=o.next())f=a.value,p=gx(f.videoCapabilities,r),g=gx(f.audioCapabilities,r),f.videoCapabilities&&f.videoCapabilities.length&&!p.length||f.audioCapabilities&&f.audioCapabilities.length&&!g.length||(m=Object.assign({},f),m.videoCapabilities=p,m.audioCapabilities=g,i.push(m));if(!i.length)throw w=Error("Unsupported keySystem or supportedConfigurations."),w.name="NotSupportedError",w.code=DOMException.NOT_SUPPORTED_ERR,w;return L(R,Qp.call(n,e,i),2)}return E=R.h,P=C=null,i[0]&&(i[0].videoCapabilities&&(C=i[0].videoCapabilities[0].encryptionScheme),i[0].audioCapabilities&&(P=i[0].audioCapabilities[0].encryptionScheme)),R.return(new Ig(E,C,P))})}function gx(e,t){return e&&e.filter(function(n){return t0(n.encryptionScheme,t)})}Re("EmeEncryptionSchemePolyfill",px),px.install=hx;function vx(){}var Zp;function mx(){Zp||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Zp=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=yP,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function yP(e){var t=this,n,r;return z(function(i){switch(i.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),L(i,Zp.call(t,e),2);case 2:if(n=i.h,!e.keySystemConfiguration)return i.return(n);if((r=n.keySystemAccess)&&xx(r))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Zp,i.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Sx,r){i.u(3);break}return L(i,wx(e),4);case 4:return n.keySystemAccess=i.h,i.return(n);case 3:return i.return(Sx.call(t,e))}})}function Sx(e){var t=this,n,r,i,o,a,f,p;return z(function(g){switch(g.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=n=null,!e.keySystemConfiguration||(i=e.keySystemConfiguration,o=i.keySystem,r=i.audio&&i.audio.encryptionScheme,n=i.video&&i.video.encryptionScheme,a=Tx(o),f={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},t0(r,a)&&t0(n,a))?L(g,Zp.call(t,e),2):g.return(f);case 2:if(p=g.h,p.keySystemAccess){p.keySystemAccess=new Ig(p.keySystemAccess,n,r),g.u(3);break}if(!e.keySystemConfiguration){g.u(3);break}return L(g,wx(e),5);case 5:p.keySystemAccess=g.h;case 3:return g.return(p)}})}function wx(e){var t,n;return z(function(r){if(r.g==1){var i=e.keySystemConfiguration,o=[],a=[];return i.audio&&o.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&a.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(i.audioCapabilities=o),a.length&&(i.videoCapabilities=a),t=i,L(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)})}Re("McEncryptionSchemePolyfill",vx),vx.install=mx;function Ig(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}Ig.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=T(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(t=T(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},Ig.prototype.createMediaKeys=function(){return this.g.createMediaKeys()};function Tx(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":e.startsWith("com.huawei")?"cenc":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function xx(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function t0(e,t){return!!(!e||e==t||(e=="cbcs"||e=="cbcs-1-9")&&(vP||mP||gP))}function n0(){}function Ix(){hx(),mx()}Re("EncryptionSchemePolyfills",n0),n0.install=Ix;var gP=navigator.userAgent.includes("CrKey"),vP=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),r0,Ex=navigator.userAgent||"";if(Ex.includes("Web0S")){var Cx=Ex.match(/Chrome\/(\d+)/);r0=Cx?79<=parseInt(Cx[1],10):!1}else r0=!1;var mP=r0;typeof M<"u"&&M.exports&&(M.exports=n0)}).call(U,N,N,void 0);for(var I in U.shaka)b[I]=U.shaka[I]})()}(A0)),A0}var M3=R3();const L3=RP(M3);function b3(){const[b,N]=we.useState(""),[U,I]=we.useState(""),[x,V]=we.useState(""),M=we.useRef(null),h=()=>{if(b&&U&&x){const s=U.split(`
`).map(Y=>Y.trim()),l=x.split(`
`).map(Y=>Y.trim());if(s.length!==l.length){console.error("The number of KIDs and Keys must be the same.");return}const d=new L3.Player(M.current),v={drm:{clearKeys:{}}};s.forEach((Y,T)=>{v.drm.clearKeys[Y]=l[T]}),console.log("Configuring player with the following DRM config:",v),d.configure(v);const A=b;d.load(A).then(()=>{console.log("Shaka Player loaded successfully."),M.current.play()}).catch(Y=>{console.error("Error loading the stream:",Y)})}};return ge.jsx("div",{className:"min-w-full w-full min-h-full h-full bg-zinc-900 shadow-lg shadow-black flex flex-row overflow-y-auto pt-5 pl-5 pr-5 items-center justify-around",children:ge.jsxs("div",{className:"min-8/10 w-8/10 min-h-8/10 h-8/10 flex flex-row overflow-y-auto items-center justify-around border shadow-lg shadow-red-700 rounded-2xl",children:[ge.jsx("div",{className:"w-7/10 h-7/10 border border-black rounded-2xl p-5 bg-[rgba(0,0,0,0.2)] shadow-lg shadow-black",children:ge.jsx("video",{ref:M,className:"w-full h-full",controls:!0})}),ge.jsx("div",{className:"w-2/10 h-7/10 flex flex-col border border-black rounded-2xl p-5 bg-[rgba(0,0,0,0.2)] shadow-lg shadow-black focus-within:w-3/10 transition-all duration-300 ease-in-out",children:ge.jsxs("form",{className:"h-full flex flex-col gap-2",children:[ge.jsx("input",{type:"text",placeholder:"MPD URL",id:"player_mpd",name:"player_mpd",value:b,onChange:s=>N(s.target.value),className:"text-white bg-[rgba(0,0,0,0.2)] focus:outline-none rounded focus:shadow-sm focus:shadow-red-700/50 transition-all duration-300 ease-in-out p-2"}),ge.jsx("textarea",{placeholder:"KIDs, separated by new lines",id:"player_kid",name:"player_kid",value:U,onChange:s=>I(s.target.value),className:"text-white bg-[rgba(0,0,0,0.2)] focus:outline-none rounded h-1/4 focus:h-1/3 overflow-y-auto focus:shadow-sm focus:shadow-red-700/50 transition-all duration-300 ease-in-out p-2 resize-none"}),ge.jsx("textarea",{placeholder:"Keys, separated by new lines",id:"player_key",name:"player_key",value:x,onChange:s=>V(s.target.value),className:"text-white bg-[rgba(0,0,0,0.2)] focus:outline-none rounded h-1/4 focus:h-1/3 focus:shadow-sm focus:shadow-red-700/50 transition-all duration-300 ease-in-out p-2 resize-none"}),ge.jsx("button",{type:"button",onClick:h,className:"mt-auto bg-white text-black rounded p-2 hover:bg-slate-200 transition-colors duration-300 ease-in-out w-full cursor-pointer active:transform active:scale-95 overflow-x-hidden overflow-y-hidden",children:"Submit"})]})})]})})}function N3(){return ge.jsx(t3,{children:ge.jsxs("div",{className:"flex flex-row",children:[ge.jsx("div",{className:"w-1/8 h-dvh overflow-y-auto",children:ge.jsx(y3,{})}),ge.jsx("div",{className:"w-7/8 h-dvh overflow-y-auto scroll-smooth",id:"main_content",children:ge.jsxs(RD,{children:[ge.jsx(uh,{path:"/",element:ge.jsx(A3,{})}),ge.jsx(uh,{path:"/api",element:ge.jsx(D3,{})}),ge.jsx(uh,{path:"/testplayer",element:ge.jsx(b3,{})}),ge.jsx(uh,{path:"/cache",element:ge.jsx(O3,{})})]})})]})})}function _3(){return ge.jsx(ge.Fragment,{children:ge.jsx(N3,{})})}VP.createRoot(document.getElementById("root")).render(ge.jsx(we.StrictMode,{children:ge.jsx(_3,{})}))});export default U3();
